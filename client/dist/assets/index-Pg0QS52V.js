var Fx=e=>{throw TypeError(e)};var Bs=(e,t,r)=>t.has(e)?Fx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r);function Xm(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in e)){const c=Object.getOwnPropertyDescriptor(o,s);c&&Object.defineProperty(e,s,c.get?c:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}})();var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zm={exports:{}},Hu={},ey={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aa=Symbol.for("react.element"),zx=Symbol.for("react.portal"),Bx=Symbol.for("react.fragment"),Ux=Symbol.for("react.strict_mode"),jx=Symbol.for("react.profiler"),Hx=Symbol.for("react.provider"),Wx=Symbol.for("react.context"),$x=Symbol.for("react.forward_ref"),Kx=Symbol.for("react.suspense"),Gx=Symbol.for("react.memo"),Vx=Symbol.for("react.lazy"),cv=Symbol.iterator;function Jx(e){return e===null||typeof e!="object"?null:(e=cv&&e[cv]||e["@@iterator"],typeof e=="function"?e:null)}var ty={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ny=Object.assign,ry={};function es(e,t,r){this.props=e,this.context=t,this.refs=ry,this.updater=r||ty}es.prototype.isReactComponent={};es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function iy(){}iy.prototype=es.prototype;function sh(e,t,r){this.props=e,this.context=t,this.refs=ry,this.updater=r||ty}var ah=sh.prototype=new iy;ah.constructor=sh;ny(ah,es.prototype);ah.isPureReactComponent=!0;var fv=Array.isArray,oy=Object.prototype.hasOwnProperty,lh={current:null},sy={key:!0,ref:!0,__self:!0,__source:!0};function ay(e,t,r){var o,s={},c=null,f=null;if(t!=null)for(o in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(c=""+t.key),t)oy.call(t,o)&&!sy.hasOwnProperty(o)&&(s[o]=t[o]);var p=arguments.length-2;if(p===1)s.children=r;else if(1<p){for(var v=Array(p),y=0;y<p;y++)v[y]=arguments[y+2];s.children=v}if(e&&e.defaultProps)for(o in p=e.defaultProps,p)s[o]===void 0&&(s[o]=p[o]);return{$$typeof:Aa,type:e,key:c,ref:f,props:s,_owner:lh.current}}function Qx(e,t){return{$$typeof:Aa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Aa}function Yx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dv=/\/+/g;function cf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yx(""+e.key):t.toString(36)}function Hl(e,t,r,o,s){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(c){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case Aa:case zx:f=!0}}if(f)return f=e,s=s(f),e=o===""?"."+cf(f,0):o,fv(s)?(r="",e!=null&&(r=e.replace(dv,"$&/")+"/"),Hl(s,t,r,"",function(y){return y})):s!=null&&(uh(s)&&(s=Qx(s,r+(!s.key||f&&f.key===s.key?"":(""+s.key).replace(dv,"$&/")+"/")+e)),t.push(s)),1;if(f=0,o=o===""?".":o+":",fv(e))for(var p=0;p<e.length;p++){c=e[p];var v=o+cf(c,p);f+=Hl(c,t,r,v,s)}else if(v=Jx(e),typeof v=="function")for(e=v.call(e),p=0;!(c=e.next()).done;)c=c.value,v=o+cf(c,p++),f+=Hl(c,t,r,v,s);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function bl(e,t,r){if(e==null)return e;var o=[],s=0;return Hl(e,o,"","",function(c){return t.call(r,c,s++)}),o}function Xx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},Wl={transition:null},qx={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Wl,ReactCurrentOwner:lh};function ly(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:bl,forEach:function(e,t,r){bl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bl(e,function(){t++}),t},toArray:function(e){return bl(e,function(t){return t})||[]},only:function(e){if(!uh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=es;ke.Fragment=Bx;ke.Profiler=jx;ke.PureComponent=sh;ke.StrictMode=Ux;ke.Suspense=Kx;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qx;ke.act=ly;ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=ny({},e.props),s=e.key,c=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,f=lh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(v in t)oy.call(t,v)&&!sy.hasOwnProperty(v)&&(o[v]=t[v]===void 0&&p!==void 0?p[v]:t[v])}var v=arguments.length-2;if(v===1)o.children=r;else if(1<v){p=Array(v);for(var y=0;y<v;y++)p[y]=arguments[y+2];o.children=p}return{$$typeof:Aa,type:e.type,key:s,ref:c,props:o,_owner:f}};ke.createContext=function(e){return e={$$typeof:Wx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hx,_context:e},e.Consumer=e};ke.createElement=ay;ke.createFactory=function(e){var t=ay.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:$x,render:e}};ke.isValidElement=uh;ke.lazy=function(e){return{$$typeof:Vx,_payload:{_status:-1,_result:e},_init:Xx}};ke.memo=function(e,t){return{$$typeof:Gx,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=Wl.transition;Wl.transition={};try{e()}finally{Wl.transition=t}};ke.unstable_act=ly;ke.useCallback=function(e,t){return Jt.current.useCallback(e,t)};ke.useContext=function(e){return Jt.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};ke.useEffect=function(e,t){return Jt.current.useEffect(e,t)};ke.useId=function(){return Jt.current.useId()};ke.useImperativeHandle=function(e,t,r){return Jt.current.useImperativeHandle(e,t,r)};ke.useInsertionEffect=function(e,t){return Jt.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return Jt.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return Jt.current.useMemo(e,t)};ke.useReducer=function(e,t,r){return Jt.current.useReducer(e,t,r)};ke.useRef=function(e){return Jt.current.useRef(e)};ke.useState=function(e){return Jt.current.useState(e)};ke.useSyncExternalStore=function(e,t,r){return Jt.current.useSyncExternalStore(e,t,r)};ke.useTransition=function(){return Jt.current.useTransition()};ke.version="18.3.1";ey.exports=ke;var X=ey.exports;const Zx=qm(X),ek=Xm({__proto__:null,default:Zx},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk=X,nk=Symbol.for("react.element"),rk=Symbol.for("react.fragment"),ik=Object.prototype.hasOwnProperty,ok=tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sk={key:!0,ref:!0,__self:!0,__source:!0};function uy(e,t,r){var o,s={},c=null,f=null;r!==void 0&&(c=""+r),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(f=t.ref);for(o in t)ik.call(t,o)&&!sk.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)s[o]===void 0&&(s[o]=t[o]);return{$$typeof:nk,type:e,key:c,ref:f,props:s,_owner:ok.current}}Hu.Fragment=rk;Hu.jsx=uy;Hu.jsxs=uy;Zm.exports=Hu;var Be=Zm.exports,cy={exports:{}},Cn={},fy={exports:{}},dy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,ue){var pe=ee.length;ee.push(ue);e:for(;0<pe;){var Ee=pe-1>>>1,Me=ee[Ee];if(0<s(Me,ue))ee[Ee]=ue,ee[pe]=Me,pe=Ee;else break e}}function r(ee){return ee.length===0?null:ee[0]}function o(ee){if(ee.length===0)return null;var ue=ee[0],pe=ee.pop();if(pe!==ue){ee[0]=pe;e:for(var Ee=0,Me=ee.length,mt=Me>>>1;Ee<mt;){var at=2*(Ee+1)-1,je=ee[at],de=at+1,he=ee[de];if(0>s(je,pe))de<Me&&0>s(he,je)?(ee[Ee]=he,ee[de]=pe,Ee=de):(ee[Ee]=je,ee[at]=pe,Ee=at);else if(de<Me&&0>s(he,pe))ee[Ee]=he,ee[de]=pe,Ee=de;else break e}}return ue}function s(ee,ue){var pe=ee.sortIndex-ue.sortIndex;return pe!==0?pe:ee.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var v=[],y=[],S=1,k=null,E=3,N=!1,M=!1,A=!1,U=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ee){for(var ue=r(y);ue!==null;){if(ue.callback===null)o(y);else if(ue.startTime<=ee)o(y),ue.sortIndex=ue.expirationTime,t(v,ue);else break;ue=r(y)}}function F(ee){if(A=!1,R(ee),!M)if(r(v)!==null)M=!0,Yt(H);else{var ue=r(y);ue!==null&&vt(F,ue.startTime-ee)}}function H(ee,ue){M=!1,A&&(A=!1,P(re),re=-1),N=!0;var pe=E;try{for(R(ue),k=r(v);k!==null&&(!(k.expirationTime>ue)||ee&&!nt());){var Ee=k.callback;if(typeof Ee=="function"){k.callback=null,E=k.priorityLevel;var Me=Ee(k.expirationTime<=ue);ue=e.unstable_now(),typeof Me=="function"?k.callback=Me:k===r(v)&&o(v),R(ue)}else o(v);k=r(v)}if(k!==null)var mt=!0;else{var at=r(y);at!==null&&vt(F,at.startTime-ue),mt=!1}return mt}finally{k=null,E=pe,N=!1}}var Z=!1,ne=null,re=-1,Pe=5,ve=-1;function nt(){return!(e.unstable_now()-ve<Pe)}function Lt(){if(ne!==null){var ee=e.unstable_now();ve=ee;var ue=!0;try{ue=ne(!0,ee)}finally{ue?$():(Z=!1,ne=null)}}else Z=!1}var $;if(typeof _=="function")$=function(){_(Lt)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,L=ae.port2;ae.port1.onmessage=Lt,$=function(){L.postMessage(null)}}else $=function(){U(Lt,0)};function Yt(ee){ne=ee,Z||(Z=!0,$())}function vt(ee,ue){re=U(function(){ee(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){M||N||(M=!0,Yt(H))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pe=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return r(v)},e.unstable_next=function(ee){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var pe=E;E=ue;try{return ee()}finally{E=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,ue){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var pe=E;E=ee;try{return ue()}finally{E=pe}},e.unstable_scheduleCallback=function(ee,ue,pe){var Ee=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ee+pe:Ee):pe=Ee,ee){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=pe+Me,ee={id:S++,callback:ue,priorityLevel:ee,startTime:pe,expirationTime:Me,sortIndex:-1},pe>Ee?(ee.sortIndex=pe,t(y,ee),r(v)===null&&ee===r(y)&&(A?(P(re),re=-1):A=!0,vt(F,pe-Ee))):(ee.sortIndex=Me,t(v,ee),M||N||(M=!0,Yt(H))),ee},e.unstable_shouldYield=nt,e.unstable_wrapCallback=function(ee){var ue=E;return function(){var pe=E;E=ue;try{return ee.apply(this,arguments)}finally{E=pe}}}})(dy);fy.exports=dy;var ak=fy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lk=X,yn=ak;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hy=new Set,fa={};function Ki(e,t){Go(e,t),Go(e+"Capture",t)}function Go(e,t){for(fa[e]=t,e=0;e<t.length;e++)hy.add(t[e])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gf=Object.prototype.hasOwnProperty,uk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hv={},pv={};function ck(e){return Gf.call(pv,e)?!0:Gf.call(hv,e)?!1:uk.test(e)?pv[e]=!0:(hv[e]=!0,!1)}function fk(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dk(e,t,r,o){if(t===null||typeof t>"u"||fk(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qt(e,t,r,o,s,c,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=f}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rt[e]=new Qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rt[t]=new Qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rt[e]=new Qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rt[e]=new Qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rt[e]=new Qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rt[e]=new Qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rt[e]=new Qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rt[e]=new Qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rt[e]=new Qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ch=/[\-:]([a-z])/g;function fh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ch,fh);Rt[t]=new Qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ch,fh);Rt[t]=new Qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ch,fh);Rt[t]=new Qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function dh(e,t,r,o){var s=Rt.hasOwnProperty(t)?Rt[t]:null;(s!==null?s.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dk(t,r,s,o)&&(r=null),o||s===null?ck(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,o=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var Lr=lk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tl=Symbol.for("react.element"),Eo=Symbol.for("react.portal"),Ro=Symbol.for("react.fragment"),hh=Symbol.for("react.strict_mode"),Vf=Symbol.for("react.profiler"),py=Symbol.for("react.provider"),gy=Symbol.for("react.context"),ph=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Qf=Symbol.for("react.suspense_list"),gh=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),vy=Symbol.for("react.offscreen"),gv=Symbol.iterator;function Us(e){return e===null||typeof e!="object"?null:(e=gv&&e[gv]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,ff;function Ys(e){if(ff===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ff=t&&t[1]||""}return`
`+ff+e}var df=!1;function hf(e,t){if(!e||df)return"";df=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(y){var o=y}Reflect.construct(e,[],t)}else{try{t.call()}catch(y){o=y}e.call(t.prototype)}else{try{throw Error()}catch(y){o=y}e()}}catch(y){if(y&&o&&typeof y.stack=="string"){for(var s=y.stack.split(`
`),c=o.stack.split(`
`),f=s.length-1,p=c.length-1;1<=f&&0<=p&&s[f]!==c[p];)p--;for(;1<=f&&0<=p;f--,p--)if(s[f]!==c[p]){if(f!==1||p!==1)do if(f--,p--,0>p||s[f]!==c[p]){var v=`
`+s[f].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=f&&0<=p);break}}}finally{df=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ys(e):""}function hk(e){switch(e.tag){case 5:return Ys(e.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 2:case 15:return e=hf(e.type,!1),e;case 11:return e=hf(e.type.render,!1),e;case 1:return e=hf(e.type,!0),e;default:return""}}function Yf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ro:return"Fragment";case Eo:return"Portal";case Vf:return"Profiler";case hh:return"StrictMode";case Jf:return"Suspense";case Qf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gy:return(e.displayName||"Context")+".Consumer";case py:return(e._context.displayName||"Context")+".Provider";case ph:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gh:return t=e.displayName||null,t!==null?t:Yf(e.type)||"Memo";case Qr:t=e._payload,e=e._init;try{return Yf(e(t))}catch{}}return null}function pk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yf(t);case 8:return t===hh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function my(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gk(e){var t=my(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,c=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(f){o=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function El(e){e._valueTracker||(e._valueTracker=gk(e))}function yy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=my(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function uu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xf(e,t){var r=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vv(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=fi(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cy(e,t){t=t.checked,t!=null&&dh(e,"checked",t,!1)}function qf(e,t){Cy(e,t);var r=fi(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Zf(e,t.type,fi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Zf(e,t,r){(t!=="number"||uu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xs=Array.isArray;function Bo(e,t,r,o){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&o&&(e[r].defaultSelected=!0)}else{for(r=""+fi(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ed(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(V(92));if(Xs(r)){if(1<r.length)throw Error(V(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:fi(r)}}function Sy(e,t){var r=fi(t.value),o=fi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function Cv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function td(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rl,ky=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function da(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vk=["Webkit","ms","Moz","O"];Object.keys(ea).forEach(function(e){vk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ea[t]=ea[e]})});function wy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ea.hasOwnProperty(e)&&ea[e]?(""+t).trim():t+"px"}function _y(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,s=wy(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,s):e[r]=s}}var mk=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nd(e,t){if(t){if(mk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function rd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var id=null;function vh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var od=null,Uo=null,jo=null;function Sv(e){if(e=za(e)){if(typeof od!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Vu(t),od(e.stateNode,e.type,t))}}function by(e){Uo?jo?jo.push(e):jo=[e]:Uo=e}function Ty(){if(Uo){var e=Uo,t=jo;if(jo=Uo=null,Sv(e),t)for(e=0;e<t.length;e++)Sv(t[e])}}function Ey(e,t){return e(t)}function Ry(){}var pf=!1;function Ly(e,t,r){if(pf)return e(t,r);pf=!0;try{return Ey(e,t,r)}finally{pf=!1,(Uo!==null||jo!==null)&&(Ry(),Ty())}}function ha(e,t){var r=e.stateNode;if(r===null)return null;var o=Vu(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(V(231,t,typeof r));return r}var sd=!1;if(br)try{var js={};Object.defineProperty(js,"passive",{get:function(){sd=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{sd=!1}function yk(e,t,r,o,s,c,f,p,v){var y=Array.prototype.slice.call(arguments,3);try{t.apply(r,y)}catch(S){this.onError(S)}}var ta=!1,cu=null,fu=!1,ad=null,Ck={onError:function(e){ta=!0,cu=e}};function Sk(e,t,r,o,s,c,f,p,v){ta=!1,cu=null,yk.apply(Ck,arguments)}function xk(e,t,r,o,s,c,f,p,v){if(Sk.apply(this,arguments),ta){if(ta){var y=cu;ta=!1,cu=null}else throw Error(V(198));fu||(fu=!0,ad=y)}}function Gi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Py(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xv(e){if(Gi(e)!==e)throw Error(V(188))}function kk(e){var t=e.alternate;if(!t){if(t=Gi(e),t===null)throw Error(V(188));return t!==e?null:e}for(var r=e,o=t;;){var s=r.return;if(s===null)break;var c=s.alternate;if(c===null){if(o=s.return,o!==null){r=o;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===r)return xv(s),e;if(c===o)return xv(s),t;c=c.sibling}throw Error(V(188))}if(r.return!==o.return)r=s,o=c;else{for(var f=!1,p=s.child;p;){if(p===r){f=!0,r=s,o=c;break}if(p===o){f=!0,o=s,r=c;break}p=p.sibling}if(!f){for(p=c.child;p;){if(p===r){f=!0,r=c,o=s;break}if(p===o){f=!0,o=c,r=s;break}p=p.sibling}if(!f)throw Error(V(189))}}if(r.alternate!==o)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?e:t}function Oy(e){return e=kk(e),e!==null?Dy(e):null}function Dy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dy(e);if(t!==null)return t;e=e.sibling}return null}var My=yn.unstable_scheduleCallback,kv=yn.unstable_cancelCallback,wk=yn.unstable_shouldYield,_k=yn.unstable_requestPaint,tt=yn.unstable_now,bk=yn.unstable_getCurrentPriorityLevel,mh=yn.unstable_ImmediatePriority,Ny=yn.unstable_UserBlockingPriority,du=yn.unstable_NormalPriority,Tk=yn.unstable_LowPriority,Ay=yn.unstable_IdlePriority,Wu=null,sr=null;function Ek(e){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Wu,e,void 0,(e.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:Pk,Rk=Math.log,Lk=Math.LN2;function Pk(e){return e>>>=0,e===0?32:31-(Rk(e)/Lk|0)|0}var Ll=64,Pl=4194304;function qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hu(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,s=e.suspendedLanes,c=e.pingedLanes,f=r&268435455;if(f!==0){var p=f&~s;p!==0?o=qs(p):(c&=f,c!==0&&(o=qs(c)))}else f=r&~s,f!==0?o=qs(f):c!==0&&(o=qs(c));if(o===0)return 0;if(t!==0&&t!==o&&!(t&s)&&(s=o&-o,c=t&-t,s>=c||s===16&&(c&4194240)!==0))return t;if(o&4&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-Hn(t),s=1<<r,o|=e[r],t&=~s;return o}function Ok(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dk(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes;0<c;){var f=31-Hn(c),p=1<<f,v=s[f];v===-1?(!(p&r)||p&o)&&(s[f]=Ok(p,t)):v<=t&&(e.expiredLanes|=p),c&=~p}}function ld(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Iy(){var e=Ll;return Ll<<=1,!(Ll&4194240)&&(Ll=64),e}function gf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ia(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Hn(t),e[t]=r}function Mk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Hn(r),c=1<<s;t[s]=0,o[s]=-1,e[s]=-1,r&=~c}}function yh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-Hn(r),s=1<<o;s&t|e[o]&t&&(e[o]|=t),r&=~s}}var Oe=0;function Fy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zy,Ch,By,Uy,jy,ud=!1,Ol=[],ni=null,ri=null,ii=null,pa=new Map,ga=new Map,Xr=[],Nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wv(e,t){switch(e){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(t.pointerId)}}function Hs(e,t,r,o,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:c,targetContainers:[s]},t!==null&&(t=za(t),t!==null&&Ch(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ak(e,t,r,o,s){switch(t){case"focusin":return ni=Hs(ni,e,t,r,o,s),!0;case"dragenter":return ri=Hs(ri,e,t,r,o,s),!0;case"mouseover":return ii=Hs(ii,e,t,r,o,s),!0;case"pointerover":var c=s.pointerId;return pa.set(c,Hs(pa.get(c)||null,e,t,r,o,s)),!0;case"gotpointercapture":return c=s.pointerId,ga.set(c,Hs(ga.get(c)||null,e,t,r,o,s)),!0}return!1}function Hy(e){var t=Di(e.target);if(t!==null){var r=Gi(t);if(r!==null){if(t=r.tag,t===13){if(t=Py(r),t!==null){e.blockedOn=t,jy(e.priority,function(){By(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);id=o,r.target.dispatchEvent(o),id=null}else return t=za(r),t!==null&&Ch(t),e.blockedOn=r,!1;t.shift()}return!0}function _v(e,t,r){$l(e)&&r.delete(t)}function Ik(){ud=!1,ni!==null&&$l(ni)&&(ni=null),ri!==null&&$l(ri)&&(ri=null),ii!==null&&$l(ii)&&(ii=null),pa.forEach(_v),ga.forEach(_v)}function Ws(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,Ik)))}function va(e){function t(s){return Ws(s,e)}if(0<Ol.length){Ws(Ol[0],e);for(var r=1;r<Ol.length;r++){var o=Ol[r];o.blockedOn===e&&(o.blockedOn=null)}}for(ni!==null&&Ws(ni,e),ri!==null&&Ws(ri,e),ii!==null&&Ws(ii,e),pa.forEach(t),ga.forEach(t),r=0;r<Xr.length;r++)o=Xr[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<Xr.length&&(r=Xr[0],r.blockedOn===null);)Hy(r),r.blockedOn===null&&Xr.shift()}var Ho=Lr.ReactCurrentBatchConfig,pu=!0;function Fk(e,t,r,o){var s=Oe,c=Ho.transition;Ho.transition=null;try{Oe=1,Sh(e,t,r,o)}finally{Oe=s,Ho.transition=c}}function zk(e,t,r,o){var s=Oe,c=Ho.transition;Ho.transition=null;try{Oe=4,Sh(e,t,r,o)}finally{Oe=s,Ho.transition=c}}function Sh(e,t,r,o){if(pu){var s=cd(e,t,r,o);if(s===null)bf(e,t,o,gu,r),wv(e,o);else if(Ak(s,e,t,r,o))o.stopPropagation();else if(wv(e,o),t&4&&-1<Nk.indexOf(e)){for(;s!==null;){var c=za(s);if(c!==null&&zy(c),c=cd(e,t,r,o),c===null&&bf(e,t,o,gu,r),c===s)break;s=c}s!==null&&o.stopPropagation()}else bf(e,t,o,null,r)}}var gu=null;function cd(e,t,r,o){if(gu=null,e=vh(o),e=Di(e),e!==null)if(t=Gi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Py(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gu=e,null}function Wy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bk()){case mh:return 1;case Ny:return 4;case du:case Tk:return 16;case Ay:return 536870912;default:return 16}default:return 16}}var Zr=null,xh=null,Kl=null;function $y(){if(Kl)return Kl;var e,t=xh,r=t.length,o,s="value"in Zr?Zr.value:Zr.textContent,c=s.length;for(e=0;e<r&&t[e]===s[e];e++);var f=r-e;for(o=1;o<=f&&t[r-o]===s[c-o];o++);return Kl=s.slice(e,1<o?1-o:void 0)}function Gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dl(){return!0}function bv(){return!1}function Sn(e){function t(r,o,s,c,f){this._reactName=r,this._targetInst=s,this.type=o,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(r=e[p],this[p]=r?r(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Dl:bv,this.isPropagationStopped=bv,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),t}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kh=Sn(ts),Fa=Je({},ts,{view:0,detail:0}),Bk=Sn(Fa),vf,mf,$s,$u=Je({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(vf=e.screenX-$s.screenX,mf=e.screenY-$s.screenY):mf=vf=0,$s=e),vf)},movementY:function(e){return"movementY"in e?e.movementY:mf}}),Tv=Sn($u),Uk=Je({},$u,{dataTransfer:0}),jk=Sn(Uk),Hk=Je({},Fa,{relatedTarget:0}),yf=Sn(Hk),Wk=Je({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),$k=Sn(Wk),Kk=Je({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gk=Sn(Kk),Vk=Je({},ts,{data:0}),Ev=Sn(Vk),Jk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yk[e])?!!t[e]:!1}function wh(){return Xk}var qk=Je({},Fa,{key:function(e){if(e.key){var t=Jk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wh,charCode:function(e){return e.type==="keypress"?Gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zk=Sn(qk),ew=Je({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rv=Sn(ew),tw=Je({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wh}),nw=Sn(tw),rw=Je({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),iw=Sn(rw),ow=Je({},$u,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sw=Sn(ow),aw=[9,13,27,32],_h=br&&"CompositionEvent"in window,na=null;br&&"documentMode"in document&&(na=document.documentMode);var lw=br&&"TextEvent"in window&&!na,Ky=br&&(!_h||na&&8<na&&11>=na),Lv=" ",Pv=!1;function Gy(e,t){switch(e){case"keyup":return aw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lo=!1;function uw(e,t){switch(e){case"compositionend":return Vy(t);case"keypress":return t.which!==32?null:(Pv=!0,Lv);case"textInput":return e=t.data,e===Lv&&Pv?null:e;default:return null}}function cw(e,t){if(Lo)return e==="compositionend"||!_h&&Gy(e,t)?(e=$y(),Kl=xh=Zr=null,Lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ky&&t.locale!=="ko"?null:t.data;default:return null}}var fw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ov(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fw[e.type]:t==="textarea"}function Jy(e,t,r,o){by(o),t=vu(t,"onChange"),0<t.length&&(r=new kh("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var ra=null,ma=null;function dw(e){o0(e,0)}function Ku(e){var t=Do(e);if(yy(t))return e}function hw(e,t){if(e==="change")return t}var Qy=!1;if(br){var Cf;if(br){var Sf="oninput"in document;if(!Sf){var Dv=document.createElement("div");Dv.setAttribute("oninput","return;"),Sf=typeof Dv.oninput=="function"}Cf=Sf}else Cf=!1;Qy=Cf&&(!document.documentMode||9<document.documentMode)}function Mv(){ra&&(ra.detachEvent("onpropertychange",Yy),ma=ra=null)}function Yy(e){if(e.propertyName==="value"&&Ku(ma)){var t=[];Jy(t,ma,e,vh(e)),Ly(dw,t)}}function pw(e,t,r){e==="focusin"?(Mv(),ra=t,ma=r,ra.attachEvent("onpropertychange",Yy)):e==="focusout"&&Mv()}function gw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ku(ma)}function vw(e,t){if(e==="click")return Ku(t)}function mw(e,t){if(e==="input"||e==="change")return Ku(t)}function yw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $n=typeof Object.is=="function"?Object.is:yw;function ya(e,t){if($n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var s=r[o];if(!Gf.call(t,s)||!$n(e[s],t[s]))return!1}return!0}function Nv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Av(e,t){var r=Nv(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nv(r)}}function Xy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qy(){for(var e=window,t=uu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=uu(e.document)}return t}function bh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cw(e){var t=qy(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Xy(r.ownerDocument.documentElement,r)){if(o!==null&&bh(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,c=Math.min(o.start,s);o=o.end===void 0?c:Math.min(o.end,s),!e.extend&&c>o&&(s=o,o=c,c=s),s=Av(r,c);var f=Av(r,o);s&&f&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),c>o?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sw=br&&"documentMode"in document&&11>=document.documentMode,Po=null,fd=null,ia=null,dd=!1;function Iv(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dd||Po==null||Po!==uu(o)||(o=Po,"selectionStart"in o&&bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ia&&ya(ia,o)||(ia=o,o=vu(fd,"onSelect"),0<o.length&&(t=new kh("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=Po)))}function Ml(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Oo={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},xf={},Zy={};br&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Gu(e){if(xf[e])return xf[e];if(!Oo[e])return e;var t=Oo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Zy)return xf[e]=t[r];return e}var e0=Gu("animationend"),t0=Gu("animationiteration"),n0=Gu("animationstart"),r0=Gu("transitionend"),i0=new Map,Fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(e,t){i0.set(e,t),Ki(t,[e])}for(var kf=0;kf<Fv.length;kf++){var wf=Fv[kf],xw=wf.toLowerCase(),kw=wf[0].toUpperCase()+wf.slice(1);hi(xw,"on"+kw)}hi(e0,"onAnimationEnd");hi(t0,"onAnimationIteration");hi(n0,"onAnimationStart");hi("dblclick","onDoubleClick");hi("focusin","onFocus");hi("focusout","onBlur");hi(r0,"onTransitionEnd");Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function zv(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,xk(o,t,void 0,e),e.currentTarget=null}function o0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],s=o.event;o=o.listeners;e:{var c=void 0;if(t)for(var f=o.length-1;0<=f;f--){var p=o[f],v=p.instance,y=p.currentTarget;if(p=p.listener,v!==c&&s.isPropagationStopped())break e;zv(s,p,y),c=v}else for(f=0;f<o.length;f++){if(p=o[f],v=p.instance,y=p.currentTarget,p=p.listener,v!==c&&s.isPropagationStopped())break e;zv(s,p,y),c=v}}}if(fu)throw e=ad,fu=!1,ad=null,e}function Ie(e,t){var r=t[md];r===void 0&&(r=t[md]=new Set);var o=e+"__bubble";r.has(o)||(s0(t,e,2,!1),r.add(o))}function _f(e,t,r){var o=0;t&&(o|=4),s0(r,e,o,t)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function Ca(e){if(!e[Nl]){e[Nl]=!0,hy.forEach(function(r){r!=="selectionchange"&&(ww.has(r)||_f(r,!1,e),_f(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nl]||(t[Nl]=!0,_f("selectionchange",!1,t))}}function s0(e,t,r,o){switch(Wy(t)){case 1:var s=Fk;break;case 4:s=zk;break;default:s=Sh}r=s.bind(null,t,r,e),s=void 0,!sd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function bf(e,t,r,o,s){var c=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var p=o.stateNode.containerInfo;if(p===s||p.nodeType===8&&p.parentNode===s)break;if(f===4)for(f=o.return;f!==null;){var v=f.tag;if((v===3||v===4)&&(v=f.stateNode.containerInfo,v===s||v.nodeType===8&&v.parentNode===s))return;f=f.return}for(;p!==null;){if(f=Di(p),f===null)return;if(v=f.tag,v===5||v===6){o=c=f;continue e}p=p.parentNode}}o=o.return}Ly(function(){var y=c,S=vh(r),k=[];e:{var E=i0.get(e);if(E!==void 0){var N=kh,M=e;switch(e){case"keypress":if(Gl(r)===0)break e;case"keydown":case"keyup":N=Zk;break;case"focusin":M="focus",N=yf;break;case"focusout":M="blur",N=yf;break;case"beforeblur":case"afterblur":N=yf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=jk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=nw;break;case e0:case t0:case n0:N=$k;break;case r0:N=iw;break;case"scroll":N=Bk;break;case"wheel":N=sw;break;case"copy":case"cut":case"paste":N=Gk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Rv}var A=(t&4)!==0,U=!A&&e==="scroll",P=A?E!==null?E+"Capture":null:E;A=[];for(var _=y,R;_!==null;){R=_;var F=R.stateNode;if(R.tag===5&&F!==null&&(R=F,P!==null&&(F=ha(_,P),F!=null&&A.push(Sa(_,F,R)))),U)break;_=_.return}0<A.length&&(E=new N(E,M,null,r,S),k.push({event:E,listeners:A}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",E&&r!==id&&(M=r.relatedTarget||r.fromElement)&&(Di(M)||M[Tr]))break e;if((N||E)&&(E=S.window===S?S:(E=S.ownerDocument)?E.defaultView||E.parentWindow:window,N?(M=r.relatedTarget||r.toElement,N=y,M=M?Di(M):null,M!==null&&(U=Gi(M),M!==U||M.tag!==5&&M.tag!==6)&&(M=null)):(N=null,M=y),N!==M)){if(A=Tv,F="onMouseLeave",P="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(A=Rv,F="onPointerLeave",P="onPointerEnter",_="pointer"),U=N==null?E:Do(N),R=M==null?E:Do(M),E=new A(F,_+"leave",N,r,S),E.target=U,E.relatedTarget=R,F=null,Di(S)===y&&(A=new A(P,_+"enter",M,r,S),A.target=R,A.relatedTarget=U,F=A),U=F,N&&M)t:{for(A=N,P=M,_=0,R=A;R;R=To(R))_++;for(R=0,F=P;F;F=To(F))R++;for(;0<_-R;)A=To(A),_--;for(;0<R-_;)P=To(P),R--;for(;_--;){if(A===P||P!==null&&A===P.alternate)break t;A=To(A),P=To(P)}A=null}else A=null;N!==null&&Bv(k,E,N,A,!1),M!==null&&U!==null&&Bv(k,U,M,A,!0)}}e:{if(E=y?Do(y):window,N=E.nodeName&&E.nodeName.toLowerCase(),N==="select"||N==="input"&&E.type==="file")var H=hw;else if(Ov(E))if(Qy)H=mw;else{H=gw;var Z=pw}else(N=E.nodeName)&&N.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(H=vw);if(H&&(H=H(e,y))){Jy(k,H,r,S);break e}Z&&Z(e,E,y),e==="focusout"&&(Z=E._wrapperState)&&Z.controlled&&E.type==="number"&&Zf(E,"number",E.value)}switch(Z=y?Do(y):window,e){case"focusin":(Ov(Z)||Z.contentEditable==="true")&&(Po=Z,fd=y,ia=null);break;case"focusout":ia=fd=Po=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,Iv(k,r,S);break;case"selectionchange":if(Sw)break;case"keydown":case"keyup":Iv(k,r,S)}var ne;if(_h)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Lo?Gy(e,r)&&(re="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(re="onCompositionStart");re&&(Ky&&r.locale!=="ko"&&(Lo||re!=="onCompositionStart"?re==="onCompositionEnd"&&Lo&&(ne=$y()):(Zr=S,xh="value"in Zr?Zr.value:Zr.textContent,Lo=!0)),Z=vu(y,re),0<Z.length&&(re=new Ev(re,e,null,r,S),k.push({event:re,listeners:Z}),ne?re.data=ne:(ne=Vy(r),ne!==null&&(re.data=ne)))),(ne=lw?uw(e,r):cw(e,r))&&(y=vu(y,"onBeforeInput"),0<y.length&&(S=new Ev("onBeforeInput","beforeinput",null,r,S),k.push({event:S,listeners:y}),S.data=ne))}o0(k,t)})}function Sa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vu(e,t){for(var r=t+"Capture",o=[];e!==null;){var s=e,c=s.stateNode;s.tag===5&&c!==null&&(s=c,c=ha(e,r),c!=null&&o.unshift(Sa(e,c,s)),c=ha(e,t),c!=null&&o.push(Sa(e,c,s))),e=e.return}return o}function To(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bv(e,t,r,o,s){for(var c=t._reactName,f=[];r!==null&&r!==o;){var p=r,v=p.alternate,y=p.stateNode;if(v!==null&&v===o)break;p.tag===5&&y!==null&&(p=y,s?(v=ha(r,c),v!=null&&f.unshift(Sa(r,v,p))):s||(v=ha(r,c),v!=null&&f.push(Sa(r,v,p)))),r=r.return}f.length!==0&&e.push({event:t,listeners:f})}var _w=/\r\n?/g,bw=/\u0000|\uFFFD/g;function Uv(e){return(typeof e=="string"?e:""+e).replace(_w,`
`).replace(bw,"")}function Al(e,t,r){if(t=Uv(t),Uv(e)!==t&&r)throw Error(V(425))}function mu(){}var hd=null,pd=null;function gd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vd=typeof setTimeout=="function"?setTimeout:void 0,Tw=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,Ew=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(e){return jv.resolve(null).then(e).catch(Rw)}:vd;function Rw(e){setTimeout(function(){throw e})}function Tf(e,t){var r=t,o=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(o===0){e.removeChild(s),va(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=s}while(r);va(t)}function oi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ns=Math.random().toString(36).slice(2),rr="__reactFiber$"+ns,xa="__reactProps$"+ns,Tr="__reactContainer$"+ns,md="__reactEvents$"+ns,Lw="__reactListeners$"+ns,Pw="__reactHandles$"+ns;function Di(e){var t=e[rr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tr]||r[rr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hv(e);e!==null;){if(r=e[rr])return r;e=Hv(e)}return t}e=r,r=e.parentNode}return null}function za(e){return e=e[rr]||e[Tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Do(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Vu(e){return e[xa]||null}var yd=[],Mo=-1;function pi(e){return{current:e}}function Fe(e){0>Mo||(e.current=yd[Mo],yd[Mo]=null,Mo--)}function Ne(e,t){Mo++,yd[Mo]=e.current,e.current=t}var di={},It=pi(di),rn=pi(!1),Bi=di;function Vo(e,t){var r=e.type.contextTypes;if(!r)return di;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var s={},c;for(c in r)s[c]=t[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function on(e){return e=e.childContextTypes,e!=null}function yu(){Fe(rn),Fe(It)}function Wv(e,t,r){if(It.current!==di)throw Error(V(168));Ne(It,t),Ne(rn,r)}function a0(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var s in o)if(!(s in t))throw Error(V(108,pk(e)||"Unknown",s));return Je({},r,o)}function Cu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,Bi=It.current,Ne(It,e),Ne(rn,rn.current),!0}function $v(e,t,r){var o=e.stateNode;if(!o)throw Error(V(169));r?(e=a0(e,t,Bi),o.__reactInternalMemoizedMergedChildContext=e,Fe(rn),Fe(It),Ne(It,e)):Fe(rn),Ne(rn,r)}var xr=null,Ju=!1,Ef=!1;function l0(e){xr===null?xr=[e]:xr.push(e)}function Ow(e){Ju=!0,l0(e)}function gi(){if(!Ef&&xr!==null){Ef=!0;var e=0,t=Oe;try{var r=xr;for(Oe=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}xr=null,Ju=!1}catch(s){throw xr!==null&&(xr=xr.slice(e+1)),My(mh,gi),s}finally{Oe=t,Ef=!1}}return null}var No=[],Ao=0,Su=null,xu=0,wn=[],_n=0,Ui=null,kr=1,wr="";function Li(e,t){No[Ao++]=xu,No[Ao++]=Su,Su=e,xu=t}function u0(e,t,r){wn[_n++]=kr,wn[_n++]=wr,wn[_n++]=Ui,Ui=e;var o=kr;e=wr;var s=32-Hn(o)-1;o&=~(1<<s),r+=1;var c=32-Hn(t)+s;if(30<c){var f=s-s%5;c=(o&(1<<f)-1).toString(32),o>>=f,s-=f,kr=1<<32-Hn(t)+s|r<<s|o,wr=c+e}else kr=1<<c|r<<s|o,wr=e}function Th(e){e.return!==null&&(Li(e,1),u0(e,1,0))}function Eh(e){for(;e===Su;)Su=No[--Ao],No[Ao]=null,xu=No[--Ao],No[Ao]=null;for(;e===Ui;)Ui=wn[--_n],wn[_n]=null,wr=wn[--_n],wn[_n]=null,kr=wn[--_n],wn[_n]=null}var vn=null,gn=null,Ue=!1,jn=null;function c0(e,t){var r=bn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Kv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vn=e,gn=oi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vn=e,gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ui!==null?{id:kr,overflow:wr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=bn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vn=e,gn=null,!0):!1;default:return!1}}function Cd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sd(e){if(Ue){var t=gn;if(t){var r=t;if(!Kv(e,t)){if(Cd(e))throw Error(V(418));t=oi(r.nextSibling);var o=vn;t&&Kv(e,t)?c0(o,r):(e.flags=e.flags&-4097|2,Ue=!1,vn=e)}}else{if(Cd(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ue=!1,vn=e}}}function Gv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vn=e}function Il(e){if(e!==vn)return!1;if(!Ue)return Gv(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gd(e.type,e.memoizedProps)),t&&(t=gn)){if(Cd(e))throw f0(),Error(V(418));for(;t;)c0(e,t),t=oi(t.nextSibling)}if(Gv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){gn=oi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}gn=null}}else gn=vn?oi(e.stateNode.nextSibling):null;return!0}function f0(){for(var e=gn;e;)e=oi(e.nextSibling)}function Jo(){gn=vn=null,Ue=!1}function Rh(e){jn===null?jn=[e]:jn.push(e)}var Dw=Lr.ReactCurrentBatchConfig;function Ks(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var o=r.stateNode}if(!o)throw Error(V(147,e));var s=o,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(f){var p=s.refs;f===null?delete p[c]:p[c]=f},t._stringRef=c,t)}if(typeof e!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,e))}return e}function Fl(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vv(e){var t=e._init;return t(e._payload)}function d0(e){function t(P,_){if(e){var R=P.deletions;R===null?(P.deletions=[_],P.flags|=16):R.push(_)}}function r(P,_){if(!e)return null;for(;_!==null;)t(P,_),_=_.sibling;return null}function o(P,_){for(P=new Map;_!==null;)_.key!==null?P.set(_.key,_):P.set(_.index,_),_=_.sibling;return P}function s(P,_){return P=ui(P,_),P.index=0,P.sibling=null,P}function c(P,_,R){return P.index=R,e?(R=P.alternate,R!==null?(R=R.index,R<_?(P.flags|=2,_):R):(P.flags|=2,_)):(P.flags|=1048576,_)}function f(P){return e&&P.alternate===null&&(P.flags|=2),P}function p(P,_,R,F){return _===null||_.tag!==6?(_=Nf(R,P.mode,F),_.return=P,_):(_=s(_,R),_.return=P,_)}function v(P,_,R,F){var H=R.type;return H===Ro?S(P,_,R.props.children,F,R.key):_!==null&&(_.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Qr&&Vv(H)===_.type)?(F=s(_,R.props),F.ref=Ks(P,_,R),F.return=P,F):(F=Zl(R.type,R.key,R.props,null,P.mode,F),F.ref=Ks(P,_,R),F.return=P,F)}function y(P,_,R,F){return _===null||_.tag!==4||_.stateNode.containerInfo!==R.containerInfo||_.stateNode.implementation!==R.implementation?(_=Af(R,P.mode,F),_.return=P,_):(_=s(_,R.children||[]),_.return=P,_)}function S(P,_,R,F,H){return _===null||_.tag!==7?(_=Fi(R,P.mode,F,H),_.return=P,_):(_=s(_,R),_.return=P,_)}function k(P,_,R){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Nf(""+_,P.mode,R),_.return=P,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tl:return R=Zl(_.type,_.key,_.props,null,P.mode,R),R.ref=Ks(P,null,_),R.return=P,R;case Eo:return _=Af(_,P.mode,R),_.return=P,_;case Qr:var F=_._init;return k(P,F(_._payload),R)}if(Xs(_)||Us(_))return _=Fi(_,P.mode,R,null),_.return=P,_;Fl(P,_)}return null}function E(P,_,R,F){var H=_!==null?_.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return H!==null?null:p(P,_,""+R,F);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Tl:return R.key===H?v(P,_,R,F):null;case Eo:return R.key===H?y(P,_,R,F):null;case Qr:return H=R._init,E(P,_,H(R._payload),F)}if(Xs(R)||Us(R))return H!==null?null:S(P,_,R,F,null);Fl(P,R)}return null}function N(P,_,R,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return P=P.get(R)||null,p(_,P,""+F,H);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Tl:return P=P.get(F.key===null?R:F.key)||null,v(_,P,F,H);case Eo:return P=P.get(F.key===null?R:F.key)||null,y(_,P,F,H);case Qr:var Z=F._init;return N(P,_,R,Z(F._payload),H)}if(Xs(F)||Us(F))return P=P.get(R)||null,S(_,P,F,H,null);Fl(_,F)}return null}function M(P,_,R,F){for(var H=null,Z=null,ne=_,re=_=0,Pe=null;ne!==null&&re<R.length;re++){ne.index>re?(Pe=ne,ne=null):Pe=ne.sibling;var ve=E(P,ne,R[re],F);if(ve===null){ne===null&&(ne=Pe);break}e&&ne&&ve.alternate===null&&t(P,ne),_=c(ve,_,re),Z===null?H=ve:Z.sibling=ve,Z=ve,ne=Pe}if(re===R.length)return r(P,ne),Ue&&Li(P,re),H;if(ne===null){for(;re<R.length;re++)ne=k(P,R[re],F),ne!==null&&(_=c(ne,_,re),Z===null?H=ne:Z.sibling=ne,Z=ne);return Ue&&Li(P,re),H}for(ne=o(P,ne);re<R.length;re++)Pe=N(ne,P,re,R[re],F),Pe!==null&&(e&&Pe.alternate!==null&&ne.delete(Pe.key===null?re:Pe.key),_=c(Pe,_,re),Z===null?H=Pe:Z.sibling=Pe,Z=Pe);return e&&ne.forEach(function(nt){return t(P,nt)}),Ue&&Li(P,re),H}function A(P,_,R,F){var H=Us(R);if(typeof H!="function")throw Error(V(150));if(R=H.call(R),R==null)throw Error(V(151));for(var Z=H=null,ne=_,re=_=0,Pe=null,ve=R.next();ne!==null&&!ve.done;re++,ve=R.next()){ne.index>re?(Pe=ne,ne=null):Pe=ne.sibling;var nt=E(P,ne,ve.value,F);if(nt===null){ne===null&&(ne=Pe);break}e&&ne&&nt.alternate===null&&t(P,ne),_=c(nt,_,re),Z===null?H=nt:Z.sibling=nt,Z=nt,ne=Pe}if(ve.done)return r(P,ne),Ue&&Li(P,re),H;if(ne===null){for(;!ve.done;re++,ve=R.next())ve=k(P,ve.value,F),ve!==null&&(_=c(ve,_,re),Z===null?H=ve:Z.sibling=ve,Z=ve);return Ue&&Li(P,re),H}for(ne=o(P,ne);!ve.done;re++,ve=R.next())ve=N(ne,P,re,ve.value,F),ve!==null&&(e&&ve.alternate!==null&&ne.delete(ve.key===null?re:ve.key),_=c(ve,_,re),Z===null?H=ve:Z.sibling=ve,Z=ve);return e&&ne.forEach(function(Lt){return t(P,Lt)}),Ue&&Li(P,re),H}function U(P,_,R,F){if(typeof R=="object"&&R!==null&&R.type===Ro&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Tl:e:{for(var H=R.key,Z=_;Z!==null;){if(Z.key===H){if(H=R.type,H===Ro){if(Z.tag===7){r(P,Z.sibling),_=s(Z,R.props.children),_.return=P,P=_;break e}}else if(Z.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Qr&&Vv(H)===Z.type){r(P,Z.sibling),_=s(Z,R.props),_.ref=Ks(P,Z,R),_.return=P,P=_;break e}r(P,Z);break}else t(P,Z);Z=Z.sibling}R.type===Ro?(_=Fi(R.props.children,P.mode,F,R.key),_.return=P,P=_):(F=Zl(R.type,R.key,R.props,null,P.mode,F),F.ref=Ks(P,_,R),F.return=P,P=F)}return f(P);case Eo:e:{for(Z=R.key;_!==null;){if(_.key===Z)if(_.tag===4&&_.stateNode.containerInfo===R.containerInfo&&_.stateNode.implementation===R.implementation){r(P,_.sibling),_=s(_,R.children||[]),_.return=P,P=_;break e}else{r(P,_);break}else t(P,_);_=_.sibling}_=Af(R,P.mode,F),_.return=P,P=_}return f(P);case Qr:return Z=R._init,U(P,_,Z(R._payload),F)}if(Xs(R))return M(P,_,R,F);if(Us(R))return A(P,_,R,F);Fl(P,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,_!==null&&_.tag===6?(r(P,_.sibling),_=s(_,R),_.return=P,P=_):(r(P,_),_=Nf(R,P.mode,F),_.return=P,P=_),f(P)):r(P,_)}return U}var Qo=d0(!0),h0=d0(!1),ku=pi(null),wu=null,Io=null,Lh=null;function Ph(){Lh=Io=wu=null}function Oh(e){var t=ku.current;Fe(ku),e._currentValue=t}function xd(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function Wo(e,t){wu=e,Lh=Io=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nn=!0),e.firstContext=null)}function En(e){var t=e._currentValue;if(Lh!==e)if(e={context:e,memoizedValue:t,next:null},Io===null){if(wu===null)throw Error(V(308));Io=e,wu.dependencies={lanes:0,firstContext:e}}else Io=Io.next=e;return t}var Mi=null;function Dh(e){Mi===null?Mi=[e]:Mi.push(e)}function p0(e,t,r,o){var s=t.interleaved;return s===null?(r.next=r,Dh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Er(e,o)}function Er(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yr=!1;function Mh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function si(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,_e&2){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,Er(e,r)}return s=o.interleaved,s===null?(t.next=t,Dh(o)):(t.next=s.next,s.next=t),o.interleaved=t,Er(e,r)}function Vl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,yh(e,r)}}function Jv(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var s=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var f={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};c===null?s=c=f:c=c.next=f,r=r.next}while(r!==null);c===null?s=c=t:c=c.next=t}else s=c=t;r={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _u(e,t,r,o){var s=e.updateQueue;Yr=!1;var c=s.firstBaseUpdate,f=s.lastBaseUpdate,p=s.shared.pending;if(p!==null){s.shared.pending=null;var v=p,y=v.next;v.next=null,f===null?c=y:f.next=y,f=v;var S=e.alternate;S!==null&&(S=S.updateQueue,p=S.lastBaseUpdate,p!==f&&(p===null?S.firstBaseUpdate=y:p.next=y,S.lastBaseUpdate=v))}if(c!==null){var k=s.baseState;f=0,S=y=v=null,p=c;do{var E=p.lane,N=p.eventTime;if((o&E)===E){S!==null&&(S=S.next={eventTime:N,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var M=e,A=p;switch(E=t,N=r,A.tag){case 1:if(M=A.payload,typeof M=="function"){k=M.call(N,k,E);break e}k=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=A.payload,E=typeof M=="function"?M.call(N,k,E):M,E==null)break e;k=Je({},k,E);break e;case 2:Yr=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,E=s.effects,E===null?s.effects=[p]:E.push(p))}else N={eventTime:N,lane:E,tag:p.tag,payload:p.payload,callback:p.callback,next:null},S===null?(y=S=N,v=k):S=S.next=N,f|=E;if(p=p.next,p===null){if(p=s.shared.pending,p===null)break;E=p,p=E.next,E.next=null,s.lastBaseUpdate=E,s.shared.pending=null}}while(!0);if(S===null&&(v=k),s.baseState=v,s.firstBaseUpdate=y,s.lastBaseUpdate=S,t=s.shared.interleaved,t!==null){s=t;do f|=s.lane,s=s.next;while(s!==t)}else c===null&&(s.shared.lanes=0);Hi|=f,e.lanes=f,e.memoizedState=k}}function Qv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],s=o.callback;if(s!==null){if(o.callback=null,o=r,typeof s!="function")throw Error(V(191,s));s.call(o)}}}var Ba={},ar=pi(Ba),ka=pi(Ba),wa=pi(Ba);function Ni(e){if(e===Ba)throw Error(V(174));return e}function Nh(e,t){switch(Ne(wa,t),Ne(ka,e),Ne(ar,Ba),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:td(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=td(t,e)}Fe(ar),Ne(ar,t)}function Yo(){Fe(ar),Fe(ka),Fe(wa)}function v0(e){Ni(wa.current);var t=Ni(ar.current),r=td(t,e.type);t!==r&&(Ne(ka,e),Ne(ar,r))}function Ah(e){ka.current===e&&(Fe(ar),Fe(ka))}var Ge=pi(0);function bu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rf=[];function Ih(){for(var e=0;e<Rf.length;e++)Rf[e]._workInProgressVersionPrimary=null;Rf.length=0}var Jl=Lr.ReactCurrentDispatcher,Lf=Lr.ReactCurrentBatchConfig,ji=0,Ve=null,pt=null,Ct=null,Tu=!1,oa=!1,_a=0,Mw=0;function Mt(){throw Error(V(321))}function Fh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$n(e[r],t[r]))return!1;return!0}function zh(e,t,r,o,s,c){if(ji=c,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jl.current=e===null||e.memoizedState===null?Fw:zw,e=r(o,s),oa){c=0;do{if(oa=!1,_a=0,25<=c)throw Error(V(301));c+=1,Ct=pt=null,t.updateQueue=null,Jl.current=Bw,e=r(o,s)}while(oa)}if(Jl.current=Eu,t=pt!==null&&pt.next!==null,ji=0,Ct=pt=Ve=null,Tu=!1,t)throw Error(V(300));return e}function Bh(){var e=_a!==0;return _a=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ve.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function Rn(){if(pt===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=Ct===null?Ve.memoizedState:Ct.next;if(t!==null)Ct=t,pt=e;else{if(e===null)throw Error(V(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Ct===null?Ve.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function ba(e,t){return typeof t=="function"?t(e):t}function Pf(e){var t=Rn(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var o=pt,s=o.baseQueue,c=r.pending;if(c!==null){if(s!==null){var f=s.next;s.next=c.next,c.next=f}o.baseQueue=s=c,r.pending=null}if(s!==null){c=s.next,o=o.baseState;var p=f=null,v=null,y=c;do{var S=y.lane;if((ji&S)===S)v!==null&&(v=v.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),o=y.hasEagerState?y.eagerState:e(o,y.action);else{var k={lane:S,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};v===null?(p=v=k,f=o):v=v.next=k,Ve.lanes|=S,Hi|=S}y=y.next}while(y!==null&&y!==c);v===null?f=o:v.next=p,$n(o,t.memoizedState)||(nn=!0),t.memoizedState=o,t.baseState=f,t.baseQueue=v,r.lastRenderedState=o}if(e=r.interleaved,e!==null){s=e;do c=s.lane,Ve.lanes|=c,Hi|=c,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Of(e){var t=Rn(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var o=r.dispatch,s=r.pending,c=t.memoizedState;if(s!==null){r.pending=null;var f=s=s.next;do c=e(c,f.action),f=f.next;while(f!==s);$n(c,t.memoizedState)||(nn=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),r.lastRenderedState=c}return[c,o]}function m0(){}function y0(e,t){var r=Ve,o=Rn(),s=t(),c=!$n(o.memoizedState,s);if(c&&(o.memoizedState=s,nn=!0),o=o.queue,Uh(x0.bind(null,r,o,e),[e]),o.getSnapshot!==t||c||Ct!==null&&Ct.memoizedState.tag&1){if(r.flags|=2048,Ta(9,S0.bind(null,r,o,s,t),void 0,null),xt===null)throw Error(V(349));ji&30||C0(r,t,s)}return s}function C0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function S0(e,t,r,o){t.value=r,t.getSnapshot=o,k0(t)&&w0(e)}function x0(e,t,r){return r(function(){k0(t)&&w0(e)})}function k0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$n(e,r)}catch{return!0}}function w0(e){var t=Er(e,1);t!==null&&Wn(t,e,1,-1)}function Yv(e){var t=nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Iw.bind(null,Ve,e),[t.memoizedState,e]}function Ta(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function _0(){return Rn().memoizedState}function Ql(e,t,r,o){var s=nr();Ve.flags|=e,s.memoizedState=Ta(1|t,r,void 0,o===void 0?null:o)}function Qu(e,t,r,o){var s=Rn();o=o===void 0?null:o;var c=void 0;if(pt!==null){var f=pt.memoizedState;if(c=f.destroy,o!==null&&Fh(o,f.deps)){s.memoizedState=Ta(t,r,c,o);return}}Ve.flags|=e,s.memoizedState=Ta(1|t,r,c,o)}function Xv(e,t){return Ql(8390656,8,e,t)}function Uh(e,t){return Qu(2048,8,e,t)}function b0(e,t){return Qu(4,2,e,t)}function T0(e,t){return Qu(4,4,e,t)}function E0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function R0(e,t,r){return r=r!=null?r.concat([e]):null,Qu(4,4,E0.bind(null,t,e),r)}function jh(){}function L0(e,t){var r=Rn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&Fh(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function P0(e,t){var r=Rn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&Fh(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function O0(e,t,r){return ji&21?($n(r,t)||(r=Iy(),Ve.lanes|=r,Hi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=r)}function Nw(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var o=Lf.transition;Lf.transition={};try{e(!1),t()}finally{Oe=r,Lf.transition=o}}function D0(){return Rn().memoizedState}function Aw(e,t,r){var o=li(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},M0(e))N0(t,r);else if(r=p0(e,t,r,o),r!==null){var s=Gt();Wn(r,e,o,s),A0(r,t,o)}}function Iw(e,t,r){var o=li(e),s={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(M0(e))N0(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,p=c(f,r);if(s.hasEagerState=!0,s.eagerState=p,$n(p,f)){var v=t.interleaved;v===null?(s.next=s,Dh(t)):(s.next=v.next,v.next=s),t.interleaved=s;return}}catch{}finally{}r=p0(e,t,s,o),r!==null&&(s=Gt(),Wn(r,e,o,s),A0(r,t,o))}}function M0(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function N0(e,t){oa=Tu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function A0(e,t,r){if(r&4194240){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,yh(e,r)}}var Eu={readContext:En,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},Fw={readContext:En,useCallback:function(e,t){return nr().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:Xv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ql(4194308,4,E0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ql(4,2,e,t)},useMemo:function(e,t){var r=nr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=nr();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Aw.bind(null,Ve,e),[o.memoizedState,e]},useRef:function(e){var t=nr();return e={current:e},t.memoizedState=e},useState:Yv,useDebugValue:jh,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=Yv(!1),t=e[0];return e=Nw.bind(null,e[1]),nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=Ve,s=nr();if(Ue){if(r===void 0)throw Error(V(407));r=r()}else{if(r=t(),xt===null)throw Error(V(349));ji&30||C0(o,t,r)}s.memoizedState=r;var c={value:r,getSnapshot:t};return s.queue=c,Xv(x0.bind(null,o,c,e),[e]),o.flags|=2048,Ta(9,S0.bind(null,o,c,r,t),void 0,null),r},useId:function(){var e=nr(),t=xt.identifierPrefix;if(Ue){var r=wr,o=kr;r=(o&~(1<<32-Hn(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=_a++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Mw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zw={readContext:En,useCallback:L0,useContext:En,useEffect:Uh,useImperativeHandle:R0,useInsertionEffect:b0,useLayoutEffect:T0,useMemo:P0,useReducer:Pf,useRef:_0,useState:function(){return Pf(ba)},useDebugValue:jh,useDeferredValue:function(e){var t=Rn();return O0(t,pt.memoizedState,e)},useTransition:function(){var e=Pf(ba)[0],t=Rn().memoizedState;return[e,t]},useMutableSource:m0,useSyncExternalStore:y0,useId:D0,unstable_isNewReconciler:!1},Bw={readContext:En,useCallback:L0,useContext:En,useEffect:Uh,useImperativeHandle:R0,useInsertionEffect:b0,useLayoutEffect:T0,useMemo:P0,useReducer:Of,useRef:_0,useState:function(){return Of(ba)},useDebugValue:jh,useDeferredValue:function(e){var t=Rn();return pt===null?t.memoizedState=e:O0(t,pt.memoizedState,e)},useTransition:function(){var e=Of(ba)[0],t=Rn().memoizedState;return[e,t]},useMutableSource:m0,useSyncExternalStore:y0,useId:D0,unstable_isNewReconciler:!1};function Bn(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function kd(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:Je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yu={isMounted:function(e){return(e=e._reactInternals)?Gi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=Gt(),s=li(e),c=_r(o,s);c.payload=t,r!=null&&(c.callback=r),t=si(e,c,s),t!==null&&(Wn(t,e,s,o),Vl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=Gt(),s=li(e),c=_r(o,s);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=si(e,c,s),t!==null&&(Wn(t,e,s,o),Vl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Gt(),o=li(e),s=_r(r,o);s.tag=2,t!=null&&(s.callback=t),t=si(e,s,o),t!==null&&(Wn(t,e,o,r),Vl(t,e,o))}};function qv(e,t,r,o,s,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,f):t.prototype&&t.prototype.isPureReactComponent?!ya(r,o)||!ya(s,c):!0}function I0(e,t,r){var o=!1,s=di,c=t.contextType;return typeof c=="object"&&c!==null?c=En(c):(s=on(t)?Bi:It.current,o=t.contextTypes,c=(o=o!=null)?Vo(e,s):di),t=new t(r,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yu,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=c),t}function Zv(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&Yu.enqueueReplaceState(t,t.state,null)}function wd(e,t,r,o){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Mh(e);var c=t.contextType;typeof c=="object"&&c!==null?s.context=En(c):(c=on(t)?Bi:It.current,s.context=Vo(e,c)),s.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(kd(e,t,c,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yu.enqueueReplaceState(s,s.state,null),_u(e,r,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xo(e,t){try{var r="",o=t;do r+=hk(o),o=o.return;while(o);var s=r}catch(c){s=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:s,digest:null}}function Df(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function _d(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Uw=typeof WeakMap=="function"?WeakMap:Map;function F0(e,t,r){r=_r(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){Lu||(Lu=!0,Nd=o),_d(e,t)},r}function z0(e,t,r){r=_r(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=t.value;r.payload=function(){return o(s)},r.callback=function(){_d(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(r.callback=function(){_d(e,t),typeof o!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),r}function em(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Uw;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(r)||(s.add(r),e=e_.bind(null,e,t,r),t.then(e,e))}function tm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nm(e,t,r,o,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_r(-1,1),t.tag=2,si(r,t,1))),r.lanes|=1),e)}var jw=Lr.ReactCurrentOwner,nn=!1;function Kt(e,t,r,o){t.child=e===null?h0(t,null,r,o):Qo(t,e.child,r,o)}function rm(e,t,r,o,s){r=r.render;var c=t.ref;return Wo(t,s),o=zh(e,t,r,o,c,s),r=Bh(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rr(e,t,s)):(Ue&&r&&Th(t),t.flags|=1,Kt(e,t,o,s),t.child)}function im(e,t,r,o,s){if(e===null){var c=r.type;return typeof c=="function"&&!Qh(c)&&c.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=c,B0(e,t,c,o,s)):(e=Zl(r.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&s)){var f=c.memoizedProps;if(r=r.compare,r=r!==null?r:ya,r(f,o)&&e.ref===t.ref)return Rr(e,t,s)}return t.flags|=1,e=ui(c,o),e.ref=t.ref,e.return=t,t.child=e}function B0(e,t,r,o,s){if(e!==null){var c=e.memoizedProps;if(ya(c,o)&&e.ref===t.ref)if(nn=!1,t.pendingProps=o=c,(e.lanes&s)!==0)e.flags&131072&&(nn=!0);else return t.lanes=e.lanes,Rr(e,t,s)}return bd(e,t,r,o,s)}function U0(e,t,r){var o=t.pendingProps,s=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(zo,hn),hn|=r;else{if(!(r&1073741824))return e=c!==null?c.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(zo,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:r,Ne(zo,hn),hn|=o}else c!==null?(o=c.baseLanes|r,t.memoizedState=null):o=r,Ne(zo,hn),hn|=o;return Kt(e,t,s,r),t.child}function j0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bd(e,t,r,o,s){var c=on(r)?Bi:It.current;return c=Vo(t,c),Wo(t,s),r=zh(e,t,r,o,c,s),o=Bh(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rr(e,t,s)):(Ue&&o&&Th(t),t.flags|=1,Kt(e,t,r,s),t.child)}function om(e,t,r,o,s){if(on(r)){var c=!0;Cu(t)}else c=!1;if(Wo(t,s),t.stateNode===null)Yl(e,t),I0(t,r,o),wd(t,r,o,s),o=!0;else if(e===null){var f=t.stateNode,p=t.memoizedProps;f.props=p;var v=f.context,y=r.contextType;typeof y=="object"&&y!==null?y=En(y):(y=on(r)?Bi:It.current,y=Vo(t,y));var S=r.getDerivedStateFromProps,k=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function";k||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==o||v!==y)&&Zv(t,f,o,y),Yr=!1;var E=t.memoizedState;f.state=E,_u(t,o,f,s),v=t.memoizedState,p!==o||E!==v||rn.current||Yr?(typeof S=="function"&&(kd(t,r,S,o),v=t.memoizedState),(p=Yr||qv(t,r,p,o,E,v,y))?(k||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=v),f.props=o,f.state=v,f.context=y,o=p):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,g0(e,t),p=t.memoizedProps,y=t.type===t.elementType?p:Bn(t.type,p),f.props=y,k=t.pendingProps,E=f.context,v=r.contextType,typeof v=="object"&&v!==null?v=En(v):(v=on(r)?Bi:It.current,v=Vo(t,v));var N=r.getDerivedStateFromProps;(S=typeof N=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==k||E!==v)&&Zv(t,f,o,v),Yr=!1,E=t.memoizedState,f.state=E,_u(t,o,f,s);var M=t.memoizedState;p!==k||E!==M||rn.current||Yr?(typeof N=="function"&&(kd(t,r,N,o),M=t.memoizedState),(y=Yr||qv(t,r,y,o,E,M,v)||!1)?(S||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,M,v),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,M,v)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=M),f.props=o,f.state=M,f.context=v,o=y):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),o=!1)}return Td(e,t,r,o,c,s)}function Td(e,t,r,o,s,c){j0(e,t);var f=(t.flags&128)!==0;if(!o&&!f)return s&&$v(t,r,!1),Rr(e,t,c);o=t.stateNode,jw.current=t;var p=f&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&f?(t.child=Qo(t,e.child,null,c),t.child=Qo(t,null,p,c)):Kt(e,t,p,c),t.memoizedState=o.state,s&&$v(t,r,!0),t.child}function H0(e){var t=e.stateNode;t.pendingContext?Wv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wv(e,t.context,!1),Nh(e,t.containerInfo)}function sm(e,t,r,o,s){return Jo(),Rh(s),t.flags|=256,Kt(e,t,r,o),t.child}var Ed={dehydrated:null,treeContext:null,retryLane:0};function Rd(e){return{baseLanes:e,cachePool:null,transitions:null}}function W0(e,t,r){var o=t.pendingProps,s=Ge.current,c=!1,f=(t.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(s&2)!==0),p?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ne(Ge,s&1),e===null)return Sd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=o.children,e=o.fallback,c?(o=t.mode,c=t.child,f={mode:"hidden",children:f},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=f):c=Zu(f,o,0,null),e=Fi(e,o,r,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=Rd(r),t.memoizedState=Ed,e):Hh(t,f));if(s=e.memoizedState,s!==null&&(p=s.dehydrated,p!==null))return Hw(e,t,f,o,p,s,r);if(c){c=o.fallback,f=t.mode,s=e.child,p=s.sibling;var v={mode:"hidden",children:o.children};return!(f&1)&&t.child!==s?(o=t.child,o.childLanes=0,o.pendingProps=v,t.deletions=null):(o=ui(s,v),o.subtreeFlags=s.subtreeFlags&14680064),p!==null?c=ui(p,c):(c=Fi(c,f,r,null),c.flags|=2),c.return=t,o.return=t,o.sibling=c,t.child=o,o=c,c=t.child,f=e.child.memoizedState,f=f===null?Rd(r):{baseLanes:f.baseLanes|r,cachePool:null,transitions:f.transitions},c.memoizedState=f,c.childLanes=e.childLanes&~r,t.memoizedState=Ed,o}return c=e.child,e=c.sibling,o=ui(c,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Hh(e,t){return t=Zu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zl(e,t,r,o){return o!==null&&Rh(o),Qo(t,e.child,null,r),e=Hh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hw(e,t,r,o,s,c,f){if(r)return t.flags&256?(t.flags&=-257,o=Df(Error(V(422))),zl(e,t,f,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=o.fallback,s=t.mode,o=Zu({mode:"visible",children:o.children},s,0,null),c=Fi(c,s,f,null),c.flags|=2,o.return=t,c.return=t,o.sibling=c,t.child=o,t.mode&1&&Qo(t,e.child,null,f),t.child.memoizedState=Rd(f),t.memoizedState=Ed,c);if(!(t.mode&1))return zl(e,t,f,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var p=o.dgst;return o=p,c=Error(V(419)),o=Df(c,o,void 0),zl(e,t,f,o)}if(p=(f&e.childLanes)!==0,nn||p){if(o=xt,o!==null){switch(f&-f){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(o.suspendedLanes|f)?0:s,s!==0&&s!==c.retryLane&&(c.retryLane=s,Er(e,s),Wn(o,e,s,-1))}return Jh(),o=Df(Error(V(421))),zl(e,t,f,o)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=t_.bind(null,e),s._reactRetry=t,null):(e=c.treeContext,gn=oi(s.nextSibling),vn=t,Ue=!0,jn=null,e!==null&&(wn[_n++]=kr,wn[_n++]=wr,wn[_n++]=Ui,kr=e.id,wr=e.overflow,Ui=t),t=Hh(t,o.children),t.flags|=4096,t)}function am(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),xd(e.return,t,r)}function Mf(e,t,r,o,s){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:s}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=r,c.tailMode=s)}function $0(e,t,r){var o=t.pendingProps,s=o.revealOrder,c=o.tail;if(Kt(e,t,o.children,r),o=Ge.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&am(e,r,t);else if(e.tag===19)am(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ne(Ge,o),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&bu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Mf(t,!1,s,r,c);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Mf(t,!0,r,null,c);break;case"together":Mf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,r=ui(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ui(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ww(e,t,r){switch(t.tag){case 3:H0(t),Jo();break;case 5:v0(t);break;case 1:on(t.type)&&Cu(t);break;case 4:Nh(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,s=t.memoizedProps.value;Ne(ku,o._currentValue),o._currentValue=s;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ne(Ge,Ge.current&1),t.flags|=128,null):r&t.child.childLanes?W0(e,t,r):(Ne(Ge,Ge.current&1),e=Rr(e,t,r),e!==null?e.sibling:null);Ne(Ge,Ge.current&1);break;case 19:if(o=(r&t.childLanes)!==0,e.flags&128){if(o)return $0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Ge,Ge.current),o)break;return null;case 22:case 23:return t.lanes=0,U0(e,t,r)}return Rr(e,t,r)}var K0,Ld,G0,V0;K0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ld=function(){};G0=function(e,t,r,o){var s=e.memoizedProps;if(s!==o){e=t.stateNode,Ni(ar.current);var c=null;switch(r){case"input":s=Xf(e,s),o=Xf(e,o),c=[];break;case"select":s=Je({},s,{value:void 0}),o=Je({},o,{value:void 0}),c=[];break;case"textarea":s=ed(e,s),o=ed(e,o),c=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=mu)}nd(r,o);var f;r=null;for(y in s)if(!o.hasOwnProperty(y)&&s.hasOwnProperty(y)&&s[y]!=null)if(y==="style"){var p=s[y];for(f in p)p.hasOwnProperty(f)&&(r||(r={}),r[f]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(fa.hasOwnProperty(y)?c||(c=[]):(c=c||[]).push(y,null));for(y in o){var v=o[y];if(p=s!=null?s[y]:void 0,o.hasOwnProperty(y)&&v!==p&&(v!=null||p!=null))if(y==="style")if(p){for(f in p)!p.hasOwnProperty(f)||v&&v.hasOwnProperty(f)||(r||(r={}),r[f]="");for(f in v)v.hasOwnProperty(f)&&p[f]!==v[f]&&(r||(r={}),r[f]=v[f])}else r||(c||(c=[]),c.push(y,r)),r=v;else y==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,p=p?p.__html:void 0,v!=null&&p!==v&&(c=c||[]).push(y,v)):y==="children"?typeof v!="string"&&typeof v!="number"||(c=c||[]).push(y,""+v):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(fa.hasOwnProperty(y)?(v!=null&&y==="onScroll"&&Ie("scroll",e),c||p===v||(c=[])):(c=c||[]).push(y,v))}r&&(c=c||[]).push("style",r);var y=c;(t.updateQueue=y)&&(t.flags|=4)}};V0=function(e,t,r,o){r!==o&&(t.flags|=4)};function Gs(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function $w(e,t,r){var o=t.pendingProps;switch(Eh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return on(t.type)&&yu(),Nt(t),null;case 3:return o=t.stateNode,Yo(),Fe(rn),Fe(It),Ih(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Il(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jn!==null&&(Fd(jn),jn=null))),Ld(e,t),Nt(t),null;case 5:Ah(t);var s=Ni(wa.current);if(r=t.type,e!==null&&t.stateNode!=null)G0(e,t,r,o,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(V(166));return Nt(t),null}if(e=Ni(ar.current),Il(t)){o=t.stateNode,r=t.type;var c=t.memoizedProps;switch(o[rr]=t,o[xa]=c,e=(t.mode&1)!==0,r){case"dialog":Ie("cancel",o),Ie("close",o);break;case"iframe":case"object":case"embed":Ie("load",o);break;case"video":case"audio":for(s=0;s<Zs.length;s++)Ie(Zs[s],o);break;case"source":Ie("error",o);break;case"img":case"image":case"link":Ie("error",o),Ie("load",o);break;case"details":Ie("toggle",o);break;case"input":vv(o,c),Ie("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},Ie("invalid",o);break;case"textarea":yv(o,c),Ie("invalid",o)}nd(r,c),s=null;for(var f in c)if(c.hasOwnProperty(f)){var p=c[f];f==="children"?typeof p=="string"?o.textContent!==p&&(c.suppressHydrationWarning!==!0&&Al(o.textContent,p,e),s=["children",p]):typeof p=="number"&&o.textContent!==""+p&&(c.suppressHydrationWarning!==!0&&Al(o.textContent,p,e),s=["children",""+p]):fa.hasOwnProperty(f)&&p!=null&&f==="onScroll"&&Ie("scroll",o)}switch(r){case"input":El(o),mv(o,c,!0);break;case"textarea":El(o),Cv(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=mu)}o=s,t.updateQueue=o,o!==null&&(t.flags|=4)}else{f=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=f.createElement(r,{is:o.is}):(e=f.createElement(r),r==="select"&&(f=e,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):e=f.createElementNS(e,r),e[rr]=t,e[xa]=o,K0(e,t,!1,!1),t.stateNode=e;e:{switch(f=rd(r,o),r){case"dialog":Ie("cancel",e),Ie("close",e),s=o;break;case"iframe":case"object":case"embed":Ie("load",e),s=o;break;case"video":case"audio":for(s=0;s<Zs.length;s++)Ie(Zs[s],e);s=o;break;case"source":Ie("error",e),s=o;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),s=o;break;case"details":Ie("toggle",e),s=o;break;case"input":vv(e,o),s=Xf(e,o),Ie("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=Je({},o,{value:void 0}),Ie("invalid",e);break;case"textarea":yv(e,o),s=ed(e,o),Ie("invalid",e);break;default:s=o}nd(r,s),p=s;for(c in p)if(p.hasOwnProperty(c)){var v=p[c];c==="style"?_y(e,v):c==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&ky(e,v)):c==="children"?typeof v=="string"?(r!=="textarea"||v!=="")&&da(e,v):typeof v=="number"&&da(e,""+v):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fa.hasOwnProperty(c)?v!=null&&c==="onScroll"&&Ie("scroll",e):v!=null&&dh(e,c,v,f))}switch(r){case"input":El(e),mv(e,o,!1);break;case"textarea":El(e),Cv(e);break;case"option":o.value!=null&&e.setAttribute("value",""+fi(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?Bo(e,!!o.multiple,c,!1):o.defaultValue!=null&&Bo(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=mu)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)V0(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(V(166));if(r=Ni(wa.current),Ni(ar.current),Il(t)){if(o=t.stateNode,r=t.memoizedProps,o[rr]=t,(c=o.nodeValue!==r)&&(e=vn,e!==null))switch(e.tag){case 3:Al(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Al(o.nodeValue,r,(e.mode&1)!==0)}c&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[rr]=t,t.stateNode=o}return Nt(t),null;case 13:if(Fe(Ge),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&gn!==null&&t.mode&1&&!(t.flags&128))f0(),Jo(),t.flags|=98560,c=!1;else if(c=Il(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(V(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(V(317));c[rr]=t}else Jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),c=!1}else jn!==null&&(Fd(jn),jn=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?gt===0&&(gt=3):Jh())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return Yo(),Ld(e,t),e===null&&Ca(t.stateNode.containerInfo),Nt(t),null;case 10:return Oh(t.type._context),Nt(t),null;case 17:return on(t.type)&&yu(),Nt(t),null;case 19:if(Fe(Ge),c=t.memoizedState,c===null)return Nt(t),null;if(o=(t.flags&128)!==0,f=c.rendering,f===null)if(o)Gs(c,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=bu(e),f!==null){for(t.flags|=128,Gs(c,!1),o=f.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)c=r,e=o,c.flags&=14680066,f=c.alternate,f===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=f.childLanes,c.lanes=f.lanes,c.child=f.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=f.memoizedProps,c.memoizedState=f.memoizedState,c.updateQueue=f.updateQueue,c.type=f.type,e=f.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ne(Ge,Ge.current&1|2),t.child}e=e.sibling}c.tail!==null&&tt()>qo&&(t.flags|=128,o=!0,Gs(c,!1),t.lanes=4194304)}else{if(!o)if(e=bu(f),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gs(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ue)return Nt(t),null}else 2*tt()-c.renderingStartTime>qo&&r!==1073741824&&(t.flags|=128,o=!0,Gs(c,!1),t.lanes=4194304);c.isBackwards?(f.sibling=t.child,t.child=f):(r=c.last,r!==null?r.sibling=f:t.child=f,c.last=f)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=tt(),t.sibling=null,r=Ge.current,Ne(Ge,o?r&1|2:r&1),t):(Nt(t),null);case 22:case 23:return Vh(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?hn&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function Kw(e,t){switch(Eh(t),t.tag){case 1:return on(t.type)&&yu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yo(),Fe(rn),Fe(It),Ih(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ah(t),null;case 13:if(Fe(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Ge),null;case 4:return Yo(),null;case 10:return Oh(t.type._context),null;case 22:case 23:return Vh(),null;case 24:return null;default:return null}}var Bl=!1,At=!1,Gw=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Fo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){Xe(e,t,o)}else r.current=null}function Pd(e,t,r){try{r()}catch(o){Xe(e,t,o)}}var lm=!1;function Vw(e,t){if(hd=pu,e=qy(),bh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var s=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var f=0,p=-1,v=-1,y=0,S=0,k=e,E=null;t:for(;;){for(var N;k!==r||s!==0&&k.nodeType!==3||(p=f+s),k!==c||o!==0&&k.nodeType!==3||(v=f+o),k.nodeType===3&&(f+=k.nodeValue.length),(N=k.firstChild)!==null;)E=k,k=N;for(;;){if(k===e)break t;if(E===r&&++y===s&&(p=f),E===c&&++S===o&&(v=f),(N=k.nextSibling)!==null)break;k=E,E=k.parentNode}k=N}r=p===-1||v===-1?null:{start:p,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(pd={focusedElem:e,selectionRange:r},pu=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var M=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var A=M.memoizedProps,U=M.memoizedState,P=t.stateNode,_=P.getSnapshotBeforeUpdate(t.elementType===t.type?A:Bn(t.type,A),U);P.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(F){Xe(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return M=lm,lm=!1,M}function sa(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var c=s.destroy;s.destroy=void 0,c!==void 0&&Pd(t,r,c)}s=s.next}while(s!==o)}}function Xu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function Od(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function J0(e){var t=e.alternate;t!==null&&(e.alternate=null,J0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rr],delete t[xa],delete t[md],delete t[Lw],delete t[Pw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Q0(e){return e.tag===5||e.tag===3||e.tag===4}function um(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Q0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dd(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mu));else if(o!==4&&(e=e.child,e!==null))for(Dd(e,t,r),e=e.sibling;e!==null;)Dd(e,t,r),e=e.sibling}function Md(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Md(e,t,r),e=e.sibling;e!==null;)Md(e,t,r),e=e.sibling}var Tt=null,Un=!1;function Vr(e,t,r){for(r=r.child;r!==null;)Y0(e,t,r),r=r.sibling}function Y0(e,t,r){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Wu,r)}catch{}switch(r.tag){case 5:At||Fo(r,t);case 6:var o=Tt,s=Un;Tt=null,Vr(e,t,r),Tt=o,Un=s,Tt!==null&&(Un?(e=Tt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Tt.removeChild(r.stateNode));break;case 18:Tt!==null&&(Un?(e=Tt,r=r.stateNode,e.nodeType===8?Tf(e.parentNode,r):e.nodeType===1&&Tf(e,r),va(e)):Tf(Tt,r.stateNode));break;case 4:o=Tt,s=Un,Tt=r.stateNode.containerInfo,Un=!0,Vr(e,t,r),Tt=o,Un=s;break;case 0:case 11:case 14:case 15:if(!At&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var c=s,f=c.destroy;c=c.tag,f!==void 0&&(c&2||c&4)&&Pd(r,t,f),s=s.next}while(s!==o)}Vr(e,t,r);break;case 1:if(!At&&(Fo(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(p){Xe(r,t,p)}Vr(e,t,r);break;case 21:Vr(e,t,r);break;case 22:r.mode&1?(At=(o=At)||r.memoizedState!==null,Vr(e,t,r),At=o):Vr(e,t,r);break;default:Vr(e,t,r)}}function cm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Gw),t.forEach(function(o){var s=n_.bind(null,e,o);r.has(o)||(r.add(o),o.then(s,s))})}}function zn(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var s=r[o];try{var c=e,f=t,p=f;e:for(;p!==null;){switch(p.tag){case 5:Tt=p.stateNode,Un=!1;break e;case 3:Tt=p.stateNode.containerInfo,Un=!0;break e;case 4:Tt=p.stateNode.containerInfo,Un=!0;break e}p=p.return}if(Tt===null)throw Error(V(160));Y0(c,f,s),Tt=null,Un=!1;var v=s.alternate;v!==null&&(v.return=null),s.return=null}catch(y){Xe(s,t,y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)X0(t,e),t=t.sibling}function X0(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zn(t,e),tr(e),o&4){try{sa(3,e,e.return),Xu(3,e)}catch(A){Xe(e,e.return,A)}try{sa(5,e,e.return)}catch(A){Xe(e,e.return,A)}}break;case 1:zn(t,e),tr(e),o&512&&r!==null&&Fo(r,r.return);break;case 5:if(zn(t,e),tr(e),o&512&&r!==null&&Fo(r,r.return),e.flags&32){var s=e.stateNode;try{da(s,"")}catch(A){Xe(e,e.return,A)}}if(o&4&&(s=e.stateNode,s!=null)){var c=e.memoizedProps,f=r!==null?r.memoizedProps:c,p=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{p==="input"&&c.type==="radio"&&c.name!=null&&Cy(s,c),rd(p,f);var y=rd(p,c);for(f=0;f<v.length;f+=2){var S=v[f],k=v[f+1];S==="style"?_y(s,k):S==="dangerouslySetInnerHTML"?ky(s,k):S==="children"?da(s,k):dh(s,S,k,y)}switch(p){case"input":qf(s,c);break;case"textarea":Sy(s,c);break;case"select":var E=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!c.multiple;var N=c.value;N!=null?Bo(s,!!c.multiple,N,!1):E!==!!c.multiple&&(c.defaultValue!=null?Bo(s,!!c.multiple,c.defaultValue,!0):Bo(s,!!c.multiple,c.multiple?[]:"",!1))}s[xa]=c}catch(A){Xe(e,e.return,A)}}break;case 6:if(zn(t,e),tr(e),o&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,c=e.memoizedProps;try{s.nodeValue=c}catch(A){Xe(e,e.return,A)}}break;case 3:if(zn(t,e),tr(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{va(t.containerInfo)}catch(A){Xe(e,e.return,A)}break;case 4:zn(t,e),tr(e);break;case 13:zn(t,e),tr(e),s=e.child,s.flags&8192&&(c=s.memoizedState!==null,s.stateNode.isHidden=c,!c||s.alternate!==null&&s.alternate.memoizedState!==null||(Kh=tt())),o&4&&cm(e);break;case 22:if(S=r!==null&&r.memoizedState!==null,e.mode&1?(At=(y=At)||S,zn(t,e),At=y):zn(t,e),tr(e),o&8192){if(y=e.memoizedState!==null,(e.stateNode.isHidden=y)&&!S&&e.mode&1)for(ie=e,S=e.child;S!==null;){for(k=ie=S;ie!==null;){switch(E=ie,N=E.child,E.tag){case 0:case 11:case 14:case 15:sa(4,E,E.return);break;case 1:Fo(E,E.return);var M=E.stateNode;if(typeof M.componentWillUnmount=="function"){o=E,r=E.return;try{t=o,M.props=t.memoizedProps,M.state=t.memoizedState,M.componentWillUnmount()}catch(A){Xe(o,r,A)}}break;case 5:Fo(E,E.return);break;case 22:if(E.memoizedState!==null){dm(k);continue}}N!==null?(N.return=E,ie=N):dm(k)}S=S.sibling}e:for(S=null,k=e;;){if(k.tag===5){if(S===null){S=k;try{s=k.stateNode,y?(c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(p=k.stateNode,v=k.memoizedProps.style,f=v!=null&&v.hasOwnProperty("display")?v.display:null,p.style.display=wy("display",f))}catch(A){Xe(e,e.return,A)}}}else if(k.tag===6){if(S===null)try{k.stateNode.nodeValue=y?"":k.memoizedProps}catch(A){Xe(e,e.return,A)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===e)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===e)break e;for(;k.sibling===null;){if(k.return===null||k.return===e)break e;S===k&&(S=null),k=k.return}S===k&&(S=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:zn(t,e),tr(e),o&4&&cm(e);break;case 21:break;default:zn(t,e),tr(e)}}function tr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Q0(r)){var o=r;break e}r=r.return}throw Error(V(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(da(s,""),o.flags&=-33);var c=um(e);Md(e,c,s);break;case 3:case 4:var f=o.stateNode.containerInfo,p=um(e);Dd(e,p,f);break;default:throw Error(V(161))}}catch(v){Xe(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jw(e,t,r){ie=e,q0(e)}function q0(e,t,r){for(var o=(e.mode&1)!==0;ie!==null;){var s=ie,c=s.child;if(s.tag===22&&o){var f=s.memoizedState!==null||Bl;if(!f){var p=s.alternate,v=p!==null&&p.memoizedState!==null||At;p=Bl;var y=At;if(Bl=f,(At=v)&&!y)for(ie=s;ie!==null;)f=ie,v=f.child,f.tag===22&&f.memoizedState!==null?hm(s):v!==null?(v.return=f,ie=v):hm(s);for(;c!==null;)ie=c,q0(c),c=c.sibling;ie=s,Bl=p,At=y}fm(e)}else s.subtreeFlags&8772&&c!==null?(c.return=s,ie=c):fm(e)}}function fm(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||Xu(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!At)if(r===null)o.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Bn(t.type,r.memoizedProps);o.componentDidUpdate(s,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Qv(t,c,o);break;case 3:var f=t.updateQueue;if(f!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Qv(t,f,r)}break;case 5:var p=t.stateNode;if(r===null&&t.flags&4){r=p;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&r.focus();break;case"img":v.src&&(r.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var y=t.alternate;if(y!==null){var S=y.memoizedState;if(S!==null){var k=S.dehydrated;k!==null&&va(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}At||t.flags&512&&Od(t)}catch(E){Xe(t,t.return,E)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function dm(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function hm(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xu(4,t)}catch(v){Xe(t,r,v)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var s=t.return;try{o.componentDidMount()}catch(v){Xe(t,s,v)}}var c=t.return;try{Od(t)}catch(v){Xe(t,c,v)}break;case 5:var f=t.return;try{Od(t)}catch(v){Xe(t,f,v)}}}catch(v){Xe(t,t.return,v)}if(t===e){ie=null;break}var p=t.sibling;if(p!==null){p.return=t.return,ie=p;break}ie=t.return}}var Qw=Math.ceil,Ru=Lr.ReactCurrentDispatcher,Wh=Lr.ReactCurrentOwner,Tn=Lr.ReactCurrentBatchConfig,_e=0,xt=null,it=null,Et=0,hn=0,zo=pi(0),gt=0,Ea=null,Hi=0,qu=0,$h=0,aa=null,tn=null,Kh=0,qo=1/0,Sr=null,Lu=!1,Nd=null,ai=null,Ul=!1,ei=null,Pu=0,la=0,Ad=null,Xl=-1,ql=0;function Gt(){return _e&6?tt():Xl!==-1?Xl:Xl=tt()}function li(e){return e.mode&1?_e&2&&Et!==0?Et&-Et:Dw.transition!==null?(ql===0&&(ql=Iy()),ql):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Wy(e.type)),e):1}function Wn(e,t,r,o){if(50<la)throw la=0,Ad=null,Error(V(185));Ia(e,r,o),(!(_e&2)||e!==xt)&&(e===xt&&(!(_e&2)&&(qu|=r),gt===4&&qr(e,Et)),sn(e,o),r===1&&_e===0&&!(t.mode&1)&&(qo=tt()+500,Ju&&gi()))}function sn(e,t){var r=e.callbackNode;Dk(e,t);var o=hu(e,e===xt?Et:0);if(o===0)r!==null&&kv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&kv(r),t===1)e.tag===0?Ow(pm.bind(null,e)):l0(pm.bind(null,e)),Ew(function(){!(_e&6)&&gi()}),r=null;else{switch(Fy(o)){case 1:r=mh;break;case 4:r=Ny;break;case 16:r=du;break;case 536870912:r=Ay;break;default:r=du}r=s1(r,Z0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Z0(e,t){if(Xl=-1,ql=0,_e&6)throw Error(V(327));var r=e.callbackNode;if($o()&&e.callbackNode!==r)return null;var o=hu(e,e===xt?Et:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=Ou(e,o);else{t=o;var s=_e;_e|=2;var c=t1();(xt!==e||Et!==t)&&(Sr=null,qo=tt()+500,Ii(e,t));do try{qw();break}catch(p){e1(e,p)}while(!0);Ph(),Ru.current=c,_e=s,it!==null?t=0:(xt=null,Et=0,t=gt)}if(t!==0){if(t===2&&(s=ld(e),s!==0&&(o=s,t=Id(e,s))),t===1)throw r=Ea,Ii(e,0),qr(e,o),sn(e,tt()),r;if(t===6)qr(e,o);else{if(s=e.current.alternate,!(o&30)&&!Yw(s)&&(t=Ou(e,o),t===2&&(c=ld(e),c!==0&&(o=c,t=Id(e,c))),t===1))throw r=Ea,Ii(e,0),qr(e,o),sn(e,tt()),r;switch(e.finishedWork=s,e.finishedLanes=o,t){case 0:case 1:throw Error(V(345));case 2:Pi(e,tn,Sr);break;case 3:if(qr(e,o),(o&130023424)===o&&(t=Kh+500-tt(),10<t)){if(hu(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){Gt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=vd(Pi.bind(null,e,tn,Sr),t);break}Pi(e,tn,Sr);break;case 4:if(qr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,s=-1;0<o;){var f=31-Hn(o);c=1<<f,f=t[f],f>s&&(s=f),o&=~c}if(o=s,o=tt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Qw(o/1960))-o,10<o){e.timeoutHandle=vd(Pi.bind(null,e,tn,Sr),o);break}Pi(e,tn,Sr);break;case 5:Pi(e,tn,Sr);break;default:throw Error(V(329))}}}return sn(e,tt()),e.callbackNode===r?Z0.bind(null,e):null}function Id(e,t){var r=aa;return e.current.memoizedState.isDehydrated&&(Ii(e,t).flags|=256),e=Ou(e,t),e!==2&&(t=tn,tn=r,t!==null&&Fd(t)),e}function Fd(e){tn===null?tn=e:tn.push.apply(tn,e)}function Yw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var s=r[o],c=s.getSnapshot;s=s.value;try{if(!$n(c(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qr(e,t){for(t&=~$h,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Hn(t),o=1<<r;e[r]=-1,t&=~o}}function pm(e){if(_e&6)throw Error(V(327));$o();var t=hu(e,0);if(!(t&1))return sn(e,tt()),null;var r=Ou(e,t);if(e.tag!==0&&r===2){var o=ld(e);o!==0&&(t=o,r=Id(e,o))}if(r===1)throw r=Ea,Ii(e,0),qr(e,t),sn(e,tt()),r;if(r===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pi(e,tn,Sr),sn(e,tt()),null}function Gh(e,t){var r=_e;_e|=1;try{return e(t)}finally{_e=r,_e===0&&(qo=tt()+500,Ju&&gi())}}function Wi(e){ei!==null&&ei.tag===0&&!(_e&6)&&$o();var t=_e;_e|=1;var r=Tn.transition,o=Oe;try{if(Tn.transition=null,Oe=1,e)return e()}finally{Oe=o,Tn.transition=r,_e=t,!(_e&6)&&gi()}}function Vh(){hn=zo.current,Fe(zo)}function Ii(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Tw(r)),it!==null)for(r=it.return;r!==null;){var o=r;switch(Eh(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&yu();break;case 3:Yo(),Fe(rn),Fe(It),Ih();break;case 5:Ah(o);break;case 4:Yo();break;case 13:Fe(Ge);break;case 19:Fe(Ge);break;case 10:Oh(o.type._context);break;case 22:case 23:Vh()}r=r.return}if(xt=e,it=e=ui(e.current,null),Et=hn=t,gt=0,Ea=null,$h=qu=Hi=0,tn=aa=null,Mi!==null){for(t=0;t<Mi.length;t++)if(r=Mi[t],o=r.interleaved,o!==null){r.interleaved=null;var s=o.next,c=r.pending;if(c!==null){var f=c.next;c.next=s,o.next=f}r.pending=o}Mi=null}return e}function e1(e,t){do{var r=it;try{if(Ph(),Jl.current=Eu,Tu){for(var o=Ve.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Tu=!1}if(ji=0,Ct=pt=Ve=null,oa=!1,_a=0,Wh.current=null,r===null||r.return===null){gt=1,Ea=t,it=null;break}e:{var c=e,f=r.return,p=r,v=t;if(t=Et,p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var y=v,S=p,k=S.tag;if(!(S.mode&1)&&(k===0||k===11||k===15)){var E=S.alternate;E?(S.updateQueue=E.updateQueue,S.memoizedState=E.memoizedState,S.lanes=E.lanes):(S.updateQueue=null,S.memoizedState=null)}var N=tm(f);if(N!==null){N.flags&=-257,nm(N,f,p,c,t),N.mode&1&&em(c,y,t),t=N,v=y;var M=t.updateQueue;if(M===null){var A=new Set;A.add(v),t.updateQueue=A}else M.add(v);break e}else{if(!(t&1)){em(c,y,t),Jh();break e}v=Error(V(426))}}else if(Ue&&p.mode&1){var U=tm(f);if(U!==null){!(U.flags&65536)&&(U.flags|=256),nm(U,f,p,c,t),Rh(Xo(v,p));break e}}c=v=Xo(v,p),gt!==4&&(gt=2),aa===null?aa=[c]:aa.push(c),c=f;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var P=F0(c,v,t);Jv(c,P);break e;case 1:p=v;var _=c.type,R=c.stateNode;if(!(c.flags&128)&&(typeof _.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(ai===null||!ai.has(R)))){c.flags|=65536,t&=-t,c.lanes|=t;var F=z0(c,p,t);Jv(c,F);break e}}c=c.return}while(c!==null)}r1(r)}catch(H){t=H,it===r&&r!==null&&(it=r=r.return);continue}break}while(!0)}function t1(){var e=Ru.current;return Ru.current=Eu,e===null?Eu:e}function Jh(){(gt===0||gt===3||gt===2)&&(gt=4),xt===null||!(Hi&268435455)&&!(qu&268435455)||qr(xt,Et)}function Ou(e,t){var r=_e;_e|=2;var o=t1();(xt!==e||Et!==t)&&(Sr=null,Ii(e,t));do try{Xw();break}catch(s){e1(e,s)}while(!0);if(Ph(),_e=r,Ru.current=o,it!==null)throw Error(V(261));return xt=null,Et=0,gt}function Xw(){for(;it!==null;)n1(it)}function qw(){for(;it!==null&&!wk();)n1(it)}function n1(e){var t=o1(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?r1(e):it=t,Wh.current=null}function r1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Kw(r,t),r!==null){r.flags&=32767,it=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,it=null;return}}else if(r=$w(r,t,hn),r!==null){it=r;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);gt===0&&(gt=5)}function Pi(e,t,r){var o=Oe,s=Tn.transition;try{Tn.transition=null,Oe=1,Zw(e,t,r,o)}finally{Tn.transition=s,Oe=o}return null}function Zw(e,t,r,o){do $o();while(ei!==null);if(_e&6)throw Error(V(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var c=r.lanes|r.childLanes;if(Mk(e,c),e===xt&&(it=xt=null,Et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ul||(Ul=!0,s1(du,function(){return $o(),null})),c=(r.flags&15990)!==0,r.subtreeFlags&15990||c){c=Tn.transition,Tn.transition=null;var f=Oe;Oe=1;var p=_e;_e|=4,Wh.current=null,Vw(e,r),X0(r,e),Cw(pd),pu=!!hd,pd=hd=null,e.current=r,Jw(r),_k(),_e=p,Oe=f,Tn.transition=c}else e.current=r;if(Ul&&(Ul=!1,ei=e,Pu=s),c=e.pendingLanes,c===0&&(ai=null),Ek(r.stateNode),sn(e,tt()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],o(s.value,{componentStack:s.stack,digest:s.digest});if(Lu)throw Lu=!1,e=Nd,Nd=null,e;return Pu&1&&e.tag!==0&&$o(),c=e.pendingLanes,c&1?e===Ad?la++:(la=0,Ad=e):la=0,gi(),null}function $o(){if(ei!==null){var e=Fy(Pu),t=Tn.transition,r=Oe;try{if(Tn.transition=null,Oe=16>e?16:e,ei===null)var o=!1;else{if(e=ei,ei=null,Pu=0,_e&6)throw Error(V(331));var s=_e;for(_e|=4,ie=e.current;ie!==null;){var c=ie,f=c.child;if(ie.flags&16){var p=c.deletions;if(p!==null){for(var v=0;v<p.length;v++){var y=p[v];for(ie=y;ie!==null;){var S=ie;switch(S.tag){case 0:case 11:case 15:sa(8,S,c)}var k=S.child;if(k!==null)k.return=S,ie=k;else for(;ie!==null;){S=ie;var E=S.sibling,N=S.return;if(J0(S),S===y){ie=null;break}if(E!==null){E.return=N,ie=E;break}ie=N}}}var M=c.alternate;if(M!==null){var A=M.child;if(A!==null){M.child=null;do{var U=A.sibling;A.sibling=null,A=U}while(A!==null)}}ie=c}}if(c.subtreeFlags&2064&&f!==null)f.return=c,ie=f;else e:for(;ie!==null;){if(c=ie,c.flags&2048)switch(c.tag){case 0:case 11:case 15:sa(9,c,c.return)}var P=c.sibling;if(P!==null){P.return=c.return,ie=P;break e}ie=c.return}}var _=e.current;for(ie=_;ie!==null;){f=ie;var R=f.child;if(f.subtreeFlags&2064&&R!==null)R.return=f,ie=R;else e:for(f=_;ie!==null;){if(p=ie,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:Xu(9,p)}}catch(H){Xe(p,p.return,H)}if(p===f){ie=null;break e}var F=p.sibling;if(F!==null){F.return=p.return,ie=F;break e}ie=p.return}}if(_e=s,gi(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Wu,e)}catch{}o=!0}return o}finally{Oe=r,Tn.transition=t}}return!1}function gm(e,t,r){t=Xo(r,t),t=F0(e,t,1),e=si(e,t,1),t=Gt(),e!==null&&(Ia(e,1,t),sn(e,t))}function Xe(e,t,r){if(e.tag===3)gm(e,e,r);else for(;t!==null;){if(t.tag===3){gm(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ai===null||!ai.has(o))){e=Xo(r,e),e=z0(t,e,1),t=si(t,e,1),e=Gt(),t!==null&&(Ia(t,1,e),sn(t,e));break}}t=t.return}}function e_(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&r,xt===e&&(Et&r)===r&&(gt===4||gt===3&&(Et&130023424)===Et&&500>tt()-Kh?Ii(e,0):$h|=r),sn(e,t)}function i1(e,t){t===0&&(e.mode&1?(t=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):t=1);var r=Gt();e=Er(e,t),e!==null&&(Ia(e,t,r),sn(e,r))}function t_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),i1(e,r)}function n_(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(V(314))}o!==null&&o.delete(t),i1(e,r)}var o1;o1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||rn.current)nn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nn=!1,Ww(e,t,r);nn=!!(e.flags&131072)}else nn=!1,Ue&&t.flags&1048576&&u0(t,xu,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Yl(e,t),e=t.pendingProps;var s=Vo(t,It.current);Wo(t,r),s=zh(null,t,o,e,s,r);var c=Bh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(o)?(c=!0,Cu(t)):c=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mh(t),s.updater=Yu,t.stateNode=s,s._reactInternals=t,wd(t,o,e,r),t=Td(null,t,o,!0,c,r)):(t.tag=0,Ue&&c&&Th(t),Kt(null,t,s,r),t=t.child),t;case 16:o=t.elementType;e:{switch(Yl(e,t),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=i_(o),e=Bn(o,e),s){case 0:t=bd(null,t,o,e,r);break e;case 1:t=om(null,t,o,e,r);break e;case 11:t=rm(null,t,o,e,r);break e;case 14:t=im(null,t,o,Bn(o.type,e),r);break e}throw Error(V(306,o,""))}return t;case 0:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Bn(o,s),bd(e,t,o,s,r);case 1:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Bn(o,s),om(e,t,o,s,r);case 3:e:{if(H0(t),e===null)throw Error(V(387));o=t.pendingProps,c=t.memoizedState,s=c.element,g0(e,t),_u(t,o,null,r);var f=t.memoizedState;if(o=f.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){s=Xo(Error(V(423)),t),t=sm(e,t,o,r,s);break e}else if(o!==s){s=Xo(Error(V(424)),t),t=sm(e,t,o,r,s);break e}else for(gn=oi(t.stateNode.containerInfo.firstChild),vn=t,Ue=!0,jn=null,r=h0(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jo(),o===s){t=Rr(e,t,r);break e}Kt(e,t,o,r)}t=t.child}return t;case 5:return v0(t),e===null&&Sd(t),o=t.type,s=t.pendingProps,c=e!==null?e.memoizedProps:null,f=s.children,gd(o,s)?f=null:c!==null&&gd(o,c)&&(t.flags|=32),j0(e,t),Kt(e,t,f,r),t.child;case 6:return e===null&&Sd(t),null;case 13:return W0(e,t,r);case 4:return Nh(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Qo(t,null,o,r):Kt(e,t,o,r),t.child;case 11:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Bn(o,s),rm(e,t,o,s,r);case 7:return Kt(e,t,t.pendingProps,r),t.child;case 8:return Kt(e,t,t.pendingProps.children,r),t.child;case 12:return Kt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,s=t.pendingProps,c=t.memoizedProps,f=s.value,Ne(ku,o._currentValue),o._currentValue=f,c!==null)if($n(c.value,f)){if(c.children===s.children&&!rn.current){t=Rr(e,t,r);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var p=c.dependencies;if(p!==null){f=c.child;for(var v=p.firstContext;v!==null;){if(v.context===o){if(c.tag===1){v=_r(-1,r&-r),v.tag=2;var y=c.updateQueue;if(y!==null){y=y.shared;var S=y.pending;S===null?v.next=v:(v.next=S.next,S.next=v),y.pending=v}}c.lanes|=r,v=c.alternate,v!==null&&(v.lanes|=r),xd(c.return,r,t),p.lanes|=r;break}v=v.next}}else if(c.tag===10)f=c.type===t.type?null:c.child;else if(c.tag===18){if(f=c.return,f===null)throw Error(V(341));f.lanes|=r,p=f.alternate,p!==null&&(p.lanes|=r),xd(f,r,t),f=c.sibling}else f=c.child;if(f!==null)f.return=c;else for(f=c;f!==null;){if(f===t){f=null;break}if(c=f.sibling,c!==null){c.return=f.return,f=c;break}f=f.return}c=f}Kt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,o=t.pendingProps.children,Wo(t,r),s=En(s),o=o(s),t.flags|=1,Kt(e,t,o,r),t.child;case 14:return o=t.type,s=Bn(o,t.pendingProps),s=Bn(o.type,s),im(e,t,o,s,r);case 15:return B0(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Bn(o,s),Yl(e,t),t.tag=1,on(o)?(e=!0,Cu(t)):e=!1,Wo(t,r),I0(t,o,s),wd(t,o,s,r),Td(null,t,o,!0,e,r);case 19:return $0(e,t,r);case 22:return U0(e,t,r)}throw Error(V(156,t.tag))};function s1(e,t){return My(e,t)}function r_(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,t,r,o){return new r_(e,t,r,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function i_(e){if(typeof e=="function")return Qh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ph)return 11;if(e===gh)return 14}return 2}function ui(e,t){var r=e.alternate;return r===null?(r=bn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zl(e,t,r,o,s,c){var f=2;if(o=e,typeof e=="function")Qh(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case Ro:return Fi(r.children,s,c,t);case hh:f=8,s|=8;break;case Vf:return e=bn(12,r,t,s|2),e.elementType=Vf,e.lanes=c,e;case Jf:return e=bn(13,r,t,s),e.elementType=Jf,e.lanes=c,e;case Qf:return e=bn(19,r,t,s),e.elementType=Qf,e.lanes=c,e;case vy:return Zu(r,s,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case py:f=10;break e;case gy:f=9;break e;case ph:f=11;break e;case gh:f=14;break e;case Qr:f=16,o=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=bn(f,r,t,s),t.elementType=e,t.type=o,t.lanes=c,t}function Fi(e,t,r,o){return e=bn(7,e,o,t),e.lanes=r,e}function Zu(e,t,r,o){return e=bn(22,e,o,t),e.elementType=vy,e.lanes=r,e.stateNode={isHidden:!1},e}function Nf(e,t,r){return e=bn(6,e,null,t),e.lanes=r,e}function Af(e,t,r){return t=bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function o_(e,t,r,o,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yh(e,t,r,o,s,c,f,p,v){return e=new o_(e,t,r,p,v),t===1?(t=1,c===!0&&(t|=8)):t=0,c=bn(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mh(c),e}function s_(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eo,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function a1(e){if(!e)return di;e=e._reactInternals;e:{if(Gi(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var r=e.type;if(on(r))return a0(e,r,t)}return t}function l1(e,t,r,o,s,c,f,p,v){return e=Yh(r,o,!0,e,s,c,f,p,v),e.context=a1(null),r=e.current,o=Gt(),s=li(r),c=_r(o,s),c.callback=t??null,si(r,c,s),e.current.lanes=s,Ia(e,s,o),sn(e,o),e}function ec(e,t,r,o){var s=t.current,c=Gt(),f=li(s);return r=a1(r),t.context===null?t.context=r:t.pendingContext=r,t=_r(c,f),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=si(s,t,f),e!==null&&(Wn(e,s,f,c),Vl(e,s,f)),f}function Du(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xh(e,t){vm(e,t),(e=e.alternate)&&vm(e,t)}function a_(){return null}var u1=typeof reportError=="function"?reportError:function(e){console.error(e)};function qh(e){this._internalRoot=e}tc.prototype.render=qh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));ec(e,t,null,null)};tc.prototype.unmount=qh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wi(function(){ec(null,e,null,null)}),t[Tr]=null}};function tc(e){this._internalRoot=e}tc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xr.length&&t!==0&&t<Xr[r].priority;r++);Xr.splice(r,0,e),r===0&&Hy(e)}};function Zh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mm(){}function l_(e,t,r,o,s){if(s){if(typeof o=="function"){var c=o;o=function(){var y=Du(f);c.call(y)}}var f=l1(t,o,e,0,null,!1,!1,"",mm);return e._reactRootContainer=f,e[Tr]=f.current,Ca(e.nodeType===8?e.parentNode:e),Wi(),f}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var p=o;o=function(){var y=Du(v);p.call(y)}}var v=Yh(e,0,!1,null,null,!1,!1,"",mm);return e._reactRootContainer=v,e[Tr]=v.current,Ca(e.nodeType===8?e.parentNode:e),Wi(function(){ec(t,v,r,o)}),v}function rc(e,t,r,o,s){var c=r._reactRootContainer;if(c){var f=c;if(typeof s=="function"){var p=s;s=function(){var v=Du(f);p.call(v)}}ec(t,f,e,s)}else f=l_(r,t,e,s,o);return Du(f)}zy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=qs(t.pendingLanes);r!==0&&(yh(t,r|1),sn(t,tt()),!(_e&6)&&(qo=tt()+500,gi()))}break;case 13:Wi(function(){var o=Er(e,1);if(o!==null){var s=Gt();Wn(o,e,1,s)}}),Xh(e,1)}};Ch=function(e){if(e.tag===13){var t=Er(e,134217728);if(t!==null){var r=Gt();Wn(t,e,134217728,r)}Xh(e,134217728)}};By=function(e){if(e.tag===13){var t=li(e),r=Er(e,t);if(r!==null){var o=Gt();Wn(r,e,t,o)}Xh(e,t)}};Uy=function(){return Oe};jy=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}};od=function(e,t,r){switch(t){case"input":if(qf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var s=Vu(o);if(!s)throw Error(V(90));yy(o),qf(o,s)}}}break;case"textarea":Sy(e,r);break;case"select":t=r.value,t!=null&&Bo(e,!!r.multiple,t,!1)}};Ey=Gh;Ry=Wi;var u_={usingClientEntryPoint:!1,Events:[za,Do,Vu,by,Ty,Gh]},Vs={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c_={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Oy(e),e===null?null:e.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||a_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Wu=jl.inject(c_),sr=jl}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u_;Cn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zh(t))throw Error(V(200));return s_(e,t,null,r)};Cn.createRoot=function(e,t){if(!Zh(e))throw Error(V(299));var r=!1,o="",s=u1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yh(e,1,!1,null,null,r,!1,o,s),e[Tr]=t.current,Ca(e.nodeType===8?e.parentNode:e),new qh(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Oy(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return Wi(e)};Cn.hydrate=function(e,t,r){if(!nc(t))throw Error(V(200));return rc(null,e,t,!0,r)};Cn.hydrateRoot=function(e,t,r){if(!Zh(e))throw Error(V(405));var o=r!=null&&r.hydratedSources||null,s=!1,c="",f=u1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),t=l1(t,null,e,1,r??null,s,!1,c,f),e[Tr]=t.current,Ca(e),o)for(e=0;e<o.length;e++)r=o[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new tc(t)};Cn.render=function(e,t,r){if(!nc(t))throw Error(V(200));return rc(null,e,t,!1,r)};Cn.unmountComponentAtNode=function(e){if(!nc(e))throw Error(V(40));return e._reactRootContainer?(Wi(function(){rc(null,null,e,!1,function(){e._reactRootContainer=null,e[Tr]=null})}),!0):!1};Cn.unstable_batchedUpdates=Gh;Cn.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!nc(r))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return rc(e,t,r,!1,o)};Cn.version="18.3.1-next-f1338f8080-20240426";function c1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c1)}catch(e){console.error(e)}}c1(),cy.exports=Cn;var f_=cy.exports,f1,ym=f_;f1=ym.createRoot,ym.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ra.apply(this,arguments)}var ti;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ti||(ti={}));const Cm="popstate";function d_(e){e===void 0&&(e={});function t(o,s){let{pathname:c,search:f,hash:p}=o.location;return zd("",{pathname:c,search:f,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(o,s){return typeof s=="string"?s:Mu(s)}return p_(t,r,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function d1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function h_(){return Math.random().toString(36).substr(2,8)}function Sm(e,t){return{usr:e.state,key:e.key,idx:t}}function zd(e,t,r,o){return r===void 0&&(r=null),Ra({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rs(t):t,{state:r,key:t&&t.key||o||h_()})}function Mu(e){let{pathname:t="/",search:r="",hash:o=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function rs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function p_(e,t,r,o){o===void 0&&(o={});let{window:s=document.defaultView,v5Compat:c=!1}=o,f=s.history,p=ti.Pop,v=null,y=S();y==null&&(y=0,f.replaceState(Ra({},f.state,{idx:y}),""));function S(){return(f.state||{idx:null}).idx}function k(){p=ti.Pop;let U=S(),P=U==null?null:U-y;y=U,v&&v({action:p,location:A.location,delta:P})}function E(U,P){p=ti.Push;let _=zd(A.location,U,P);y=S()+1;let R=Sm(_,y),F=A.createHref(_);try{f.pushState(R,"",F)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(F)}c&&v&&v({action:p,location:A.location,delta:1})}function N(U,P){p=ti.Replace;let _=zd(A.location,U,P);y=S();let R=Sm(_,y),F=A.createHref(_);f.replaceState(R,"",F),c&&v&&v({action:p,location:A.location,delta:0})}function M(U){let P=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof U=="string"?U:Mu(U);return _=_.replace(/ $/,"%20"),ot(P,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,P)}let A={get action(){return p},get location(){return e(s,f)},listen(U){if(v)throw new Error("A history only accepts one active listener");return s.addEventListener(Cm,k),v=U,()=>{s.removeEventListener(Cm,k),v=null}},createHref(U){return t(s,U)},createURL:M,encodeLocation(U){let P=M(U);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:E,replace:N,go(U){return f.go(U)}};return A}var xm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xm||(xm={}));function g_(e,t,r){return r===void 0&&(r="/"),v_(e,t,r,!1)}function v_(e,t,r,o){let s=typeof t=="string"?rs(t):t,c=ep(s.pathname||"/",r);if(c==null)return null;let f=h1(e);m_(f);let p=null;for(let v=0;p==null&&v<f.length;++v){let y=R_(c);p=T_(f[v],y,o)}return p}function h1(e,t,r,o){t===void 0&&(t=[]),r===void 0&&(r=[]),o===void 0&&(o="");let s=(c,f,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};v.relativePath.startsWith("/")&&(ot(v.relativePath.startsWith(o),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(o.length));let y=ci([o,v.relativePath]),S=r.concat(v);c.children&&c.children.length>0&&(ot(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),h1(c.children,t,S,y)),!(c.path==null&&!c.index)&&t.push({path:y,score:__(y,c.index),routesMeta:S})};return e.forEach((c,f)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))s(c,f);else for(let v of p1(c.path))s(c,f,v)}),t}function p1(e){let t=e.split("/");if(t.length===0)return[];let[r,...o]=t,s=r.endsWith("?"),c=r.replace(/\?$/,"");if(o.length===0)return s?[c,""]:[c];let f=p1(o.join("/")),p=[];return p.push(...f.map(v=>v===""?c:[c,v].join("/"))),s&&p.push(...f),p.map(v=>e.startsWith("/")&&v===""?"/":v)}function m_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:b_(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const y_=/^:[\w-]+$/,C_=3,S_=2,x_=1,k_=10,w_=-2,km=e=>e==="*";function __(e,t){let r=e.split("/"),o=r.length;return r.some(km)&&(o+=w_),t&&(o+=S_),r.filter(s=>!km(s)).reduce((s,c)=>s+(y_.test(c)?C_:c===""?x_:k_),o)}function b_(e,t){return e.length===t.length&&e.slice(0,-1).every((o,s)=>o===t[s])?e[e.length-1]-t[t.length-1]:0}function T_(e,t,r){let{routesMeta:o}=e,s={},c="/",f=[];for(let p=0;p<o.length;++p){let v=o[p],y=p===o.length-1,S=c==="/"?t:t.slice(c.length)||"/",k=wm({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},S),E=v.route;if(!k&&y&&r&&!o[o.length-1].route.index&&(k=wm({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!k)return null;Object.assign(s,k.params),f.push({params:s,pathname:ci([c,k.pathname]),pathnameBase:D_(ci([c,k.pathnameBase])),route:E}),k.pathnameBase!=="/"&&(c=ci([c,k.pathnameBase]))}return f}function wm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=E_(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let c=s[0],f=c.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:o.reduce((y,S,k)=>{let{paramName:E,isOptional:N}=S;if(E==="*"){let A=p[k]||"";f=c.slice(0,c.length-A.length).replace(/(.)\/+$/,"$1")}const M=p[k];return N&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:e}}function E_(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),d1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,v)=>(o.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),o]}function R_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return d1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ep(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function L_(e,t){t===void 0&&(t="/");let{pathname:r,search:o="",hash:s=""}=typeof e=="string"?rs(e):e;return{pathname:r?r.startsWith("/")?r:P_(r,t):t,search:M_(o),hash:N_(s)}}function P_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function If(e,t,r,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function g1(e,t){let r=O_(e);return t?r.map((o,s)=>s===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function v1(e,t,r,o){o===void 0&&(o=!1);let s;typeof e=="string"?s=rs(e):(s=Ra({},e),ot(!s.pathname||!s.pathname.includes("?"),If("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),If("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),If("#","search","hash",s)));let c=e===""||s.pathname==="",f=c?"/":s.pathname,p;if(f==null)p=r;else{let k=t.length-1;if(!o&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),k-=1;s.pathname=E.join("/")}p=k>=0?t[k]:"/"}let v=L_(s,p),y=f&&f!=="/"&&f.endsWith("/"),S=(c||f===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(y||S)&&(v.pathname+="/"),v}const ci=e=>e.join("/").replace(/\/\/+/g,"/"),D_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function A_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m1=["post","put","patch","delete"];new Set(m1);const I_=["get",...m1];new Set(I_);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},La.apply(this,arguments)}const tp=X.createContext(null),F_=X.createContext(null),Vi=X.createContext(null),ic=X.createContext(null),Ji=X.createContext({outlet:null,matches:[],isDataRoute:!1}),y1=X.createContext(null);function z_(e,t){let{relative:r}=t===void 0?{}:t;Ua()||ot(!1);let{basename:o,navigator:s}=X.useContext(Vi),{hash:c,pathname:f,search:p}=S1(e,{relative:r}),v=f;return o!=="/"&&(v=f==="/"?o:ci([o,f])),s.createHref({pathname:v,search:p,hash:c})}function Ua(){return X.useContext(ic)!=null}function oc(){return Ua()||ot(!1),X.useContext(ic).location}function C1(e){X.useContext(Vi).static||X.useLayoutEffect(e)}function B_(){let{isDataRoute:e}=X.useContext(Ji);return e?q_():U_()}function U_(){Ua()||ot(!1);let e=X.useContext(tp),{basename:t,future:r,navigator:o}=X.useContext(Vi),{matches:s}=X.useContext(Ji),{pathname:c}=oc(),f=JSON.stringify(g1(s,r.v7_relativeSplatPath)),p=X.useRef(!1);return C1(()=>{p.current=!0}),X.useCallback(function(y,S){if(S===void 0&&(S={}),!p.current)return;if(typeof y=="number"){o.go(y);return}let k=v1(y,JSON.parse(f),c,S.relative==="path");e==null&&t!=="/"&&(k.pathname=k.pathname==="/"?t:ci([t,k.pathname])),(S.replace?o.replace:o.push)(k,S.state,S)},[t,o,f,c,e])}function S1(e,t){let{relative:r}=t===void 0?{}:t,{future:o}=X.useContext(Vi),{matches:s}=X.useContext(Ji),{pathname:c}=oc(),f=JSON.stringify(g1(s,o.v7_relativeSplatPath));return X.useMemo(()=>v1(e,JSON.parse(f),c,r==="path"),[e,f,c,r])}function j_(e,t){return H_(e,t)}function H_(e,t,r,o){Ua()||ot(!1);let{navigator:s}=X.useContext(Vi),{matches:c}=X.useContext(Ji),f=c[c.length-1],p=f?f.params:{};f&&f.pathname;let v=f?f.pathnameBase:"/";f&&f.route;let y=oc(),S;if(t){var k;let U=typeof t=="string"?rs(t):t;v==="/"||(k=U.pathname)!=null&&k.startsWith(v)||ot(!1),S=U}else S=y;let E=S.pathname||"/",N=E;if(v!=="/"){let U=v.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(U.length).join("/")}let M=g_(e,{pathname:N}),A=V_(M&&M.map(U=>Object.assign({},U,{params:Object.assign({},p,U.params),pathname:ci([v,s.encodeLocation?s.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:ci([v,s.encodeLocation?s.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),c,r,o);return t&&A?X.createElement(ic.Provider,{value:{location:La({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:ti.Pop}},A):A}function W_(){let e=X_(),t=A_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),r?X.createElement("pre",{style:s},r):null,null)}const $_=X.createElement(W_,null);class K_ extends X.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?X.createElement(Ji.Provider,{value:this.props.routeContext},X.createElement(y1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G_(e){let{routeContext:t,match:r,children:o}=e,s=X.useContext(tp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),X.createElement(Ji.Provider,{value:t},o)}function V_(e,t,r,o){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),o===void 0&&(o=null),e==null){var c;if(!r)return null;if(r.errors)e=r.matches;else if((c=o)!=null&&c.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let f=e,p=(s=r)==null?void 0:s.errors;if(p!=null){let S=f.findIndex(k=>k.route.id&&(p==null?void 0:p[k.route.id])!==void 0);S>=0||ot(!1),f=f.slice(0,Math.min(f.length,S+1))}let v=!1,y=-1;if(r&&o&&o.v7_partialHydration)for(let S=0;S<f.length;S++){let k=f[S];if((k.route.HydrateFallback||k.route.hydrateFallbackElement)&&(y=S),k.route.id){let{loaderData:E,errors:N}=r,M=k.route.loader&&E[k.route.id]===void 0&&(!N||N[k.route.id]===void 0);if(k.route.lazy||M){v=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((S,k,E)=>{let N,M=!1,A=null,U=null;r&&(N=p&&k.route.id?p[k.route.id]:void 0,A=k.route.errorElement||$_,v&&(y<0&&E===0?(M=!0,U=null):y===E&&(M=!0,U=k.route.hydrateFallbackElement||null)));let P=t.concat(f.slice(0,E+1)),_=()=>{let R;return N?R=A:M?R=U:k.route.Component?R=X.createElement(k.route.Component,null):k.route.element?R=k.route.element:R=S,X.createElement(G_,{match:k,routeContext:{outlet:S,matches:P,isDataRoute:r!=null},children:R})};return r&&(k.route.ErrorBoundary||k.route.errorElement||E===0)?X.createElement(K_,{location:r.location,revalidation:r.revalidation,component:A,error:N,children:_(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):_()},null)}var x1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(x1||{}),Nu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Nu||{});function J_(e){let t=X.useContext(tp);return t||ot(!1),t}function Q_(e){let t=X.useContext(F_);return t||ot(!1),t}function Y_(e){let t=X.useContext(Ji);return t||ot(!1),t}function k1(e){let t=Y_(),r=t.matches[t.matches.length-1];return r.route.id||ot(!1),r.route.id}function X_(){var e;let t=X.useContext(y1),r=Q_(Nu.UseRouteError),o=k1(Nu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[o]}function q_(){let{router:e}=J_(x1.UseNavigateStable),t=k1(Nu.UseNavigateStable),r=X.useRef(!1);return C1(()=>{r.current=!0}),X.useCallback(function(s,c){c===void 0&&(c={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,La({fromRouteId:t},c)))},[e,t])}function Bd(e){ot(!1)}function Z_(e){let{basename:t="/",children:r=null,location:o,navigationType:s=ti.Pop,navigator:c,static:f=!1,future:p}=e;Ua()&&ot(!1);let v=t.replace(/^\/*/,"/"),y=X.useMemo(()=>({basename:v,navigator:c,static:f,future:La({v7_relativeSplatPath:!1},p)}),[v,p,c,f]);typeof o=="string"&&(o=rs(o));let{pathname:S="/",search:k="",hash:E="",state:N=null,key:M="default"}=o,A=X.useMemo(()=>{let U=ep(S,v);return U==null?null:{location:{pathname:U,search:k,hash:E,state:N,key:M},navigationType:s}},[v,S,k,E,N,M,s]);return A==null?null:X.createElement(Vi.Provider,{value:y},X.createElement(ic.Provider,{children:r,value:A}))}function eb(e){let{children:t,location:r}=e;return j_(Ud(t),r)}new Promise(()=>{});function Ud(e,t){t===void 0&&(t=[]);let r=[];return X.Children.forEach(e,(o,s)=>{if(!X.isValidElement(o))return;let c=[...t,s];if(o.type===X.Fragment){r.push.apply(r,Ud(o.props.children,c));return}o.type!==Bd&&ot(!1),!o.props.index||!o.props.children||ot(!1);let f={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=Ud(o.props.children,c)),r.push(f)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},jd.apply(this,arguments)}function tb(e,t){if(e==null)return{};var r={},o=Object.keys(e),s,c;for(c=0;c<o.length;c++)s=o[c],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function nb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rb(e,t){return e.button===0&&(!t||t==="_self")&&!nb(e)}const ib=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ob="6";try{window.__reactRouterVersion=ob}catch{}const sb="startTransition",_m=ek[sb];function ab(e){let{basename:t,children:r,future:o,window:s}=e,c=X.useRef();c.current==null&&(c.current=d_({window:s,v5Compat:!0}));let f=c.current,[p,v]=X.useState({action:f.action,location:f.location}),{v7_startTransition:y}=o||{},S=X.useCallback(k=>{y&&_m?_m(()=>v(k)):v(k)},[v,y]);return X.useLayoutEffect(()=>f.listen(S),[f,S]),X.createElement(Z_,{basename:t,children:r,location:p.location,navigationType:p.action,navigator:f,future:o})}const lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cb=X.forwardRef(function(t,r){let{onClick:o,relative:s,reloadDocument:c,replace:f,state:p,target:v,to:y,preventScrollReset:S,unstable_viewTransition:k}=t,E=tb(t,ib),{basename:N}=X.useContext(Vi),M,A=!1;if(typeof y=="string"&&ub.test(y)&&(M=y,lb))try{let R=new URL(window.location.href),F=y.startsWith("//")?new URL(R.protocol+y):new URL(y),H=ep(F.pathname,N);F.origin===R.origin&&H!=null?y=H+F.search+F.hash:A=!0}catch{}let U=z_(y,{relative:s}),P=fb(y,{replace:f,state:p,target:v,preventScrollReset:S,relative:s,unstable_viewTransition:k});function _(R){o&&o(R),R.defaultPrevented||P(R)}return X.createElement("a",jd({},E,{href:M||U,onClick:A||c?o:_,ref:r,target:v}))});var bm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bm||(bm={}));var Tm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tm||(Tm={}));function fb(e,t){let{target:r,replace:o,state:s,preventScrollReset:c,relative:f,unstable_viewTransition:p}=t===void 0?{}:t,v=B_(),y=oc(),S=S1(e,{relative:f});return X.useCallback(k=>{if(rb(k,r)){k.preventDefault();let E=o!==void 0?o:Mu(y)===Mu(S);v(e,{replace:E,state:s,preventScrollReset:c,relative:f,unstable_viewTransition:p})}},[y,v,S,o,s,r,e,c,f,p])}function db(){return Be.jsxs("main",{children:[Be.jsx("h1",{children:"DevRoulette"}),Be.jsx("h2",{children:"Ephemeral Coding Sessions"}),Be.jsx(cb,{to:"/code",children:Be.jsx("button",{children:"Join a Room"})})]})}class hb{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const r of this._parts)t.push(r);return pb(t).buffer}}function pb(e){let t=0;for(const s of e)t+=s.byteLength;const r=new Uint8Array(t);let o=0;for(const s of e){const c=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);r.set(c,o),o+=s.byteLength}return r}function w1(e){return new gb(e).unpack()}function _1(e){const t=new vb,r=t.pack(e);return r instanceof Promise?r.then(()=>t.getBuffer()):t.getBuffer()}class gb{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let r;if((r=t^160)<=15)return this.unpack_raw(r);if((r=t^176)<=15)return this.unpack_string(r);if((r=t^144)<=15)return this.unpack_array(r);if((r=t^128)<=15)return this.unpack_map(r);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return r=this.unpack_uint16(),this.unpack_string(r);case 217:return r=this.unpack_uint32(),this.unpack_string(r);case 218:return r=this.unpack_uint16(),this.unpack_raw(r);case 219:return r=this.unpack_uint32(),this.unpack_raw(r);case 220:return r=this.unpack_uint16(),this.unpack_array(r);case 221:return r=this.unpack_uint32(),this.unpack_array(r);case 222:return r=this.unpack_uint16(),this.unpack_map(r);case 223:return r=this.unpack_uint32(),this.unpack_map(r)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),r=(t[0]&255)*256+(t[1]&255);return this.index+=2,r}unpack_uint32(){const t=this.read(4),r=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,r}unpack_uint64(){const t=this.read(8),r=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,r}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const r=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,r}unpack_string(t){const r=this.read(t);let o=0,s="",c,f;for(;o<t;)c=r[o],c<160?(f=c,o++):(c^192)<32?(f=(c&31)<<6|r[o+1]&63,o+=2):(c^224)<16?(f=(c&15)<<12|(r[o+1]&63)<<6|r[o+2]&63,o+=3):(f=(c&7)<<18|(r[o+1]&63)<<12|(r[o+2]&63)<<6|r[o+3]&63,o+=4),s+=String.fromCodePoint(f);return this.index+=t,s}unpack_array(t){const r=new Array(t);for(let o=0;o<t;o++)r[o]=this.unpack();return r}unpack_map(t){const r={};for(let o=0;o<t;o++){const s=this.unpack();r[s]=this.unpack()}return r}unpack_float(){const t=this.unpack_uint32(),r=t>>31,o=(t>>23&255)-127,s=t&8388607|8388608;return(r===0?1:-1)*s*2**(o-23)}unpack_double(){const t=this.unpack_uint32(),r=this.unpack_uint32(),o=t>>31,s=(t>>20&2047)-1023,f=(t&1048575|1048576)*2**(s-20)+r*2**(s-52);return(o===0?1:-1)*f}read(t){const r=this.index;if(r+t<=this.length)return this.dataView.subarray(r,r+t);throw new Error("BinaryPackFailure: read index out of range")}}class vb{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const r=t.constructor;if(t instanceof Array){const o=this.pack_array(t);if(o instanceof Promise)return o.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const o=t;this.pack_bin(new Uint8Array(o.buffer,o.byteOffset,o.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(o=>{this.pack_bin(new Uint8Array(o)),this._bufferBuilder.flush()});if(r==Object||r.toString().startsWith("class")){const o=this.pack_object(t);if(o instanceof Promise)return o.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${r.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const r=t.length;if(r<=15)this.pack_uint8(160+r);else if(r<=65535)this._bufferBuilder.append(218),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const r=this._textEncoder.encode(t),o=r.length;if(o<=15)this.pack_uint8(176+o);else if(o<=65535)this._bufferBuilder.append(216),this.pack_uint16(o);else if(o<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(o);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(r)}pack_array(t){const r=t.length;if(r<=15)this.pack_uint8(144+r);else if(r<=65535)this._bufferBuilder.append(220),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(r);else throw new Error("Invalid length");const o=s=>{if(s<r){const c=this.pack(t[s]);return c instanceof Promise?c.then(()=>o(s+1)):o(s+1)}};return o(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let r=0;t<0&&(r=1,t=-t);const o=Math.floor(Math.log(t)/Math.LN2),s=t/2**o-1,c=Math.floor(s*2**52),f=2**32,p=r<<31|o+1023<<20|c/f&1048575,v=c%f;this._bufferBuilder.append(203),this.pack_int32(p),this.pack_int32(v)}pack_object(t){const r=Object.keys(t),o=r.length;if(o<=15)this.pack_uint8(128+o);else if(o<=65535)this._bufferBuilder.append(222),this.pack_uint16(o);else if(o<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(o);else throw new Error("Invalid length");const s=c=>{if(c<r.length){const f=r[c];if(t.hasOwnProperty(f)){this.pack(f);const p=this.pack(t[f]);if(p instanceof Promise)return p.then(()=>s(c+1))}return s(c+1)}};return s(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const r=t&4294967295;this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_uint64(t){const r=t/4294967296,o=t%2**32;this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255),this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const r=Math.floor(t/4294967296),o=t%2**32;this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255),this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255)}constructor(){this._bufferBuilder=new hb,this._textEncoder=new TextEncoder}}let b1=!0,T1=!0;function eu(e,t,r){const o=e.match(t);return o&&o.length>=r&&parseInt(o[r],10)}function Qi(e,t,r){if(!e.RTCPeerConnection)return;const o=e.RTCPeerConnection.prototype,s=o.addEventListener;o.addEventListener=function(f,p){if(f!==t)return s.apply(this,arguments);const v=y=>{const S=r(y);S&&(p.handleEvent?p.handleEvent(S):p(S))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(p,v),s.apply(this,[f,v])};const c=o.removeEventListener;o.removeEventListener=function(f,p){if(f!==t||!this._eventMap||!this._eventMap[t])return c.apply(this,arguments);if(!this._eventMap[t].has(p))return c.apply(this,arguments);const v=this._eventMap[t].get(p);return this._eventMap[t].delete(p),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[f,v])},Object.defineProperty(o,"on"+t,{get(){return this["_on"+t]},set(f){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),f&&this.addEventListener(t,this["_on"+t]=f)},enumerable:!0,configurable:!0})}function mb(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(b1=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function yb(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(T1=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function E1(){if(typeof window=="object"){if(b1)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function np(e,t){T1&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Cb(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:r}=e;if(r.userAgentData&&r.userAgentData.brands){const o=r.userAgentData.brands.find(s=>s.brand==="Chromium");if(o)return{browser:"chrome",version:parseInt(o.version,10)}}if(r.mozGetUserMedia)t.browser="firefox",t.version=eu(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=eu(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=eu(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function Em(e){return Object.prototype.toString.call(e)==="[object Object]"}function R1(e){return Em(e)?Object.keys(e).reduce(function(t,r){const o=Em(e[r]),s=o?R1(e[r]):e[r],c=o&&!Object.keys(s).length;return s===void 0||c?t:Object.assign(t,{[r]:s})},{}):e}function Hd(e,t,r){!t||r.has(t.id)||(r.set(t.id,t),Object.keys(t).forEach(o=>{o.endsWith("Id")?Hd(e,e.get(t[o]),r):o.endsWith("Ids")&&t[o].forEach(s=>{Hd(e,e.get(s),r)})}))}function Rm(e,t,r){const o=r?"outbound-rtp":"inbound-rtp",s=new Map;if(t===null)return s;const c=[];return e.forEach(f=>{f.type==="track"&&f.trackIdentifier===t.id&&c.push(f)}),c.forEach(f=>{e.forEach(p=>{p.type===o&&p.trackId===f.id&&Hd(e,p,s)})}),s}const Lm=E1;function L1(e,t){const r=e&&e.navigator;if(!r.mediaDevices)return;const o=function(p){if(typeof p!="object"||p.mandatory||p.optional)return p;const v={};return Object.keys(p).forEach(y=>{if(y==="require"||y==="advanced"||y==="mediaSource")return;const S=typeof p[y]=="object"?p[y]:{ideal:p[y]};S.exact!==void 0&&typeof S.exact=="number"&&(S.min=S.max=S.exact);const k=function(E,N){return E?E+N.charAt(0).toUpperCase()+N.slice(1):N==="deviceId"?"sourceId":N};if(S.ideal!==void 0){v.optional=v.optional||[];let E={};typeof S.ideal=="number"?(E[k("min",y)]=S.ideal,v.optional.push(E),E={},E[k("max",y)]=S.ideal,v.optional.push(E)):(E[k("",y)]=S.ideal,v.optional.push(E))}S.exact!==void 0&&typeof S.exact!="number"?(v.mandatory=v.mandatory||{},v.mandatory[k("",y)]=S.exact):["min","max"].forEach(E=>{S[E]!==void 0&&(v.mandatory=v.mandatory||{},v.mandatory[k(E,y)]=S[E])})}),p.advanced&&(v.optional=(v.optional||[]).concat(p.advanced)),v},s=function(p,v){if(t.version>=61)return v(p);if(p=JSON.parse(JSON.stringify(p)),p&&typeof p.audio=="object"){const y=function(S,k,E){k in S&&!(E in S)&&(S[E]=S[k],delete S[k])};p=JSON.parse(JSON.stringify(p)),y(p.audio,"autoGainControl","googAutoGainControl"),y(p.audio,"noiseSuppression","googNoiseSuppression"),p.audio=o(p.audio)}if(p&&typeof p.video=="object"){let y=p.video.facingMode;y=y&&(typeof y=="object"?y:{ideal:y});const S=t.version<66;if(y&&(y.exact==="user"||y.exact==="environment"||y.ideal==="user"||y.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!S)){delete p.video.facingMode;let k;if(y.exact==="environment"||y.ideal==="environment"?k=["back","rear"]:(y.exact==="user"||y.ideal==="user")&&(k=["front"]),k)return r.mediaDevices.enumerateDevices().then(E=>{E=E.filter(M=>M.kind==="videoinput");let N=E.find(M=>k.some(A=>M.label.toLowerCase().includes(A)));return!N&&E.length&&k.includes("back")&&(N=E[E.length-1]),N&&(p.video.deviceId=y.exact?{exact:N.deviceId}:{ideal:N.deviceId}),p.video=o(p.video),Lm("chrome: "+JSON.stringify(p)),v(p)})}p.video=o(p.video)}return Lm("chrome: "+JSON.stringify(p)),v(p)},c=function(p){return t.version>=64?p:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[p.name]||p.name,message:p.message,constraint:p.constraint||p.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},f=function(p,v,y){s(p,S=>{r.webkitGetUserMedia(S,v,k=>{y&&y(c(k))})})};if(r.getUserMedia=f.bind(r),r.mediaDevices.getUserMedia){const p=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(v){return s(v,y=>p(y).then(S=>{if(y.audio&&!S.getAudioTracks().length||y.video&&!S.getVideoTracks().length)throw S.getTracks().forEach(k=>{k.stop()}),new DOMException("","NotFoundError");return S},S=>Promise.reject(c(S))))}}}function P1(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function O1(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=o=>{o.stream.addEventListener("addtrack",s=>{let c;e.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(p=>p.track&&p.track.id===s.track.id):c={track:s.track};const f=new Event("track");f.track=s.track,f.receiver=c,f.transceiver={receiver:c},f.streams=[o.stream],this.dispatchEvent(f)}),o.stream.getTracks().forEach(s=>{let c;e.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(p=>p.track&&p.track.id===s.id):c={track:s};const f=new Event("track");f.track=s,f.receiver=c,f.transceiver={receiver:c},f.streams=[o.stream],this.dispatchEvent(f)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Qi(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function D1(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(s,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=s.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:s}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(p,v){let y=s.apply(this,arguments);return y||(y=t(this,p),this._senders.push(y)),y};const c=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(p){c.apply(this,arguments);const v=this._senders.indexOf(p);v!==-1&&this._senders.splice(v,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],r.apply(this,[c]),c.getTracks().forEach(f=>{this._senders.push(t(this,f))})};const o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],o.apply(this,[c]),c.getTracks().forEach(f=>{const p=this._senders.find(v=>v.track===f);p&&this._senders.splice(this._senders.indexOf(p),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const o=t.apply(this,[]);return o.forEach(s=>s._pc=this),o},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function M1(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const r=e.RTCPeerConnection.prototype.getSenders;r&&(e.RTCPeerConnection.prototype.getSenders=function(){const c=r.apply(this,[]);return c.forEach(f=>f._pc=this),c});const o=e.RTCPeerConnection.prototype.addTrack;o&&(e.RTCPeerConnection.prototype.addTrack=function(){const c=o.apply(this,arguments);return c._pc=this,c}),e.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(f=>Rm(f,c.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){const s=r.apply(this,[]);return s.forEach(c=>c._pc=this),s}),Qi(e,"track",o=>(o.receiver._pc=o.srcElement,o)),e.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(c=>Rm(c,s.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const o=arguments[0];let s,c,f;return this.getSenders().forEach(p=>{p.track===o&&(s?f=!0:s=p)}),this.getReceivers().forEach(p=>(p.track===o&&(c?f=!0:c=p),p.track===o)),f||s&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function N1(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(f=>this._shimmedLocalStreams[f][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(f,p){if(!p)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const v=t.apply(this,arguments);return this._shimmedLocalStreams[p.id]?this._shimmedLocalStreams[p.id].indexOf(v)===-1&&this._shimmedLocalStreams[p.id].push(v):this._shimmedLocalStreams[p.id]=[p,v],v};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(f){this._shimmedLocalStreams=this._shimmedLocalStreams||{},f.getTracks().forEach(y=>{if(this.getSenders().find(k=>k.track===y))throw new DOMException("Track already exists.","InvalidAccessError")});const p=this.getSenders();r.apply(this,arguments);const v=this.getSenders().filter(y=>p.indexOf(y)===-1);this._shimmedLocalStreams[f.id]=[f].concat(v)};const o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(f){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[f.id],o.apply(this,arguments)};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(f){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},f&&Object.keys(this._shimmedLocalStreams).forEach(p=>{const v=this._shimmedLocalStreams[p].indexOf(f);v!==-1&&this._shimmedLocalStreams[p].splice(v,1),this._shimmedLocalStreams[p].length===1&&delete this._shimmedLocalStreams[p]}),s.apply(this,arguments)}}function A1(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return N1(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const S=r.apply(this);return this._reverseStreams=this._reverseStreams||{},S.map(k=>this._reverseStreams[k.id])};const o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(S){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},S.getTracks().forEach(k=>{if(this.getSenders().find(N=>N.track===k))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[S.id]){const k=new e.MediaStream(S.getTracks());this._streams[S.id]=k,this._reverseStreams[k.id]=S,S=k}o.apply(this,[S])};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(S){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[S.id]||S]),delete this._reverseStreams[this._streams[S.id]?this._streams[S.id].id:S.id],delete this._streams[S.id]},e.RTCPeerConnection.prototype.addTrack=function(S,k){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const E=[].slice.call(arguments,1);if(E.length!==1||!E[0].getTracks().find(A=>A===S))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(A=>A.track===S))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const M=this._streams[k.id];if(M)M.addTrack(S),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const A=new e.MediaStream([S]);this._streams[k.id]=A,this._reverseStreams[A.id]=k,this.addStream(A)}return this.getSenders().find(A=>A.track===S)};function c(y,S){let k=S.sdp;return Object.keys(y._reverseStreams||[]).forEach(E=>{const N=y._reverseStreams[E],M=y._streams[N.id];k=k.replace(new RegExp(M.id,"g"),N.id)}),new RTCSessionDescription({type:S.type,sdp:k})}function f(y,S){let k=S.sdp;return Object.keys(y._reverseStreams||[]).forEach(E=>{const N=y._reverseStreams[E],M=y._streams[N.id];k=k.replace(new RegExp(N.id,"g"),M.id)}),new RTCSessionDescription({type:S.type,sdp:k})}["createOffer","createAnswer"].forEach(function(y){const S=e.RTCPeerConnection.prototype[y],k={[y](){const E=arguments;return arguments.length&&typeof arguments[0]=="function"?S.apply(this,[M=>{const A=c(this,M);E[0].apply(null,[A])},M=>{E[1]&&E[1].apply(null,M)},arguments[2]]):S.apply(this,arguments).then(M=>c(this,M))}};e.RTCPeerConnection.prototype[y]=k[y]});const p=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?p.apply(this,arguments):(arguments[0]=f(this,arguments[0]),p.apply(this,arguments))};const v=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const y=v.get.apply(this);return y.type===""?y:c(this,y)}}),e.RTCPeerConnection.prototype.removeTrack=function(S){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!S._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(S._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let E;Object.keys(this._streams).forEach(N=>{this._streams[N].getTracks().find(A=>S.track===A)&&(E=this._streams[N])}),E&&(E.getTracks().length===1?this.removeStream(this._reverseStreams[E.id]):E.removeTrack(S.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Wd(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const o=e.RTCPeerConnection.prototype[r],s={[r](){return arguments[0]=new(r==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[r]=s[r]})}function I1(e,t){Qi(e,"negotiationneeded",r=>{const o=r.target;if(!((t.version<72||o.getConfiguration&&o.getConfiguration().sdpSemantics==="plan-b")&&o.signalingState!=="stable"))return r})}const Pm=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:I1,shimAddTrackRemoveTrack:A1,shimAddTrackRemoveTrackWithNative:N1,shimGetSendersWithDtmf:D1,shimGetUserMedia:L1,shimMediaStream:P1,shimOnTrack:O1,shimPeerConnection:Wd,shimSenderReceiverGetStats:M1},Symbol.toStringTag,{value:"Module"}));function F1(e,t){const r=e&&e.navigator,o=e&&e.MediaStreamTrack;if(r.getUserMedia=function(s,c,f){np("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(s).then(c,f)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const s=function(f,p,v){p in f&&!(v in f)&&(f[v]=f[p],delete f[p])},c=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(f){return typeof f=="object"&&typeof f.audio=="object"&&(f=JSON.parse(JSON.stringify(f)),s(f.audio,"autoGainControl","mozAutoGainControl"),s(f.audio,"noiseSuppression","mozNoiseSuppression")),c(f)},o&&o.prototype.getSettings){const f=o.prototype.getSettings;o.prototype.getSettings=function(){const p=f.apply(this,arguments);return s(p,"mozAutoGainControl","autoGainControl"),s(p,"mozNoiseSuppression","noiseSuppression"),p}}if(o&&o.prototype.applyConstraints){const f=o.prototype.applyConstraints;o.prototype.applyConstraints=function(p){return this.kind==="audio"&&typeof p=="object"&&(p=JSON.parse(JSON.stringify(p)),s(p,"autoGainControl","mozAutoGainControl"),s(p,"noiseSuppression","mozNoiseSuppression")),f.apply(this,[p])}}}}function Sb(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(o){if(!(o&&o.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return o.video===!0?o.video={mediaSource:t}:o.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(o)})}function z1(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function $d(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const c=e.RTCPeerConnection.prototype[s],f={[s](){return arguments[0]=new(s==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};e.RTCPeerConnection.prototype[s]=f[s]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[c,f,p]=arguments;return o.apply(this,[c||null]).then(v=>{if(t.version<53&&!f)try{v.forEach(y=>{y.type=r[y.type]||y.type})}catch(y){if(y.name!=="TypeError")throw y;v.forEach((S,k)=>{v.set(k,Object.assign({},S,{type:r[S.type]||S.type}))})}return v}).then(f,p)}}function B1(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(c=>c._pc=this),s});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function U1(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const o=t.apply(this,[]);return o.forEach(s=>s._pc=this),o}),Qi(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function j1(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){np("removeStream","removeTrack"),this.getSenders().forEach(o=>{o.track&&r.getTracks().includes(o.track)&&this.removeTrack(o)})})}function H1(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function W1(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let o=arguments[1]&&arguments[1].sendEncodings;o===void 0&&(o=[]),o=[...o];const s=o.length>0;s&&o.forEach(f=>{if("rid"in f&&!/^[a-z0-9]{0,16}$/i.test(f.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in f&&!(parseFloat(f.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in f&&!(parseFloat(f.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=t.apply(this,arguments);if(s){const{sender:f}=c,p=f.getParameters();(!("encodings"in p)||p.encodings.length===1&&Object.keys(p.encodings[0]).length===0)&&(p.encodings=o,f.sendEncodings=o,this.setParametersPromises.push(f.setParameters(p).then(()=>{delete f.sendEncodings}).catch(()=>{delete f.sendEncodings})))}return c})}function $1(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const o=t.apply(this,arguments);return"encodings"in o||(o.encodings=[].concat(this.sendEncodings||[{}])),o})}function K1(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function G1(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const Om=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:W1,shimCreateAnswer:G1,shimCreateOffer:K1,shimGetDisplayMedia:Sb,shimGetParameters:$1,shimGetUserMedia:F1,shimOnTrack:z1,shimPeerConnection:$d,shimRTCDataChannel:H1,shimReceiverGetStats:U1,shimRemoveStream:j1,shimSenderGetStats:B1},Symbol.toStringTag,{value:"Module"}));function V1(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(o){this._localStreams||(this._localStreams=[]),this._localStreams.includes(o)||this._localStreams.push(o),o.getAudioTracks().forEach(s=>t.call(this,s,o)),o.getVideoTracks().forEach(s=>t.call(this,s,o))},e.RTCPeerConnection.prototype.addTrack=function(o,...s){return s&&s.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const o=this._localStreams.indexOf(r);if(o===-1)return;this._localStreams.splice(o,1);const s=r.getTracks();this.getSenders().forEach(c=>{s.includes(c.track)&&this.removeTrack(c)})})}}function J1(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=o=>{o.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const c=new Event("addstream");c.stream=s,this.dispatchEvent(c)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const o=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(c=>{if(o._remoteStreams||(o._remoteStreams=[]),o._remoteStreams.indexOf(c)>=0)return;o._remoteStreams.push(c);const f=new Event("addstream");f.stream=c,o.dispatchEvent(f)})}),t.apply(o,arguments)}}}function Q1(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,r=t.createOffer,o=t.createAnswer,s=t.setLocalDescription,c=t.setRemoteDescription,f=t.addIceCandidate;t.createOffer=function(y,S){const k=arguments.length>=2?arguments[2]:arguments[0],E=r.apply(this,[k]);return S?(E.then(y,S),Promise.resolve()):E},t.createAnswer=function(y,S){const k=arguments.length>=2?arguments[2]:arguments[0],E=o.apply(this,[k]);return S?(E.then(y,S),Promise.resolve()):E};let p=function(v,y,S){const k=s.apply(this,[v]);return S?(k.then(y,S),Promise.resolve()):k};t.setLocalDescription=p,p=function(v,y,S){const k=c.apply(this,[v]);return S?(k.then(y,S),Promise.resolve()):k},t.setRemoteDescription=p,p=function(v,y,S){const k=f.apply(this,[v]);return S?(k.then(y,S),Promise.resolve()):k},t.addIceCandidate=p}function Y1(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const r=t.mediaDevices,o=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=s=>o(X1(s))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(o,s,c){t.mediaDevices.getUserMedia(o).then(s,c)}).bind(t))}function X1(e){return e&&e.video!==void 0?Object.assign({},e,{video:R1(e.video)}):e}function q1(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(o,s){if(o&&o.iceServers){const c=[];for(let f=0;f<o.iceServers.length;f++){let p=o.iceServers[f];p.urls===void 0&&p.url?(np("RTCIceServer.url","RTCIceServer.urls"),p=JSON.parse(JSON.stringify(p)),p.urls=p.url,delete p.url,c.push(p)):c.push(o.iceServers[f])}o.iceServers=c}return new t(o,s)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Z1(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function eC(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(o){if(o){typeof o.offerToReceiveAudio<"u"&&(o.offerToReceiveAudio=!!o.offerToReceiveAudio);const s=this.getTransceivers().find(f=>f.receiver.track.kind==="audio");o.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):o.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof o.offerToReceiveVideo<"u"&&(o.offerToReceiveVideo=!!o.offerToReceiveVideo);const c=this.getTransceivers().find(f=>f.receiver.track.kind==="video");o.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):o.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function tC(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Dm=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:tC,shimCallbacksAPI:Q1,shimConstraints:X1,shimCreateOfferLegacy:eC,shimGetUserMedia:Y1,shimLocalStreamsAPI:V1,shimRTCIceServerUrls:q1,shimRemoteStreamsAPI:J1,shimTrackEventTransceiver:Z1},Symbol.toStringTag,{value:"Module"}));var nC={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(r){return r.trim().split(`
`).map(o=>o.trim())},t.splitSections=function(r){return r.split(`
m=`).map((s,c)=>(c>0?"m="+s:s).trim()+`\r
`)},t.getDescription=function(r){const o=t.splitSections(r);return o&&o[0]},t.getMediaSections=function(r){const o=t.splitSections(r);return o.shift(),o},t.matchPrefix=function(r,o){return t.splitLines(r).filter(s=>s.indexOf(o)===0)},t.parseCandidate=function(r){let o;r.indexOf("a=candidate:")===0?o=r.substring(12).split(" "):o=r.substring(10).split(" ");const s={foundation:o[0],component:{1:"rtp",2:"rtcp"}[o[1]]||o[1],protocol:o[2].toLowerCase(),priority:parseInt(o[3],10),ip:o[4],address:o[4],port:parseInt(o[5],10),type:o[7]};for(let c=8;c<o.length;c+=2)switch(o[c]){case"raddr":s.relatedAddress=o[c+1];break;case"rport":s.relatedPort=parseInt(o[c+1],10);break;case"tcptype":s.tcpType=o[c+1];break;case"ufrag":s.ufrag=o[c+1],s.usernameFragment=o[c+1];break;default:s[o[c]]===void 0&&(s[o[c]]=o[c+1]);break}return s},t.writeCandidate=function(r){const o=[];o.push(r.foundation);const s=r.component;s==="rtp"?o.push(1):s==="rtcp"?o.push(2):o.push(s),o.push(r.protocol.toUpperCase()),o.push(r.priority),o.push(r.address||r.ip),o.push(r.port);const c=r.type;return o.push("typ"),o.push(c),c!=="host"&&r.relatedAddress&&r.relatedPort&&(o.push("raddr"),o.push(r.relatedAddress),o.push("rport"),o.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(o.push("tcptype"),o.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(o.push("ufrag"),o.push(r.usernameFragment||r.ufrag)),"candidate:"+o.join(" ")},t.parseIceOptions=function(r){return r.substring(14).split(" ")},t.parseRtpMap=function(r){let o=r.substring(9).split(" ");const s={payloadType:parseInt(o.shift(),10)};return o=o[0].split("/"),s.name=o[0],s.clockRate=parseInt(o[1],10),s.channels=o.length===3?parseInt(o[2],10):1,s.numChannels=s.channels,s},t.writeRtpMap=function(r){let o=r.payloadType;r.preferredPayloadType!==void 0&&(o=r.preferredPayloadType);const s=r.channels||r.numChannels||1;return"a=rtpmap:"+o+" "+r.name+"/"+r.clockRate+(s!==1?"/"+s:"")+`\r
`},t.parseExtmap=function(r){const o=r.substring(9).split(" ");return{id:parseInt(o[0],10),direction:o[0].indexOf("/")>0?o[0].split("/")[1]:"sendrecv",uri:o[1],attributes:o.slice(2).join(" ")}},t.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+(r.attributes?" "+r.attributes:"")+`\r
`},t.parseFmtp=function(r){const o={};let s;const c=r.substring(r.indexOf(" ")+1).split(";");for(let f=0;f<c.length;f++)s=c[f].trim().split("="),o[s[0].trim()]=s[1];return o},t.writeFmtp=function(r){let o="",s=r.payloadType;if(r.preferredPayloadType!==void 0&&(s=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){const c=[];Object.keys(r.parameters).forEach(f=>{r.parameters[f]!==void 0?c.push(f+"="+r.parameters[f]):c.push(f)}),o+="a=fmtp:"+s+" "+c.join(";")+`\r
`}return o},t.parseRtcpFb=function(r){const o=r.substring(r.indexOf(" ")+1).split(" ");return{type:o.shift(),parameter:o.join(" ")}},t.writeRtcpFb=function(r){let o="",s=r.payloadType;return r.preferredPayloadType!==void 0&&(s=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(c=>{o+="a=rtcp-fb:"+s+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),o},t.parseSsrcMedia=function(r){const o=r.indexOf(" "),s={ssrc:parseInt(r.substring(7,o),10)},c=r.indexOf(":",o);return c>-1?(s.attribute=r.substring(o+1,c),s.value=r.substring(c+1)):s.attribute=r.substring(o+1),s},t.parseSsrcGroup=function(r){const o=r.substring(13).split(" ");return{semantics:o.shift(),ssrcs:o.map(s=>parseInt(s,10))}},t.getMid=function(r){const o=t.matchPrefix(r,"a=mid:")[0];if(o)return o.substring(6)},t.parseFingerprint=function(r){const o=r.substring(14).split(" ");return{algorithm:o[0].toLowerCase(),value:o[1].toUpperCase()}},t.getDtlsParameters=function(r,o){return{role:"auto",fingerprints:t.matchPrefix(r+o,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(r,o){let s="a=setup:"+o+`\r
`;return r.fingerprints.forEach(c=>{s+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),s},t.parseCryptoLine=function(r){const o=r.substring(9).split(" ");return{tag:parseInt(o[0],10),cryptoSuite:o[1],keyParams:o[2],sessionParams:o.slice(3)}},t.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?t.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;const o=r.substring(7).split("|");return{keyMethod:"inline",keySalt:o[0],lifeTime:o[1],mkiValue:o[2]?o[2].split(":")[0]:void 0,mkiLength:o[2]?o[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},t.getCryptoParameters=function(r,o){return t.matchPrefix(r+o,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(r,o){const s=t.matchPrefix(r+o,"a=ice-ufrag:")[0],c=t.matchPrefix(r+o,"a=ice-pwd:")[0];return s&&c?{usernameFragment:s.substring(12),password:c.substring(10)}:null},t.writeIceParameters=function(r){let o="a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`;return r.iceLite&&(o+=`a=ice-lite\r
`),o},t.parseRtpParameters=function(r){const o={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=t.splitLines(r)[0].split(" ");o.profile=c[2];for(let p=3;p<c.length;p++){const v=c[p],y=t.matchPrefix(r,"a=rtpmap:"+v+" ")[0];if(y){const S=t.parseRtpMap(y),k=t.matchPrefix(r,"a=fmtp:"+v+" ");switch(S.parameters=k.length?t.parseFmtp(k[0]):{},S.rtcpFeedback=t.matchPrefix(r,"a=rtcp-fb:"+v+" ").map(t.parseRtcpFb),o.codecs.push(S),S.name.toUpperCase()){case"RED":case"ULPFEC":o.fecMechanisms.push(S.name.toUpperCase());break}}}t.matchPrefix(r,"a=extmap:").forEach(p=>{o.headerExtensions.push(t.parseExtmap(p))});const f=t.matchPrefix(r,"a=rtcp-fb:* ").map(t.parseRtcpFb);return o.codecs.forEach(p=>{f.forEach(v=>{p.rtcpFeedback.find(S=>S.type===v.type&&S.parameter===v.parameter)||p.rtcpFeedback.push(v)})}),o},t.writeRtpDescription=function(r,o){let s="";s+="m="+r+" ",s+=o.codecs.length>0?"9":"0",s+=" "+(o.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=o.codecs.map(f=>f.preferredPayloadType!==void 0?f.preferredPayloadType:f.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,o.codecs.forEach(f=>{s+=t.writeRtpMap(f),s+=t.writeFmtp(f),s+=t.writeRtcpFb(f)});let c=0;return o.codecs.forEach(f=>{f.maxptime>c&&(c=f.maxptime)}),c>0&&(s+="a=maxptime:"+c+`\r
`),o.headerExtensions&&o.headerExtensions.forEach(f=>{s+=t.writeExtmap(f)}),s},t.parseRtpEncodingParameters=function(r){const o=[],s=t.parseRtpParameters(r),c=s.fecMechanisms.indexOf("RED")!==-1,f=s.fecMechanisms.indexOf("ULPFEC")!==-1,p=t.matchPrefix(r,"a=ssrc:").map(E=>t.parseSsrcMedia(E)).filter(E=>E.attribute==="cname"),v=p.length>0&&p[0].ssrc;let y;const S=t.matchPrefix(r,"a=ssrc-group:FID").map(E=>E.substring(17).split(" ").map(M=>parseInt(M,10)));S.length>0&&S[0].length>1&&S[0][0]===v&&(y=S[0][1]),s.codecs.forEach(E=>{if(E.name.toUpperCase()==="RTX"&&E.parameters.apt){let N={ssrc:v,codecPayloadType:parseInt(E.parameters.apt,10)};v&&y&&(N.rtx={ssrc:y}),o.push(N),c&&(N=JSON.parse(JSON.stringify(N)),N.fec={ssrc:v,mechanism:f?"red+ulpfec":"red"},o.push(N))}}),o.length===0&&v&&o.push({ssrc:v});let k=t.matchPrefix(r,"b=");return k.length&&(k[0].indexOf("b=TIAS:")===0?k=parseInt(k[0].substring(7),10):k[0].indexOf("b=AS:")===0?k=parseInt(k[0].substring(5),10)*1e3*.95-50*40*8:k=void 0,o.forEach(E=>{E.maxBitrate=k})),o},t.parseRtcpParameters=function(r){const o={},s=t.matchPrefix(r,"a=ssrc:").map(p=>t.parseSsrcMedia(p)).filter(p=>p.attribute==="cname")[0];s&&(o.cname=s.value,o.ssrc=s.ssrc);const c=t.matchPrefix(r,"a=rtcp-rsize");o.reducedSize=c.length>0,o.compound=c.length===0;const f=t.matchPrefix(r,"a=rtcp-mux");return o.mux=f.length>0,o},t.writeRtcpParameters=function(r){let o="";return r.reducedSize&&(o+=`a=rtcp-rsize\r
`),r.mux&&(o+=`a=rtcp-mux\r
`),r.ssrc!==void 0&&r.cname&&(o+="a=ssrc:"+r.ssrc+" cname:"+r.cname+`\r
`),o},t.parseMsid=function(r){let o;const s=t.matchPrefix(r,"a=msid:");if(s.length===1)return o=s[0].substring(7).split(" "),{stream:o[0],track:o[1]};const c=t.matchPrefix(r,"a=ssrc:").map(f=>t.parseSsrcMedia(f)).filter(f=>f.attribute==="msid");if(c.length>0)return o=c[0].value.split(" "),{stream:o[0],track:o[1]}},t.parseSctpDescription=function(r){const o=t.parseMLine(r),s=t.matchPrefix(r,"a=max-message-size:");let c;s.length>0&&(c=parseInt(s[0].substring(19),10)),isNaN(c)&&(c=65536);const f=t.matchPrefix(r,"a=sctp-port:");if(f.length>0)return{port:parseInt(f[0].substring(12),10),protocol:o.fmt,maxMessageSize:c};const p=t.matchPrefix(r,"a=sctpmap:");if(p.length>0){const v=p[0].substring(10).split(" ");return{port:parseInt(v[0],10),protocol:v[1],maxMessageSize:c}}},t.writeSctpDescription=function(r,o){let s=[];return r.protocol!=="DTLS/SCTP"?s=["m="+r.kind+" 9 "+r.protocol+" "+o.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+o.port+`\r
`]:s=["m="+r.kind+" 9 "+r.protocol+" "+o.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+o.port+" "+o.protocol+` 65535\r
`],o.maxMessageSize!==void 0&&s.push("a=max-message-size:"+o.maxMessageSize+`\r
`),s.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(r,o,s){let c;const f=o!==void 0?o:2;return r?c=r:c=t.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+c+" "+f+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(r,o){const s=t.splitLines(r);for(let c=0;c<s.length;c++)switch(s[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[c].substring(2)}return o?t.getDirection(o):"sendrecv"},t.getKind=function(r){return t.splitLines(r)[0].split(" ")[0].substring(2)},t.isRejected=function(r){return r.split(" ",2)[1]==="0"},t.parseMLine=function(r){const s=t.splitLines(r)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},t.parseOLine=function(r){const s=t.matchPrefix(r,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},t.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;const o=t.splitLines(r);for(let s=0;s<o.length;s++)if(o[s].length<2||o[s].charAt(1)!=="=")return!1;return!0},e.exports=t})(nC);var rC=nC.exports;const Ko=qm(rC),xb=Xm({__proto__:null,default:Ko},[rC]);function tu(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(o){if(typeof o=="object"&&o.candidate&&o.candidate.indexOf("a=")===0&&(o=JSON.parse(JSON.stringify(o)),o.candidate=o.candidate.substring(2)),o.candidate&&o.candidate.length){const s=new t(o),c=Ko.parseCandidate(o.candidate);for(const f in c)f in s||Object.defineProperty(s,f,{value:c[f]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(o)},e.RTCIceCandidate.prototype=t.prototype,Qi(e,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new e.RTCIceCandidate(r.candidate),writable:"false"}),r))}function Kd(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Qi(e,"icecandidate",t=>{if(t.candidate){const r=Ko.parseCandidate(t.candidate.candidate);r.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[r.priority>>24])}return t})}function nu(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const r=function(p){if(!p||!p.sdp)return!1;const v=Ko.splitSections(p.sdp);return v.shift(),v.some(y=>{const S=Ko.parseMLine(y);return S&&S.kind==="application"&&S.protocol.indexOf("SCTP")!==-1})},o=function(p){const v=p.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(v===null||v.length<2)return-1;const y=parseInt(v[1],10);return y!==y?-1:y},s=function(p){let v=65536;return t.browser==="firefox"&&(t.version<57?p===-1?v=16384:v=2147483637:t.version<60?v=t.version===57?65535:65536:v=2147483637),v},c=function(p,v){let y=65536;t.browser==="firefox"&&t.version===57&&(y=65535);const S=Ko.matchPrefix(p.sdp,"a=max-message-size:");return S.length>0?y=parseInt(S[0].substring(19),10):t.browser==="firefox"&&v!==-1&&(y=2147483637),y},f=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:v}=this.getConfiguration();v==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const v=o(arguments[0]),y=s(v),S=c(arguments[0],v);let k;y===0&&S===0?k=Number.POSITIVE_INFINITY:y===0||S===0?k=Math.max(y,S):k=Math.min(y,S);const E={};Object.defineProperty(E,"maxMessageSize",{get(){return k}}),this._sctp=E}return f.apply(this,arguments)}}function ru(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(o,s){const c=o.send;o.send=function(){const p=arguments[0],v=p.length||p.size||p.byteLength;if(o.readyState==="open"&&s.sctp&&v>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return c.apply(o,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const s=r.apply(this,arguments);return t(s,this),s},Qi(e,"datachannel",o=>(t(o.channel,o.target),o))}function Gd(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const o=t[r];t[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const c=s.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const f=new Event("connectionstatechange",s);c.dispatchEvent(f)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),o.apply(this,arguments)}})}function Vd(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=s.sdp.split(`
`).filter(f=>f.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&s instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:s.type,sdp:c}):s.sdp=c}return r.apply(this,arguments)}}function iu(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const r=e.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ou(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const r=e.RTCPeerConnection.prototype.setLocalDescription;!r||r.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return r.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?r.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(f=>r.apply(this,[f]))})}const kb=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Vd,shimAddIceCandidateNullOrEmpty:iu,shimConnectionState:Gd,shimMaxMessageSize:nu,shimParameterlessSetLocalDescription:ou,shimRTCIceCandidate:tu,shimRTCIceCandidateRelayProtocol:Kd,shimSendThrowTypeError:ru},Symbol.toStringTag,{value:"Module"}));function wb({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=E1,o=Cb(e),s={browserDetails:o,commonShim:kb,extractVersion:eu,disableLog:mb,disableWarnings:yb,sdp:xb};switch(o.browser){case"chrome":if(!Pm||!Wd||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),s;if(o.version===null)return r("Chrome shim can not determine version, not shimming."),s;r("adapter.js shimming chrome."),s.browserShim=Pm,iu(e,o),ou(e),L1(e,o),P1(e),Wd(e,o),O1(e),A1(e,o),D1(e),M1(e),I1(e,o),tu(e),Kd(e),Gd(e),nu(e,o),ru(e),Vd(e,o);break;case"firefox":if(!Om||!$d||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),s;r("adapter.js shimming firefox."),s.browserShim=Om,iu(e,o),ou(e),F1(e,o),$d(e,o),z1(e),j1(e),B1(e),U1(e),H1(e),W1(e),$1(e),K1(e),G1(e),tu(e),Gd(e),nu(e,o),ru(e);break;case"safari":if(!Dm||!t.shimSafari)return r("Safari shim is not included in this adapter release."),s;r("adapter.js shimming safari."),s.browserShim=Dm,iu(e,o),ou(e),q1(e),eC(e),Q1(e),V1(e),J1(e),Z1(e),Y1(e),tC(e),tu(e),Kd(e),nu(e,o),ru(e),Vd(e,o);break;default:r("Unsupported browser!");break}return s}const Mm=wb({window:typeof window>"u"?void 0:window});function Yi(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}class iC{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const r=[],o=t.byteLength,s=Math.ceil(o/this.chunkedMTU);let c=0,f=0;for(;f<o;){const p=Math.min(o,f+this.chunkedMTU),v=t.slice(f,p),y={__peerData:this._dataCount,n:c,data:v,total:s};r.push(y),f=p,c++}return this._dataCount++,r}}}function _b(e){let t=0;for(const s of e)t+=s.byteLength;const r=new Uint8Array(t);let o=0;for(const s of e)r.set(s,o),o+=s.byteLength;return r}const Ff=Mm.default||Mm,Js=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return Ff.browserDetails.browser}getVersion(){return Ff.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=Ff.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let r,o=!1;try{r=new RTCPeerConnection,r.addTransceiver("audio"),o=!0}catch{}finally{r&&r.close()}return o}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},bb=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),oC=()=>Math.random().toString(36).slice(2),Nm={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class Tb extends iC{noop(){}blobToArrayBuffer(t,r){const o=new FileReader;return o.onload=function(s){s.target&&r(s.target.result)},o.readAsArrayBuffer(t),o}binaryStringToArrayBuffer(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o)&255;return r.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Nm,this.browser=Js.getBrowser(),this.browserVersion=Js.getVersion(),this.pack=_1,this.unpack=w1,this.supports=function(){const r={browser:Js.isBrowserSupported(),webRTC:Js.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!r.webRTC)return r;let o;try{o=new RTCPeerConnection(Nm),r.audioVideo=!0;let s;try{s=o.createDataChannel("_PEERJSTEST",{ordered:!0}),r.data=!0,r.reliable=!!s.ordered;try{s.binaryType="blob",r.binaryBlob=!Js.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{o&&o.close()}return r}(),this.validateId=bb,this.randomToken=oC}}const en=new Tb,Eb="PeerJS: ";var Am;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Am||(Am={}));class Rb{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...r){const o=[Eb,...r];for(const s in o)o[s]instanceof Error&&(o[s]="("+o[s].name+") "+o[s].message);t>=3?console.log(...o):t>=2?console.warn("WARNING",...o):t>=1&&console.error("ERROR",...o)}constructor(){this._logLevel=0}}var se=new Rb,rp={},Lb=Object.prototype.hasOwnProperty,Vt="~";function Pa(){}Object.create&&(Pa.prototype=Object.create(null),new Pa().__proto__||(Vt=!1));function Pb(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function sC(e,t,r,o,s){if(typeof r!="function")throw new TypeError("The listener must be a function");var c=new Pb(r,o||e,s),f=Vt?Vt+t:t;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}function su(e,t){--e._eventsCount===0?e._events=new Pa:delete e._events[t]}function Ft(){this._events=new Pa,this._eventsCount=0}Ft.prototype.eventNames=function(){var t=[],r,o;if(this._eventsCount===0)return t;for(o in r=this._events)Lb.call(r,o)&&t.push(Vt?o.slice(1):o);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Ft.prototype.listeners=function(t){var r=Vt?Vt+t:t,o=this._events[r];if(!o)return[];if(o.fn)return[o.fn];for(var s=0,c=o.length,f=new Array(c);s<c;s++)f[s]=o[s].fn;return f};Ft.prototype.listenerCount=function(t){var r=Vt?Vt+t:t,o=this._events[r];return o?o.fn?1:o.length:0};Ft.prototype.emit=function(t,r,o,s,c,f){var p=Vt?Vt+t:t;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,S,k;if(v.fn){switch(v.once&&this.removeListener(t,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,r),!0;case 3:return v.fn.call(v.context,r,o),!0;case 4:return v.fn.call(v.context,r,o,s),!0;case 5:return v.fn.call(v.context,r,o,s,c),!0;case 6:return v.fn.call(v.context,r,o,s,c,f),!0}for(k=1,S=new Array(y-1);k<y;k++)S[k-1]=arguments[k];v.fn.apply(v.context,S)}else{var E=v.length,N;for(k=0;k<E;k++)switch(v[k].once&&this.removeListener(t,v[k].fn,void 0,!0),y){case 1:v[k].fn.call(v[k].context);break;case 2:v[k].fn.call(v[k].context,r);break;case 3:v[k].fn.call(v[k].context,r,o);break;case 4:v[k].fn.call(v[k].context,r,o,s);break;default:if(!S)for(N=1,S=new Array(y-1);N<y;N++)S[N-1]=arguments[N];v[k].fn.apply(v[k].context,S)}}return!0};Ft.prototype.on=function(t,r,o){return sC(this,t,r,o,!1)};Ft.prototype.once=function(t,r,o){return sC(this,t,r,o,!0)};Ft.prototype.removeListener=function(t,r,o,s){var c=Vt?Vt+t:t;if(!this._events[c])return this;if(!r)return su(this,c),this;var f=this._events[c];if(f.fn)f.fn===r&&(!s||f.once)&&(!o||f.context===o)&&su(this,c);else{for(var p=0,v=[],y=f.length;p<y;p++)(f[p].fn!==r||s&&!f[p].once||o&&f[p].context!==o)&&v.push(f[p]);v.length?this._events[c]=v.length===1?v[0]:v:su(this,c)}return this};Ft.prototype.removeAllListeners=function(t){var r;return t?(r=Vt?Vt+t:t,this._events[r]&&su(this,r)):(this._events=new Pa,this._eventsCount=0),this};Ft.prototype.off=Ft.prototype.removeListener;Ft.prototype.addListener=Ft.prototype.on;Ft.prefixed=Vt;Ft.EventEmitter=Ft;rp=Ft;var Xi={};Yi(Xi,"ConnectionType",()=>lr);Yi(Xi,"PeerErrorType",()=>Ye);Yi(Xi,"BaseConnectionErrorType",()=>Oa);Yi(Xi,"DataConnectionErrorType",()=>Da);Yi(Xi,"SerializationType",()=>Zo);Yi(Xi,"SocketEventType",()=>or);Yi(Xi,"ServerMessageType",()=>St);var lr;(function(e){e.Data="data",e.Media="media"})(lr||(lr={}));var Ye;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(Ye||(Ye={}));var Oa;(function(e){e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed"})(Oa||(Oa={}));var Da;(function(e){e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big"})(Da||(Da={}));var Zo;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw"})(Zo||(Zo={}));var or;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(or||(or={}));var St;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(St||(St={}));var ip={};ip=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class Ob extends rp.EventEmitter{constructor(t,r,o,s,c,f=5e3){super(),this.pingInterval=f,this._disconnected=!0,this._messagesQueue=[];const p=t?"wss://":"ws://";this._baseUrl=p+r+":"+o+s+"peerjs?key="+c}start(t,r){this._id=t;const o=`${this._baseUrl}&id=${t}&token=${r}`;this._socket||!this._disconnected||(this._socket=new WebSocket(o+"&version="+ip.version),this._disconnected=!1,this._socket.onmessage=s=>{let c;try{c=JSON.parse(s.data),se.log("Server message received:",c)}catch{se.log("Invalid server message",s.data);return}this.emit(or.Message,c)},this._socket.onclose=s=>{this._disconnected||(se.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(or.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),se.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){se.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:St.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const r of t)this.send(r)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(or.Error,"Invalid message");return}if(!this._wsOpen())return;const r=JSON.stringify(t);this._socket.send(r)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class aC{constructor(t){this.connection=t}startConnection(t){const r=this._startPeerConnection();if(this.connection.peerConnection=r,this.connection.type===lr.Media&&t._stream&&this._addTracksToConnection(t._stream,r),t.originator){const o=this.connection,s={ordered:!!t.reliable},c=r.createDataChannel(o.label,s);o._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){se.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const r=this.connection.peer,o=this.connection.connectionId,s=this.connection.type,c=this.connection.provider;se.log("Listening for ICE candidates."),t.onicecandidate=f=>{!f.candidate||!f.candidate.candidate||(se.log(`Received ICE candidates for ${r}:`,f.candidate),c.socket.send({type:St.Candidate,payload:{candidate:f.candidate,type:s,connectionId:o},dst:r}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":se.log("iceConnectionState is failed, closing connections to "+r),this.connection.emitError(Oa.NegotiationFailed,"Negotiation of connection to "+r+" failed."),this.connection.close();break;case"closed":se.log("iceConnectionState is closed, closing connections to "+r),this.connection.emitError(Oa.ConnectionClosed,"Connection to "+r+" closed."),this.connection.close();break;case"disconnected":se.log("iceConnectionState changed to disconnected on the connection with "+r);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},se.log("Listening for data channel"),t.ondatachannel=f=>{se.log("Received data channel");const p=f.channel;c.getConnection(r,o)._initializeDataChannel(p)},se.log("Listening for remote stream"),t.ontrack=f=>{se.log("Received remote stream");const p=f.streams[0],v=c.getConnection(r,o);if(v.type===lr.Media){const y=v;this._addStreamToMediaConnection(p,y)}}}cleanup(){se.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const r=t.signalingState!=="closed";let o=!1;const s=this.connection.dataChannel;s&&(o=!!s.readyState&&s.readyState!=="closed"),(r||o)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,r=this.connection.provider;try{const o=await t.createOffer(this.connection.options.constraints);se.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(o.sdp=this.connection.options.sdpTransform(o.sdp)||o.sdp);try{await t.setLocalDescription(o),se.log("Set localDescription:",o,`for:${this.connection.peer}`);let s={sdp:o,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===lr.Data){const c=this.connection;s={...s,label:c.label,reliable:c.reliable,serialization:c.serialization}}r.socket.send({type:St.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(r.emitError(Ye.WebRTC,s),se.log("Failed to setLocalDescription, ",s))}}catch(o){r.emitError(Ye.WebRTC,o),se.log("Failed to createOffer, ",o)}}async _makeAnswer(){const t=this.connection.peerConnection,r=this.connection.provider;try{const o=await t.createAnswer();se.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(o.sdp=this.connection.options.sdpTransform(o.sdp)||o.sdp);try{await t.setLocalDescription(o),se.log("Set localDescription:",o,`for:${this.connection.peer}`),r.socket.send({type:St.Answer,payload:{sdp:o,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){r.emitError(Ye.WebRTC,s),se.log("Failed to setLocalDescription, ",s)}}catch(o){r.emitError(Ye.WebRTC,o),se.log("Failed to create answer, ",o)}}async handleSDP(t,r){r=new RTCSessionDescription(r);const o=this.connection.peerConnection,s=this.connection.provider;se.log("Setting remote description",r);const c=this;try{await o.setRemoteDescription(r),se.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await c._makeAnswer()}catch(f){s.emitError(Ye.WebRTC,f),se.log("Failed to setRemoteDescription, ",f)}}async handleCandidate(t){se.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),se.log(`Added ICE candidate for:${this.connection.peer}`)}catch(r){this.connection.provider.emitError(Ye.WebRTC,r),se.log("Failed to handleCandidate, ",r)}}_addTracksToConnection(t,r){if(se.log(`add tracks from stream ${t.id} to peer connection`),!r.addTrack)return se.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(o=>{r.addTrack(o,t)})}_addStreamToMediaConnection(t,r){se.log(`add stream ${t.id} to media connection ${r.connectionId}`),r.addStream(t)}}class lC extends rp.EventEmitter{emitError(t,r){se.error("Error:",r),this.emit("error",new Db(`${t}`,r))}}class Db extends Error{constructor(t,r){typeof r=="string"?super(r):(super(),Object.assign(this,r)),this.type=t}}class uC extends lC{get open(){return this._open}constructor(t,r,o){super(),this.peer=t,this.provider=r,this.options=o,this._open=!1,this.metadata=o.metadata}}var nh;const ua=class ua extends uC{get type(){return lr.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,r,o){super(t,r,o),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||ua.ID_PREFIX+en.randomToken(),this._negotiator=new aC(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{se.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{se.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){se.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const r=t.type,o=t.payload;switch(t.type){case St.Answer:this._negotiator.handleSDP(r,o.sdp),this._open=!0;break;case St.Candidate:this._negotiator.handleCandidate(o.candidate);break;default:se.warn(`Unrecognized message type:${r} from peer:${this.peer}`);break}}answer(t,r={}){if(this._localStream){se.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,r&&r.sdpTransform&&(this.options.sdpTransform=r.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const o=this.provider._getMessages(this.connectionId);for(const s of o)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};nh=new WeakMap,Bs(ua,nh,ua.ID_PREFIX="mc_");let Au=ua;class Mb{constructor(t){this._options=t}_buildRequest(t){const r=this._options.secure?"https":"http",{host:o,port:s,path:c,key:f}=this._options,p=new URL(`${r}://${o}:${s}${c}${f}/${t}`);return p.searchParams.set("ts",`${Date.now()}${Math.random()}`),p.searchParams.set("version",ip.version),fetch(p.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){se.error("Error retrieving ID",t);let r="";throw this._options.path==="/"&&this._options.host!==en.CLOUD_HOST&&(r=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+r)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let r="";throw this._options.host===en.CLOUD_HOST?r="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":r="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+r)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw se.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var rh,ih;const Oi=class Oi extends uC{get type(){return lr.Data}constructor(t,r,o){super(t,r,o),this.connectionId=this.options.connectionId||Oi.ID_PREFIX+oC(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new aC(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{se.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=r=>{se.log(`DC#${this.connectionId} dc onmessage:`,r.data)},this.dataChannel.onclose=()=>{se.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,r=!1){if(!this.open){this.emitError(Da.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,r)}async handleMessage(t){const r=t.payload;switch(t.type){case St.Answer:await this._negotiator.handleSDP(t.type,r.sdp);break;case St.Candidate:await this._negotiator.handleCandidate(r.candidate);break;default:se.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};rh=new WeakMap,ih=new WeakMap,Bs(Oi,rh,Oi.ID_PREFIX="dc_"),Bs(Oi,ih,Oi.MAX_BUFFERED_AMOUNT=8388608);let Iu=Oi;class op extends Iu{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",r=>this._handleDataMessage(r))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Iu.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(r){return se.error(`DC#:${this.connectionId} Error when sending:`,r),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class zf extends op{close(t){super.close(t),this._chunkedData={}}constructor(t,r,o){super(t,r,o),this.chunker=new iC,this.serialization=Zo.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const r=w1(t),o=r.__peerData;if(o){if(o.type==="close"){this.close();return}this._handleChunk(r);return}this.emit("data",r)}_handleChunk(t){const r=t.__peerData,o=this._chunkedData[r]||{data:[],count:0,total:t.total};if(o.data[t.n]=new Uint8Array(t.data),o.count++,this._chunkedData[r]=o,o.total===o.count){delete this._chunkedData[r];const s=_b(o.data);this._handleDataMessage({data:s})}}_send(t,r){const o=_1(t);if(o instanceof Promise)return this._send_blob(o);if(!r&&o.byteLength>this.chunker.chunkedMTU){this._sendChunks(o);return}this._bufferedSend(o)}async _send_blob(t){const r=await t;if(r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}_sendChunks(t){const r=this.chunker.chunk(t);se.log(`DC#${this.connectionId} Try to send ${r.length} chunks...`);for(const o of r)this.send(o,!0)}}class Nb extends op{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,r){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=Zo.None}}class Ab extends op{_handleDataMessage({data:t}){const r=this.parse(this.decoder.decode(t)),o=r.__peerData;if(o&&o.type==="close"){this.close();return}this.emit("data",r)}_send(t,r){const o=this.encoder.encode(this.stringify(t));if(o.byteLength>=en.chunkedMTU){this.emitError(Da.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(o)}constructor(...t){super(...t),this.serialization=Zo.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var oh;const ca=class ca extends lC{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[r,o]of this._connections)t[r]=o;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,r){super(),this._serializers={raw:Nb,json:Ab,binary:zf,"binary-utf8":zf,default:zf},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let o;if(t&&t.constructor==Object?r=t:t&&(o=t.toString()),r={debug:0,host:en.CLOUD_HOST,port:en.CLOUD_PORT,path:"/",key:ca.DEFAULT_KEY,token:en.randomToken(),config:en.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...r},this._options=r,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==en.CLOUD_HOST?this._options.secure=en.isSecure():this._options.host==en.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&se.setLogFunction(this._options.logFunction),se.logLevel=this._options.debug||0,this._api=new Mb(r),this._socket=this._createServerConnection(),!en.supports.audioVideo&&!en.supports.data){this._delayedAbort(Ye.BrowserIncompatible,"The current browser does not support WebRTC");return}if(o&&!en.validateId(o)){this._delayedAbort(Ye.InvalidID,`ID "${o}" is invalid`);return}o?this._initialize(o):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(Ye.ServerError,s))}_createServerConnection(){const t=new Ob(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(or.Message,r=>{this._handleMessage(r)}),t.on(or.Error,r=>{this._abort(Ye.SocketError,r)}),t.on(or.Disconnected,()=>{this.disconnected||(this.emitError(Ye.Network,"Lost connection to server."),this.disconnect())}),t.on(or.Close,()=>{this.disconnected||this._abort(Ye.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const r=t.type,o=t.payload,s=t.src;switch(r){case St.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case St.Error:this._abort(Ye.ServerError,o.msg);break;case St.IdTaken:this._abort(Ye.UnavailableID,`ID "${this.id}" is taken`);break;case St.InvalidKey:this._abort(Ye.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case St.Leave:se.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case St.Expire:this.emitError(Ye.PeerUnavailable,`Could not connect to peer ${s}`);break;case St.Offer:{const c=o.connectionId;let f=this.getConnection(s,c);if(f&&(f.close(),se.warn(`Offer received for existing Connection ID:${c}`)),o.type===lr.Media){const v=new Au(s,this,{connectionId:c,_payload:o,metadata:o.metadata});f=v,this._addConnection(s,f),this.emit("call",v)}else if(o.type===lr.Data){const v=new this._serializers[o.serialization](s,this,{connectionId:c,_payload:o,metadata:o.metadata,label:o.label,serialization:o.serialization,reliable:o.reliable});f=v,this._addConnection(s,f),this.emit("connection",v)}else{se.warn(`Received malformed connection type:${o.type}`);return}const p=this._getMessages(c);for(const v of p)f.handleMessage(v);break}default:{if(!o){se.warn(`You received a malformed message from ${s} of type ${r}`);return}const c=o.connectionId,f=this.getConnection(s,c);f&&f.peerConnection?f.handleMessage(t):c?this._storeMessage(c,t):se.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,r){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(r)}_getMessages(t){const r=this._lostMessages.get(t);return r?(this._lostMessages.delete(t),r):[]}connect(t,r={}){if(r={serialization:"default",...r},this.disconnected){se.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Ye.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const o=new this._serializers[r.serialization](t,this,r);return this._addConnection(t,o),o}call(t,r,o={}){if(this.disconnected){se.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Ye.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!r){se.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new Au(t,this,{...o,_stream:r});return this._addConnection(t,s),s}_addConnection(t,r){se.log(`add connection ${r.type}:${r.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(r)}_removeConnection(t){const r=this._connections.get(t.peer);if(r){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,r){const o=this._connections.get(t);if(!o)return null;for(const s of o)if(s.connectionId===r)return s;return null}_delayedAbort(t,r){setTimeout(()=>{this._abort(t,r)},0)}_abort(t,r){se.error("Aborting!"),this.emitError(t,r),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(se.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const r=this._connections.get(t);if(r)for(const o of r)o.close()}disconnect(){if(this.disconnected)return;const t=this.id;se.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)se.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)se.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=r=>{}){this._api.listAllPeers().then(r=>t(r)).catch(r=>this._abort(Ye.ServerError,r))}};oh=new WeakMap,Bs(ca,oh,ca.DEFAULT_KEY="peerjs");let Jd=ca;var Ib=Jd;function cC(e,t){return function(){return e.apply(t,arguments)}}const{toString:Fb}=Object.prototype,{getPrototypeOf:sp}=Object,sc=(e=>t=>{const r=Fb.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Kn=e=>(e=e.toLowerCase(),t=>sc(t)===e),ac=e=>t=>typeof t===e,{isArray:is}=Array,Ma=ac("undefined");function zb(e){return e!==null&&!Ma(e)&&e.constructor!==null&&!Ma(e.constructor)&&mn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fC=Kn("ArrayBuffer");function Bb(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fC(e.buffer),t}const Ub=ac("string"),mn=ac("function"),dC=ac("number"),lc=e=>e!==null&&typeof e=="object",jb=e=>e===!0||e===!1,au=e=>{if(sc(e)!=="object")return!1;const t=sp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hb=Kn("Date"),Wb=Kn("File"),$b=Kn("Blob"),Kb=Kn("FileList"),Gb=e=>lc(e)&&mn(e.pipe),Vb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||mn(e.append)&&((t=sc(e))==="formdata"||t==="object"&&mn(e.toString)&&e.toString()==="[object FormData]"))},Jb=Kn("URLSearchParams"),[Qb,Yb,Xb,qb]=["ReadableStream","Request","Response","Headers"].map(Kn),Zb=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ja(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let o,s;if(typeof e!="object"&&(e=[e]),is(e))for(o=0,s=e.length;o<s;o++)t.call(null,e[o],o,e);else{const c=r?Object.getOwnPropertyNames(e):Object.keys(e),f=c.length;let p;for(o=0;o<f;o++)p=c[o],t.call(null,e[p],p,e)}}function hC(e,t){t=t.toLowerCase();const r=Object.keys(e);let o=r.length,s;for(;o-- >0;)if(s=r[o],t===s.toLowerCase())return s;return null}const Ai=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pC=e=>!Ma(e)&&e!==Ai;function Qd(){const{caseless:e}=pC(this)&&this||{},t={},r=(o,s)=>{const c=e&&hC(t,s)||s;au(t[c])&&au(o)?t[c]=Qd(t[c],o):au(o)?t[c]=Qd({},o):is(o)?t[c]=o.slice():t[c]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&ja(arguments[o],r);return t}const eT=(e,t,r,{allOwnKeys:o}={})=>(ja(t,(s,c)=>{r&&mn(s)?e[c]=cC(s,r):e[c]=s},{allOwnKeys:o}),e),tT=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nT=(e,t,r,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},rT=(e,t,r,o)=>{let s,c,f;const p={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),c=s.length;c-- >0;)f=s[c],(!o||o(f,e,t))&&!p[f]&&(t[f]=e[f],p[f]=!0);e=r!==!1&&sp(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},iT=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const o=e.indexOf(t,r);return o!==-1&&o===r},oT=e=>{if(!e)return null;if(is(e))return e;let t=e.length;if(!dC(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},sT=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&sp(Uint8Array)),aT=(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=o.next())&&!s.done;){const c=s.value;t.call(e,c[0],c[1])}},lT=(e,t)=>{let r;const o=[];for(;(r=e.exec(t))!==null;)o.push(r);return o},uT=Kn("HTMLFormElement"),cT=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,s){return o.toUpperCase()+s}),Im=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),fT=Kn("RegExp"),gC=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),o={};ja(r,(s,c)=>{let f;(f=t(s,c,e))!==!1&&(o[c]=f||s)}),Object.defineProperties(e,o)},dT=e=>{gC(e,(t,r)=>{if(mn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=e[r];if(mn(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},hT=(e,t)=>{const r={},o=s=>{s.forEach(c=>{r[c]=!0})};return is(e)?o(e):o(String(e).split(t)),r},pT=()=>{},gT=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Bf="abcdefghijklmnopqrstuvwxyz",Fm="0123456789",vC={DIGIT:Fm,ALPHA:Bf,ALPHA_DIGIT:Bf+Bf.toUpperCase()+Fm},vT=(e=16,t=vC.ALPHA_DIGIT)=>{let r="";const{length:o}=t;for(;e--;)r+=t[Math.random()*o|0];return r};function mT(e){return!!(e&&mn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const yT=e=>{const t=new Array(10),r=(o,s)=>{if(lc(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[s]=o;const c=is(o)?[]:{};return ja(o,(f,p)=>{const v=r(f,s+1);!Ma(v)&&(c[p]=v)}),t[s]=void 0,c}}return o};return r(e,0)},CT=Kn("AsyncFunction"),ST=e=>e&&(lc(e)||mn(e))&&mn(e.then)&&mn(e.catch),mC=((e,t)=>e?setImmediate:t?((r,o)=>(Ai.addEventListener("message",({source:s,data:c})=>{s===Ai&&c===r&&o.length&&o.shift()()},!1),s=>{o.push(s),Ai.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",mn(Ai.postMessage)),xT=typeof queueMicrotask<"u"?queueMicrotask.bind(Ai):typeof process<"u"&&process.nextTick||mC,B={isArray:is,isArrayBuffer:fC,isBuffer:zb,isFormData:Vb,isArrayBufferView:Bb,isString:Ub,isNumber:dC,isBoolean:jb,isObject:lc,isPlainObject:au,isReadableStream:Qb,isRequest:Yb,isResponse:Xb,isHeaders:qb,isUndefined:Ma,isDate:Hb,isFile:Wb,isBlob:$b,isRegExp:fT,isFunction:mn,isStream:Gb,isURLSearchParams:Jb,isTypedArray:sT,isFileList:Kb,forEach:ja,merge:Qd,extend:eT,trim:Zb,stripBOM:tT,inherits:nT,toFlatObject:rT,kindOf:sc,kindOfTest:Kn,endsWith:iT,toArray:oT,forEachEntry:aT,matchAll:lT,isHTMLForm:uT,hasOwnProperty:Im,hasOwnProp:Im,reduceDescriptors:gC,freezeMethods:dT,toObjectSet:hT,toCamelCase:cT,noop:pT,toFiniteNumber:gT,findKey:hC,global:Ai,isContextDefined:pC,ALPHABET:vC,generateString:vT,isSpecCompliantForm:mT,toJSONObject:yT,isAsyncFn:CT,isThenable:ST,setImmediate:mC,asap:xT};function Ce(e,t,r,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),o&&(this.request=o),s&&(this.response=s,this.status=s.status?s.status:null)}B.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const yC=Ce.prototype,CC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{CC[e]={value:e}});Object.defineProperties(Ce,CC);Object.defineProperty(yC,"isAxiosError",{value:!0});Ce.from=(e,t,r,o,s,c)=>{const f=Object.create(yC);return B.toFlatObject(e,f,function(v){return v!==Error.prototype},p=>p!=="isAxiosError"),Ce.call(f,e.message,t,r,o,s),f.cause=e,f.name=e.name,c&&Object.assign(f,c),f};const kT=null;function Yd(e){return B.isPlainObject(e)||B.isArray(e)}function SC(e){return B.endsWith(e,"[]")?e.slice(0,-2):e}function zm(e,t,r){return e?e.concat(t).map(function(s,c){return s=SC(s),!r&&c?"["+s+"]":s}).join(r?".":""):t}function wT(e){return B.isArray(e)&&!e.some(Yd)}const _T=B.toFlatObject(B,{},null,function(t){return/^is[A-Z]/.test(t)});function uc(e,t,r){if(!B.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=B.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,U){return!B.isUndefined(U[A])});const o=r.metaTokens,s=r.visitor||S,c=r.dots,f=r.indexes,v=(r.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(t);if(!B.isFunction(s))throw new TypeError("visitor must be a function");function y(M){if(M===null)return"";if(B.isDate(M))return M.toISOString();if(!v&&B.isBlob(M))throw new Ce("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(M)||B.isTypedArray(M)?v&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function S(M,A,U){let P=M;if(M&&!U&&typeof M=="object"){if(B.endsWith(A,"{}"))A=o?A:A.slice(0,-2),M=JSON.stringify(M);else if(B.isArray(M)&&wT(M)||(B.isFileList(M)||B.endsWith(A,"[]"))&&(P=B.toArray(M)))return A=SC(A),P.forEach(function(R,F){!(B.isUndefined(R)||R===null)&&t.append(f===!0?zm([A],F,c):f===null?A:A+"[]",y(R))}),!1}return Yd(M)?!0:(t.append(zm(U,A,c),y(M)),!1)}const k=[],E=Object.assign(_T,{defaultVisitor:S,convertValue:y,isVisitable:Yd});function N(M,A){if(!B.isUndefined(M)){if(k.indexOf(M)!==-1)throw Error("Circular reference detected in "+A.join("."));k.push(M),B.forEach(M,function(P,_){(!(B.isUndefined(P)||P===null)&&s.call(t,P,B.isString(_)?_.trim():_,A,E))===!0&&N(P,A?A.concat(_):[_])}),k.pop()}}if(!B.isObject(e))throw new TypeError("data must be an object");return N(e),t}function Bm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function ap(e,t){this._pairs=[],e&&uc(e,this,t)}const xC=ap.prototype;xC.append=function(t,r){this._pairs.push([t,r])};xC.toString=function(t){const r=t?function(o){return t.call(this,o,Bm)}:Bm;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function bT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kC(e,t,r){if(!t)return e;const o=r&&r.encode||bT,s=r&&r.serialize;let c;if(s?c=s(t,r):c=B.isURLSearchParams(t)?t.toString():new ap(t,r).toString(o),c){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class Um{constructor(){this.handlers=[]}use(t,r,o){return this.handlers.push({fulfilled:t,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){B.forEach(this.handlers,function(o){o!==null&&t(o)})}}const wC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},TT=typeof URLSearchParams<"u"?URLSearchParams:ap,ET=typeof FormData<"u"?FormData:null,RT=typeof Blob<"u"?Blob:null,LT={isBrowser:!0,classes:{URLSearchParams:TT,FormData:ET,Blob:RT},protocols:["http","https","file","blob","url","data"]},lp=typeof window<"u"&&typeof document<"u",Xd=typeof navigator=="object"&&navigator||void 0,PT=lp&&(!Xd||["ReactNative","NativeScript","NS"].indexOf(Xd.product)<0),OT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",DT=lp&&window.location.href||"http://localhost",MT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lp,hasStandardBrowserEnv:PT,hasStandardBrowserWebWorkerEnv:OT,navigator:Xd,origin:DT},Symbol.toStringTag,{value:"Module"})),an={...MT,...LT};function NT(e,t){return uc(e,new an.classes.URLSearchParams,Object.assign({visitor:function(r,o,s,c){return an.isNode&&B.isBuffer(r)?(this.append(o,r.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function AT(e){return B.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function IT(e){const t={},r=Object.keys(e);let o;const s=r.length;let c;for(o=0;o<s;o++)c=r[o],t[c]=e[c];return t}function _C(e){function t(r,o,s,c){let f=r[c++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),v=c>=r.length;return f=!f&&B.isArray(s)?s.length:f,v?(B.hasOwnProp(s,f)?s[f]=[s[f],o]:s[f]=o,!p):((!s[f]||!B.isObject(s[f]))&&(s[f]=[]),t(r,o,s[f],c)&&B.isArray(s[f])&&(s[f]=IT(s[f])),!p)}if(B.isFormData(e)&&B.isFunction(e.entries)){const r={};return B.forEachEntry(e,(o,s)=>{t(AT(o),s,r,0)}),r}return null}function FT(e,t,r){if(B.isString(e))try{return(t||JSON.parse)(e),B.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(0,JSON.stringify)(e)}const Ha={transitional:wC,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const o=r.getContentType()||"",s=o.indexOf("application/json")>-1,c=B.isObject(t);if(c&&B.isHTMLForm(t)&&(t=new FormData(t)),B.isFormData(t))return s?JSON.stringify(_C(t)):t;if(B.isArrayBuffer(t)||B.isBuffer(t)||B.isStream(t)||B.isFile(t)||B.isBlob(t)||B.isReadableStream(t))return t;if(B.isArrayBufferView(t))return t.buffer;if(B.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return NT(t,this.formSerializer).toString();if((p=B.isFileList(t))||o.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return uc(p?{"files[]":t}:t,v&&new v,this.formSerializer)}}return c||s?(r.setContentType("application/json",!1),FT(t)):t}],transformResponse:[function(t){const r=this.transitional||Ha.transitional,o=r&&r.forcedJSONParsing,s=this.responseType==="json";if(B.isResponse(t)||B.isReadableStream(t))return t;if(t&&B.isString(t)&&(o&&!this.responseType||s)){const f=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(p){if(f)throw p.name==="SyntaxError"?Ce.from(p,Ce.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:an.classes.FormData,Blob:an.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],e=>{Ha.headers[e]={}});const zT=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BT=e=>{const t={};let r,o,s;return e&&e.split(`
`).forEach(function(f){s=f.indexOf(":"),r=f.substring(0,s).trim().toLowerCase(),o=f.substring(s+1).trim(),!(!r||t[r]&&zT[r])&&(r==="set-cookie"?t[r]?t[r].push(o):t[r]=[o]:t[r]=t[r]?t[r]+", "+o:o)}),t},jm=Symbol("internals");function Qs(e){return e&&String(e).trim().toLowerCase()}function lu(e){return e===!1||e==null?e:B.isArray(e)?e.map(lu):String(e)}function UT(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(e);)t[o[1]]=o[2];return t}const jT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Uf(e,t,r,o,s){if(B.isFunction(o))return o.call(this,t,r);if(s&&(t=r),!!B.isString(t)){if(B.isString(o))return t.indexOf(o)!==-1;if(B.isRegExp(o))return o.test(t)}}function HT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,o)=>r.toUpperCase()+o)}function WT(e,t){const r=B.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+r,{value:function(s,c,f){return this[o].call(this,t,s,c,f)},configurable:!0})})}class ln{constructor(t){t&&this.set(t)}set(t,r,o){const s=this;function c(p,v,y){const S=Qs(v);if(!S)throw new Error("header name must be a non-empty string");const k=B.findKey(s,S);(!k||s[k]===void 0||y===!0||y===void 0&&s[k]!==!1)&&(s[k||v]=lu(p))}const f=(p,v)=>B.forEach(p,(y,S)=>c(y,S,v));if(B.isPlainObject(t)||t instanceof this.constructor)f(t,r);else if(B.isString(t)&&(t=t.trim())&&!jT(t))f(BT(t),r);else if(B.isHeaders(t))for(const[p,v]of t.entries())c(v,p,o);else t!=null&&c(r,t,o);return this}get(t,r){if(t=Qs(t),t){const o=B.findKey(this,t);if(o){const s=this[o];if(!r)return s;if(r===!0)return UT(s);if(B.isFunction(r))return r.call(this,s,o);if(B.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Qs(t),t){const o=B.findKey(this,t);return!!(o&&this[o]!==void 0&&(!r||Uf(this,this[o],o,r)))}return!1}delete(t,r){const o=this;let s=!1;function c(f){if(f=Qs(f),f){const p=B.findKey(o,f);p&&(!r||Uf(o,o[p],p,r))&&(delete o[p],s=!0)}}return B.isArray(t)?t.forEach(c):c(t),s}clear(t){const r=Object.keys(this);let o=r.length,s=!1;for(;o--;){const c=r[o];(!t||Uf(this,this[c],c,t,!0))&&(delete this[c],s=!0)}return s}normalize(t){const r=this,o={};return B.forEach(this,(s,c)=>{const f=B.findKey(o,c);if(f){r[f]=lu(s),delete r[c];return}const p=t?HT(c):String(c).trim();p!==c&&delete r[c],r[p]=lu(s),o[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return B.forEach(this,(o,s)=>{o!=null&&o!==!1&&(r[s]=t&&B.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const o=new this(t);return r.forEach(s=>o.set(s)),o}static accessor(t){const o=(this[jm]=this[jm]={accessors:{}}).accessors,s=this.prototype;function c(f){const p=Qs(f);o[p]||(WT(s,f),o[p]=!0)}return B.isArray(t)?t.forEach(c):c(t),this}}ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(ln.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[r]=o}}});B.freezeMethods(ln);function jf(e,t){const r=this||Ha,o=t||r,s=ln.from(o.headers);let c=o.data;return B.forEach(e,function(p){c=p.call(r,c,s.normalize(),t?t.status:void 0)}),s.normalize(),c}function bC(e){return!!(e&&e.__CANCEL__)}function os(e,t,r){Ce.call(this,e??"canceled",Ce.ERR_CANCELED,t,r),this.name="CanceledError"}B.inherits(os,Ce,{__CANCEL__:!0});function TC(e,t,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?e(r):t(new Ce("Request failed with status code "+r.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function $T(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function KT(e,t){e=e||10;const r=new Array(e),o=new Array(e);let s=0,c=0,f;return t=t!==void 0?t:1e3,function(v){const y=Date.now(),S=o[c];f||(f=y),r[s]=v,o[s]=y;let k=c,E=0;for(;k!==s;)E+=r[k++],k=k%e;if(s=(s+1)%e,s===c&&(c=(c+1)%e),y-f<t)return;const N=S&&y-S;return N?Math.round(E*1e3/N):void 0}}function GT(e,t){let r=0,o=1e3/t,s,c;const f=(y,S=Date.now())=>{r=S,s=null,c&&(clearTimeout(c),c=null),e.apply(null,y)};return[(...y)=>{const S=Date.now(),k=S-r;k>=o?f(y,S):(s=y,c||(c=setTimeout(()=>{c=null,f(s)},o-k)))},()=>s&&f(s)]}const Fu=(e,t,r=3)=>{let o=0;const s=KT(50,250);return GT(c=>{const f=c.loaded,p=c.lengthComputable?c.total:void 0,v=f-o,y=s(v),S=f<=p;o=f;const k={loaded:f,total:p,progress:p?f/p:void 0,bytes:v,rate:y||void 0,estimated:y&&p&&S?(p-f)/y:void 0,event:c,lengthComputable:p!=null,[t?"download":"upload"]:!0};e(k)},r)},Hm=(e,t)=>{const r=e!=null;return[o=>t[0]({lengthComputable:r,total:e,loaded:o}),t[1]]},Wm=e=>(...t)=>B.asap(()=>e(...t)),VT=an.hasStandardBrowserEnv?function(){const t=an.navigator&&/(msie|trident)/i.test(an.navigator.userAgent),r=document.createElement("a");let o;function s(c){let f=c;return t&&(r.setAttribute("href",f),f=r.href),r.setAttribute("href",f),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return o=s(window.location.href),function(f){const p=B.isString(f)?s(f):f;return p.protocol===o.protocol&&p.host===o.host}}():function(){return function(){return!0}}(),JT=an.hasStandardBrowserEnv?{write(e,t,r,o,s,c){const f=[e+"="+encodeURIComponent(t)];B.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),B.isString(o)&&f.push("path="+o),B.isString(s)&&f.push("domain="+s),c===!0&&f.push("secure"),document.cookie=f.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function YT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function EC(e,t){return e&&!QT(t)?YT(e,t):t}const $m=e=>e instanceof ln?{...e}:e;function $i(e,t){t=t||{};const r={};function o(y,S,k){return B.isPlainObject(y)&&B.isPlainObject(S)?B.merge.call({caseless:k},y,S):B.isPlainObject(S)?B.merge({},S):B.isArray(S)?S.slice():S}function s(y,S,k){if(B.isUndefined(S)){if(!B.isUndefined(y))return o(void 0,y,k)}else return o(y,S,k)}function c(y,S){if(!B.isUndefined(S))return o(void 0,S)}function f(y,S){if(B.isUndefined(S)){if(!B.isUndefined(y))return o(void 0,y)}else return o(void 0,S)}function p(y,S,k){if(k in t)return o(y,S);if(k in e)return o(void 0,y)}const v={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(y,S)=>s($m(y),$m(S),!0)};return B.forEach(Object.keys(Object.assign({},e,t)),function(S){const k=v[S]||s,E=k(e[S],t[S],S);B.isUndefined(E)&&k!==p||(r[S]=E)}),r}const RC=e=>{const t=$i({},e);let{data:r,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:c,headers:f,auth:p}=t;t.headers=f=ln.from(f),t.url=kC(EC(t.baseURL,t.url),e.params,e.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let v;if(B.isFormData(r)){if(an.hasStandardBrowserEnv||an.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((v=f.getContentType())!==!1){const[y,...S]=v?v.split(";").map(k=>k.trim()).filter(Boolean):[];f.setContentType([y||"multipart/form-data",...S].join("; "))}}if(an.hasStandardBrowserEnv&&(o&&B.isFunction(o)&&(o=o(t)),o||o!==!1&&VT(t.url))){const y=s&&c&&JT.read(c);y&&f.set(s,y)}return t},XT=typeof XMLHttpRequest<"u",qT=XT&&function(e){return new Promise(function(r,o){const s=RC(e);let c=s.data;const f=ln.from(s.headers).normalize();let{responseType:p,onUploadProgress:v,onDownloadProgress:y}=s,S,k,E,N,M;function A(){N&&N(),M&&M(),s.cancelToken&&s.cancelToken.unsubscribe(S),s.signal&&s.signal.removeEventListener("abort",S)}let U=new XMLHttpRequest;U.open(s.method.toUpperCase(),s.url,!0),U.timeout=s.timeout;function P(){if(!U)return;const R=ln.from("getAllResponseHeaders"in U&&U.getAllResponseHeaders()),H={data:!p||p==="text"||p==="json"?U.responseText:U.response,status:U.status,statusText:U.statusText,headers:R,config:e,request:U};TC(function(ne){r(ne),A()},function(ne){o(ne),A()},H),U=null}"onloadend"in U?U.onloadend=P:U.onreadystatechange=function(){!U||U.readyState!==4||U.status===0&&!(U.responseURL&&U.responseURL.indexOf("file:")===0)||setTimeout(P)},U.onabort=function(){U&&(o(new Ce("Request aborted",Ce.ECONNABORTED,e,U)),U=null)},U.onerror=function(){o(new Ce("Network Error",Ce.ERR_NETWORK,e,U)),U=null},U.ontimeout=function(){let F=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const H=s.transitional||wC;s.timeoutErrorMessage&&(F=s.timeoutErrorMessage),o(new Ce(F,H.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,e,U)),U=null},c===void 0&&f.setContentType(null),"setRequestHeader"in U&&B.forEach(f.toJSON(),function(F,H){U.setRequestHeader(H,F)}),B.isUndefined(s.withCredentials)||(U.withCredentials=!!s.withCredentials),p&&p!=="json"&&(U.responseType=s.responseType),y&&([E,M]=Fu(y,!0),U.addEventListener("progress",E)),v&&U.upload&&([k,N]=Fu(v),U.upload.addEventListener("progress",k),U.upload.addEventListener("loadend",N)),(s.cancelToken||s.signal)&&(S=R=>{U&&(o(!R||R.type?new os(null,e,U):R),U.abort(),U=null)},s.cancelToken&&s.cancelToken.subscribe(S),s.signal&&(s.signal.aborted?S():s.signal.addEventListener("abort",S)));const _=$T(s.url);if(_&&an.protocols.indexOf(_)===-1){o(new Ce("Unsupported protocol "+_+":",Ce.ERR_BAD_REQUEST,e));return}U.send(c||null)})},ZT=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let o=new AbortController,s;const c=function(y){if(!s){s=!0,p();const S=y instanceof Error?y:this.reason;o.abort(S instanceof Ce?S:new os(S instanceof Error?S.message:S))}};let f=t&&setTimeout(()=>{f=null,c(new Ce(`timeout ${t} of ms exceeded`,Ce.ETIMEDOUT))},t);const p=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(y=>{y.unsubscribe?y.unsubscribe(c):y.removeEventListener("abort",c)}),e=null)};e.forEach(y=>y.addEventListener("abort",c));const{signal:v}=o;return v.unsubscribe=()=>B.asap(p),v}},eE=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let o=0,s;for(;o<r;)s=o+t,yield e.slice(o,s),o=s},tE=async function*(e,t){for await(const r of nE(e))yield*eE(r,t)},nE=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:o}=await t.read();if(r)break;yield o}}finally{await t.cancel()}},Km=(e,t,r,o)=>{const s=tE(e,t);let c=0,f,p=v=>{f||(f=!0,o&&o(v))};return new ReadableStream({async pull(v){try{const{done:y,value:S}=await s.next();if(y){p(),v.close();return}let k=S.byteLength;if(r){let E=c+=k;r(E)}v.enqueue(new Uint8Array(S))}catch(y){throw p(y),y}},cancel(v){return p(v),s.return()}},{highWaterMark:2})},cc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",LC=cc&&typeof ReadableStream=="function",rE=cc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),PC=(e,...t)=>{try{return!!e(...t)}catch{return!1}},iE=LC&&PC(()=>{let e=!1;const t=new Request(an.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Gm=64*1024,qd=LC&&PC(()=>B.isReadableStream(new Response("").body)),zu={stream:qd&&(e=>e.body)};cc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!zu[t]&&(zu[t]=B.isFunction(e[t])?r=>r[t]():(r,o)=>{throw new Ce(`Response type '${t}' is not supported`,Ce.ERR_NOT_SUPPORT,o)})})})(new Response);const oE=async e=>{if(e==null)return 0;if(B.isBlob(e))return e.size;if(B.isSpecCompliantForm(e))return(await new Request(an.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(B.isArrayBufferView(e)||B.isArrayBuffer(e))return e.byteLength;if(B.isURLSearchParams(e)&&(e=e+""),B.isString(e))return(await rE(e)).byteLength},sE=async(e,t)=>{const r=B.toFiniteNumber(e.getContentLength());return r??oE(t)},aE=cc&&(async e=>{let{url:t,method:r,data:o,signal:s,cancelToken:c,timeout:f,onDownloadProgress:p,onUploadProgress:v,responseType:y,headers:S,withCredentials:k="same-origin",fetchOptions:E}=RC(e);y=y?(y+"").toLowerCase():"text";let N=ZT([s,c&&c.toAbortSignal()],f),M;const A=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let U;try{if(v&&iE&&r!=="get"&&r!=="head"&&(U=await sE(S,o))!==0){let H=new Request(t,{method:"POST",body:o,duplex:"half"}),Z;if(B.isFormData(o)&&(Z=H.headers.get("content-type"))&&S.setContentType(Z),H.body){const[ne,re]=Hm(U,Fu(Wm(v)));o=Km(H.body,Gm,ne,re)}}B.isString(k)||(k=k?"include":"omit");const P="credentials"in Request.prototype;M=new Request(t,{...E,signal:N,method:r.toUpperCase(),headers:S.normalize().toJSON(),body:o,duplex:"half",credentials:P?k:void 0});let _=await fetch(M);const R=qd&&(y==="stream"||y==="response");if(qd&&(p||R&&A)){const H={};["status","statusText","headers"].forEach(Pe=>{H[Pe]=_[Pe]});const Z=B.toFiniteNumber(_.headers.get("content-length")),[ne,re]=p&&Hm(Z,Fu(Wm(p),!0))||[];_=new Response(Km(_.body,Gm,ne,()=>{re&&re(),A&&A()}),H)}y=y||"text";let F=await zu[B.findKey(zu,y)||"text"](_,e);return!R&&A&&A(),await new Promise((H,Z)=>{TC(H,Z,{data:F,headers:ln.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:M})})}catch(P){throw A&&A(),P&&P.name==="TypeError"&&/fetch/i.test(P.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,e,M),{cause:P.cause||P}):Ce.from(P,P&&P.code,e,M)}}),Zd={http:kT,xhr:qT,fetch:aE};B.forEach(Zd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Vm=e=>`- ${e}`,lE=e=>B.isFunction(e)||e===null||e===!1,OC={getAdapter:e=>{e=B.isArray(e)?e:[e];const{length:t}=e;let r,o;const s={};for(let c=0;c<t;c++){r=e[c];let f;if(o=r,!lE(r)&&(o=Zd[(f=String(r)).toLowerCase()],o===void 0))throw new Ce(`Unknown adapter '${f}'`);if(o)break;s[f||"#"+c]=o}if(!o){const c=Object.entries(s).map(([p,v])=>`adapter ${p} `+(v===!1?"is not supported by the environment":"is not available in the build"));let f=t?c.length>1?`since :
`+c.map(Vm).join(`
`):" "+Vm(c[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return o},adapters:Zd};function Hf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new os(null,e)}function Jm(e){return Hf(e),e.headers=ln.from(e.headers),e.data=jf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),OC.getAdapter(e.adapter||Ha.adapter)(e).then(function(o){return Hf(e),o.data=jf.call(e,e.transformResponse,o),o.headers=ln.from(o.headers),o},function(o){return bC(o)||(Hf(e),o&&o.response&&(o.response.data=jf.call(e,e.transformResponse,o.response),o.response.headers=ln.from(o.response.headers))),Promise.reject(o)})}const DC="1.7.7",up={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{up[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const Qm={};up.transitional=function(t,r,o){function s(c,f){return"[Axios v"+DC+"] Transitional option '"+c+"'"+f+(o?". "+o:"")}return(c,f,p)=>{if(t===!1)throw new Ce(s(f," has been removed"+(r?" in "+r:"")),Ce.ERR_DEPRECATED);return r&&!Qm[f]&&(Qm[f]=!0,console.warn(s(f," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(c,f,p):!0}};function uE(e,t,r){if(typeof e!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let s=o.length;for(;s-- >0;){const c=o[s],f=t[c];if(f){const p=e[c],v=p===void 0||f(p,c,e);if(v!==!0)throw new Ce("option "+c+" must be "+v,Ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ce("Unknown option "+c,Ce.ERR_BAD_OPTION)}}const eh={assertOptions:uE,validators:up},Jr=eh.validators;class zi{constructor(t){this.defaults=t,this.interceptors={request:new Um,response:new Um}}async request(t,r){try{return await this._request(t,r)}catch(o){if(o instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const c=s.stack?s.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=$i(this.defaults,r);const{transitional:o,paramsSerializer:s,headers:c}=r;o!==void 0&&eh.assertOptions(o,{silentJSONParsing:Jr.transitional(Jr.boolean),forcedJSONParsing:Jr.transitional(Jr.boolean),clarifyTimeoutError:Jr.transitional(Jr.boolean)},!1),s!=null&&(B.isFunction(s)?r.paramsSerializer={serialize:s}:eh.assertOptions(s,{encode:Jr.function,serialize:Jr.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=c&&B.merge(c.common,c[r.method]);c&&B.forEach(["delete","get","head","post","put","patch","common"],M=>{delete c[M]}),r.headers=ln.concat(f,c);const p=[];let v=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(r)===!1||(v=v&&A.synchronous,p.unshift(A.fulfilled,A.rejected))});const y=[];this.interceptors.response.forEach(function(A){y.push(A.fulfilled,A.rejected)});let S,k=0,E;if(!v){const M=[Jm.bind(this),void 0];for(M.unshift.apply(M,p),M.push.apply(M,y),E=M.length,S=Promise.resolve(r);k<E;)S=S.then(M[k++],M[k++]);return S}E=p.length;let N=r;for(k=0;k<E;){const M=p[k++],A=p[k++];try{N=M(N)}catch(U){A.call(this,U);break}}try{S=Jm.call(this,N)}catch(M){return Promise.reject(M)}for(k=0,E=y.length;k<E;)S=S.then(y[k++],y[k++]);return S}getUri(t){t=$i(this.defaults,t);const r=EC(t.baseURL,t.url);return kC(r,t.params,t.paramsSerializer)}}B.forEach(["delete","get","head","options"],function(t){zi.prototype[t]=function(r,o){return this.request($i(o||{},{method:t,url:r,data:(o||{}).data}))}});B.forEach(["post","put","patch"],function(t){function r(o){return function(c,f,p){return this.request($i(p||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:f}))}}zi.prototype[t]=r(),zi.prototype[t+"Form"]=r(!0)});class cp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(c){r=c});const o=this;this.promise.then(s=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](s);o._listeners=null}),this.promise.then=s=>{let c;const f=new Promise(p=>{o.subscribe(p),c=p}).then(s);return f.cancel=function(){o.unsubscribe(c)},f},t(function(c,f,p){o.reason||(o.reason=new os(c,f,p),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=o=>{t.abort(o)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new cp(function(s){t=s}),cancel:t}}}function cE(e){return function(r){return e.apply(null,r)}}function fE(e){return B.isObject(e)&&e.isAxiosError===!0}const th={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(th).forEach(([e,t])=>{th[t]=e});function MC(e){const t=new zi(e),r=cC(zi.prototype.request,t);return B.extend(r,zi.prototype,t,{allOwnKeys:!0}),B.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return MC($i(e,s))},r}const st=MC(Ha);st.Axios=zi;st.CanceledError=os;st.CancelToken=cp;st.isCancel=bC;st.VERSION=DC;st.toFormData=uc;st.AxiosError=Ce;st.Cancel=st.CanceledError;st.all=function(t){return Promise.all(t)};st.spread=cE;st.isAxiosError=fE;st.mergeConfig=$i;st.AxiosHeaders=ln;st.formToJSON=e=>_C(B.isHTMLForm(e)?new FormData(e):e);st.getAdapter=OC.getAdapter;st.HttpStatusCode=th;st.default=st;const dE=e=>{const[t,r]=X.useState(null),[o,s]=X.useState(null),[c,f]=X.useState(null),[p,v]=X.useState(null),y=X.useRef(null),S=X.useRef(null),{peerId:k,setPeerId:E,changes:N,editorRef:M}=e;X.useEffect(()=>{p&&p.send(N)},[N]),X.useEffect(()=>{async function _(){try{const R=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});f(R),y.current&&(y.current.srcObject=R)}catch(R){console.error("Error accessing media devices:",R)}}_()},[]),X.useEffect(()=>{if(!c)return;function _(){console.log("setting up call");const R=new Ib({host:"devroulette.com",path:"/myapp",secure:!0,config:{iceServers:[{url:"stun:stun.l.google.com:19302"}]}});return R.on("open",async F=>{E(F),console.log("My peer ID is:",F)}),R.on("call",F=>{console.log("----------- call incoming! - ------------"),c?F.answer(c):console.log("---------- no stream yet to reply with-----------------"),console.log("connection id: ",F.peer),s(F.peer),F.on("stream",H=>{console.log("stream incoming"),S.current?(S.current.srcObject=H,S.current.muted=!0):console.log("no remote video ref")})}),R.on("connection",F=>{console.log("Data connection established for code sync"),F.on("data",H=>{console.log("incomming data: ",H),P(M,H)}),v(F)}),r(R),()=>{R.destroy()}}_()},[c]),X.useEffect(()=>{if(!c||!t||!k)return;async function _(R){try{const H=(await st.post("https://devroulette.com/pair",{peerId:R})).data;return H.message=="You're first in line"?console.log("first"):H.message=="You've been matched"&&(console.log("calling: ",H.pairId),s(H.pairId)),H}catch(F){console.log(F)}}_(k)},[k]),X.useEffect(()=>{o&&(A(o),U(o))},[o]);const A=_=>{t?(console.log("----------- calling peer ----------------"),c&&t&&t.call(_,c).on("stream",F=>{S.current&&(S.current.srcObject=F)})):console.log("Call failed. There was no local peer")};function U(_){t&&t.connect(_).on("data",F=>{console.log("incomming data received",F),P(M,F)})}const P=(_,R)=>{console.log("editor passed to apply change function: ",_);let F;_.current!==null?F=_.current.editor:F=M.current.editor,console.log({cm:F});const H=F.doc,Z=H.on("change");H.off("change");try{F.replaceRange(R.text,R.from,R.to)}catch(ne){console.log(ne)}H.on("change",Z)};return Be.jsxs("div",{className:"peerchat",children:[Be.jsx("video",{ref:y,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"300px",height:"auto",border:"1px solid black"}}),Be.jsx("video",{ref:S,autoPlay:!0,playsInline:!0,style:{width:"300px",height:"auto",border:"1px solid black"}})]})};var Na={},Wf={exports:{}},Ym;function NC(){return Ym||(Ym=1,function(e,t){(function(r,o){e.exports=o()})(Kf,function(){var r=navigator.userAgent,o=navigator.platform,s=/gecko\/\d/i.test(r),c=/MSIE \d/.test(r),f=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),p=/Edge\/(\d+)/.exec(r),v=c||f||p,y=v&&(c?document.documentMode||6:+(p||f)[1]),S=!p&&/WebKit\//.test(r),k=S&&/Qt\/\d+\.\d+/.test(r),E=!p&&/Chrome\/(\d+)/.exec(r),N=E&&+E[1],M=/Opera\//.test(r),A=/Apple Computer/.test(navigator.vendor),U=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),P=/PhantomJS/.test(r),_=A&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),R=/Android/.test(r),F=_||R||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),H=_||/Mac/.test(o),Z=/\bCrOS\b/.test(r),ne=/win/i.test(o),re=M&&r.match(/Version\/(\d*\.\d*)/);re&&(re=Number(re[1])),re&&re>=15&&(M=!1,S=!0);var Pe=H&&(k||M&&(re==null||re<12.11)),ve=s||v&&y>=9;function nt(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}var Lt=function(n,i){var l=n.className,a=nt(i).exec(l);if(a){var u=l.slice(a.index+a[0].length);n.className=l.slice(0,a.index)+(u?a[1]+u:"")}};function $(n){for(var i=n.childNodes.length;i>0;--i)n.removeChild(n.firstChild);return n}function ae(n,i){return $(n).appendChild(i)}function L(n,i,l,a){var u=document.createElement(n);if(l&&(u.className=l),a&&(u.style.cssText=a),typeof i=="string")u.appendChild(document.createTextNode(i));else if(i)for(var d=0;d<i.length;++d)u.appendChild(i[d]);return u}function Yt(n,i,l,a){var u=L(n,i,l,a);return u.setAttribute("role","presentation"),u}var vt;document.createRange?vt=function(n,i,l,a){var u=document.createRange();return u.setEnd(a||n,l),u.setStart(n,i),u}:vt=function(n,i,l){var a=document.body.createTextRange();try{a.moveToElementText(n.parentNode)}catch{return a}return a.collapse(!0),a.moveEnd("character",l),a.moveStart("character",i),a};function ee(n,i){if(i.nodeType==3&&(i=i.parentNode),n.contains)return n.contains(i);do if(i.nodeType==11&&(i=i.host),i==n)return!0;while(i=i.parentNode)}function ue(n){var i=n.ownerDocument||n,l;try{l=n.activeElement}catch{l=i.body||null}for(;l&&l.shadowRoot&&l.shadowRoot.activeElement;)l=l.shadowRoot.activeElement;return l}function pe(n,i){var l=n.className;nt(i).test(l)||(n.className+=(l?" ":"")+i)}function Ee(n,i){for(var l=n.split(" "),a=0;a<l.length;a++)l[a]&&!nt(l[a]).test(i)&&(i+=" "+l[a]);return i}var Me=function(n){n.select()};_?Me=function(n){n.selectionStart=0,n.selectionEnd=n.value.length}:v&&(Me=function(n){try{n.select()}catch{}});function mt(n){return n.display.wrapper.ownerDocument}function at(n){return je(n.display.wrapper)}function je(n){return n.getRootNode?n.getRootNode():n.ownerDocument}function de(n){return mt(n).defaultView}function he(n){var i=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,i)}}function Se(n,i,l){i||(i={});for(var a in n)n.hasOwnProperty(a)&&(l!==!1||!i.hasOwnProperty(a))&&(i[a]=n[a]);return i}function Re(n,i,l,a,u){i==null&&(i=n.search(/[^\s\u00a0]/),i==-1&&(i=n.length));for(var d=a||0,h=u||0;;){var g=n.indexOf("	",d);if(g<0||g>=i)return h+(i-d);h+=g-d,h+=l-h%l,d=g+1}}var Gn=function(){this.id=null,this.f=null,this.time=0,this.handler=he(this.onTimeout,this)};Gn.prototype.onTimeout=function(n){n.id=0,n.time<=+new Date?n.f():setTimeout(n.handler,n.time-+new Date)},Gn.prototype.set=function(n,i){this.f=i;var l=+new Date+n;(!this.id||l<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,n),this.time=l)};function me(n,i){for(var l=0;l<n.length;++l)if(n[l]==i)return l;return-1}var Pt=50,Pr={toString:function(){return"CodeMirror.Pass"}},un={scroll:!1},Vn={origin:"*mouse"},cn={origin:"+move"};function Jn(n,i,l){for(var a=0,u=0;;){var d=n.indexOf("	",a);d==-1&&(d=n.length);var h=d-a;if(d==n.length||u+h>=i)return a+Math.min(h,i-u);if(u+=d-a,u+=l-u%l,a=d+1,u>=i)return a}}var ur=[""];function ss(n){for(;ur.length<=n;)ur.push(we(ur)+" ");return ur[n]}function we(n){return n[n.length-1]}function vi(n,i){for(var l=[],a=0;a<n.length;a++)l[a]=i(n[a],a);return l}function fc(n,i,l){for(var a=0,u=l(i);a<n.length&&l(n[a])<=u;)a++;n.splice(a,0,i)}function Wa(){}function $a(n,i){var l;return Object.create?l=Object.create(n):(Wa.prototype=n,l=new Wa),i&&Se(i,l),l}var dc=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function as(n){return/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||dc.test(n))}function cr(n,i){return i?i.source.indexOf("\\w")>-1&&as(n)?!0:i.test(n):as(n)}function Ka(n){for(var i in n)if(n.hasOwnProperty(i)&&n[i])return!1;return!0}var fr=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function qe(n){return n.charCodeAt(0)>=768&&fr.test(n)}function Or(n,i,l){for(;(l<0?i>0:i<n.length)&&qe(n.charAt(i));)i+=l;return i}function Qn(n,i,l){for(var a=i>l?-1:1;;){if(i==l)return i;var u=(i+l)/2,d=a<0?Math.ceil(u):Math.floor(u);if(d==i)return n(d)?i:l;n(d)?l=d:i=d+a}}function Dr(n,i,l,a){if(!n)return a(i,l,"ltr",0);for(var u=!1,d=0;d<n.length;++d){var h=n[d];(h.from<l&&h.to>i||i==l&&h.to==i)&&(a(Math.max(h.from,i),Math.min(h.to,l),h.level==1?"rtl":"ltr",d),u=!0)}u||a(i,l,"ltr")}var mi=null;function Mr(n,i,l){var a;mi=null;for(var u=0;u<n.length;++u){var d=n[u];if(d.from<i&&d.to>i)return u;d.to==i&&(d.from!=d.to&&l=="before"?a=u:mi=u),d.from==i&&(d.from!=d.to&&l!="before"?a=u:mi=u)}return a??mi}var hc=function(){var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function l(C){return C<=247?n.charAt(C):1424<=C&&C<=1524?"R":1536<=C&&C<=1785?i.charAt(C-1536):1774<=C&&C<=2220?"r":8192<=C&&C<=8203?"w":C==8204?"b":"L"}var a=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,u=/[stwN]/,d=/[LRr]/,h=/[Lb1n]/,g=/[1n]/;function m(C,w,T){this.level=C,this.from=w,this.to=T}return function(C,w){var T=w=="ltr"?"L":"R";if(C.length==0||w=="ltr"&&!a.test(C))return!1;for(var D=C.length,O=[],z=0;z<D;++z)O.push(l(C.charCodeAt(z)));for(var W=0,G=T;W<D;++W){var J=O[W];J=="m"?O[W]=G:G=J}for(var q=0,Q=T;q<D;++q){var te=O[q];te=="1"&&Q=="r"?O[q]="n":d.test(te)&&(Q=te,te=="r"&&(O[q]="R"))}for(var fe=1,le=O[0];fe<D-1;++fe){var ye=O[fe];ye=="+"&&le=="1"&&O[fe+1]=="1"?O[fe]="1":ye==","&&le==O[fe+1]&&(le=="1"||le=="n")&&(O[fe]=le),le=ye}for(var De=0;De<D;++De){var dt=O[De];if(dt==",")O[De]="N";else if(dt=="%"){var ze=void 0;for(ze=De+1;ze<D&&O[ze]=="%";++ze);for(var Zt=De&&O[De-1]=="!"||ze<D&&O[ze]=="1"?"1":"N",Ht=De;Ht<ze;++Ht)O[Ht]=Zt;De=ze-1}}for(var Ze=0,Wt=T;Ze<D;++Ze){var yt=O[Ze];Wt=="L"&&yt=="1"?O[Ze]="L":d.test(yt)&&(Wt=yt)}for(var rt=0;rt<D;++rt)if(u.test(O[rt])){var et=void 0;for(et=rt+1;et<D&&u.test(O[et]);++et);for(var Ke=(rt?O[rt-1]:T)=="L",$t=(et<D?O[et]:T)=="L",_o=Ke==$t?Ke?"L":"R":T,Gr=rt;Gr<et;++Gr)O[Gr]=_o;rt=et-1}for(var bt=[],er,ht=0;ht<D;)if(h.test(O[ht])){var lf=ht;for(++ht;ht<D&&h.test(O[ht]);++ht);bt.push(new m(0,lf,ht))}else{var Cr=ht,Ei=bt.length,Ri=w=="rtl"?1:0;for(++ht;ht<D&&O[ht]!="L";++ht);for(var Dt=Cr;Dt<ht;)if(g.test(O[Dt])){Cr<Dt&&(bt.splice(Ei,0,new m(1,Cr,Dt)),Ei+=Ri);var bo=Dt;for(++Dt;Dt<ht&&g.test(O[Dt]);++Dt);bt.splice(Ei,0,new m(2,bo,Dt)),Ei+=Ri,Cr=Dt}else++Dt;Cr<ht&&bt.splice(Ei,0,new m(1,Cr,ht))}return w=="ltr"&&(bt[0].level==1&&(er=C.match(/^\s+/))&&(bt[0].from=er[0].length,bt.unshift(new m(0,0,er[0].length))),we(bt).level==1&&(er=C.match(/\s+$/))&&(we(bt).to-=er[0].length,bt.push(new m(0,D-er[0].length,D)))),w=="rtl"?bt.reverse():bt}}();function xe(n,i){var l=n.order;return l==null&&(l=n.order=hc(n.text,i)),l}var Ga=[],ce=function(n,i,l){if(n.addEventListener)n.addEventListener(i,l,!1);else if(n.attachEvent)n.attachEvent("on"+i,l);else{var a=n._handlers||(n._handlers={});a[i]=(a[i]||Ga).concat(l)}};function dr(n,i){return n._handlers&&n._handlers[i]||Ga}function kt(n,i,l){if(n.removeEventListener)n.removeEventListener(i,l,!1);else if(n.detachEvent)n.detachEvent("on"+i,l);else{var a=n._handlers,u=a&&a[i];if(u){var d=me(u,l);d>-1&&(a[i]=u.slice(0,d).concat(u.slice(d+1)))}}}function He(n,i){var l=dr(n,i);if(l.length)for(var a=Array.prototype.slice.call(arguments,2),u=0;u<l.length;++u)l[u].apply(null,a)}function We(n,i,l){return typeof i=="string"&&(i={type:i,preventDefault:function(){this.defaultPrevented=!0}}),He(n,l||i.type,n,i),zt(i)||i.codemirrorIgnore}function xn(n){var i=n._handlers&&n._handlers.cursorActivity;if(i)for(var l=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]),a=0;a<i.length;++a)me(l,i[a])==-1&&l.push(i[a])}function Xt(n,i){return dr(n,i).length>0}function Ln(n){n.prototype.on=function(i,l){ce(this,i,l)},n.prototype.off=function(i,l){kt(this,i,l)}}function wt(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function qi(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function zt(n){return n.defaultPrevented!=null?n.defaultPrevented:n.returnValue==!1}function Nr(n){wt(n),qi(n)}function ls(n){return n.target||n.srcElement}function Pn(n){var i=n.which;return i==null&&(n.button&1?i=1:n.button&2?i=3:n.button&4&&(i=2)),H&&n.ctrlKey&&i==1&&(i=3),i}var pc=function(){if(v&&y<9)return!1;var n=L("div");return"draggable"in n||"dragDrop"in n}(),Zi;function Va(n){if(Zi==null){var i=L("span","");ae(n,L("span",[i,document.createTextNode("x")])),n.firstChild.offsetHeight!=0&&(Zi=i.offsetWidth<=1&&i.offsetHeight>2&&!(v&&y<8))}var l=Zi?L("span",""):L("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return l.setAttribute("cm-text",""),l}var us;function Ar(n){if(us!=null)return us;var i=ae(n,document.createTextNode("AA")),l=vt(i,0,1).getBoundingClientRect(),a=vt(i,1,2).getBoundingClientRect();return $(n),!l||l.left==l.right?!1:us=a.right-l.right<3}var kn=`

b`.split(/\n/).length!=3?function(n){for(var i=0,l=[],a=n.length;i<=a;){var u=n.indexOf(`
`,i);u==-1&&(u=n.length);var d=n.slice(i,n.charAt(u-1)=="\r"?u-1:u),h=d.indexOf("\r");h!=-1?(l.push(d.slice(0,h)),i+=h+1):(l.push(d),i=u+1)}return l}:function(n){return n.split(/\r\n?|\n/)},Ir=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch{return!1}}:function(n){var i;try{i=n.ownerDocument.selection.createRange()}catch{}return!i||i.parentElement()!=n?!1:i.compareEndPoints("StartToEnd",i)!=0},Ja=function(){var n=L("div");return"oncopy"in n?!0:(n.setAttribute("oncopy","return;"),typeof n.oncopy=="function")}(),On=null;function gc(n){if(On!=null)return On;var i=ae(n,L("span","x")),l=i.getBoundingClientRect(),a=vt(i,0,1).getBoundingClientRect();return On=Math.abs(l.left-a.left)>1}var eo={},Dn={};function Mn(n,i){arguments.length>2&&(i.dependencies=Array.prototype.slice.call(arguments,2)),eo[n]=i}function yi(n,i){Dn[n]=i}function to(n){if(typeof n=="string"&&Dn.hasOwnProperty(n))n=Dn[n];else if(n&&typeof n.name=="string"&&Dn.hasOwnProperty(n.name)){var i=Dn[n.name];typeof i=="string"&&(i={name:i}),n=$a(i,n),n.name=i.name}else{if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(n))return to("application/xml");if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(n))return to("application/json")}return typeof n=="string"?{name:n}:n||{name:"null"}}function no(n,i){i=to(i);var l=eo[i.name];if(!l)return no(n,"text/plain");var a=l(n,i);if(Fr.hasOwnProperty(i.name)){var u=Fr[i.name];for(var d in u)u.hasOwnProperty(d)&&(a.hasOwnProperty(d)&&(a["_"+d]=a[d]),a[d]=u[d])}if(a.name=i.name,i.helperType&&(a.helperType=i.helperType),i.modeProps)for(var h in i.modeProps)a[h]=i.modeProps[h];return a}var Fr={};function ro(n,i){var l=Fr.hasOwnProperty(n)?Fr[n]:Fr[n]={};Se(i,l)}function Yn(n,i){if(i===!0)return i;if(n.copyState)return n.copyState(i);var l={};for(var a in i){var u=i[a];u instanceof Array&&(u=u.concat([])),l[a]=u}return l}function cs(n,i){for(var l;n.innerMode&&(l=n.innerMode(i),!(!l||l.mode==n));)i=l.state,n=l.mode;return l||{mode:n,state:i}}function io(n,i,l){return n.startState?n.startState(i,l):!0}var $e=function(n,i,l){this.pos=this.start=0,this.string=n,this.tabSize=i||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=l};$e.prototype.eol=function(){return this.pos>=this.string.length},$e.prototype.sol=function(){return this.pos==this.lineStart},$e.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},$e.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},$e.prototype.eat=function(n){var i=this.string.charAt(this.pos),l;if(typeof n=="string"?l=i==n:l=i&&(n.test?n.test(i):n(i)),l)return++this.pos,i},$e.prototype.eatWhile=function(n){for(var i=this.pos;this.eat(n););return this.pos>i},$e.prototype.eatSpace=function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},$e.prototype.skipToEnd=function(){this.pos=this.string.length},$e.prototype.skipTo=function(n){var i=this.string.indexOf(n,this.pos);if(i>-1)return this.pos=i,!0},$e.prototype.backUp=function(n){this.pos-=n},$e.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Re(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Re(this.string,this.lineStart,this.tabSize):0)},$e.prototype.indentation=function(){return Re(this.string,null,this.tabSize)-(this.lineStart?Re(this.string,this.lineStart,this.tabSize):0)},$e.prototype.match=function(n,i,l){if(typeof n=="string"){var a=function(h){return l?h.toLowerCase():h},u=this.string.substr(this.pos,n.length);if(a(u)==a(n))return i!==!1&&(this.pos+=n.length),!0}else{var d=this.string.slice(this.pos).match(n);return d&&d.index>0?null:(d&&i!==!1&&(this.pos+=d[0].length),d)}},$e.prototype.current=function(){return this.string.slice(this.start,this.pos)},$e.prototype.hideFirstChars=function(n,i){this.lineStart+=n;try{return i()}finally{this.lineStart-=n}},$e.prototype.lookAhead=function(n){var i=this.lineOracle;return i&&i.lookAhead(n)},$e.prototype.baseToken=function(){var n=this.lineOracle;return n&&n.baseToken(this.pos)};function oe(n,i){if(i-=n.first,i<0||i>=n.size)throw new Error("There is no line "+(i+n.first)+" in the document.");for(var l=n;!l.lines;)for(var a=0;;++a){var u=l.children[a],d=u.chunkSize();if(i<d){l=u;break}i-=d}return l.lines[i]}function hr(n,i,l){var a=[],u=i.line;return n.iter(i.line,l.line+1,function(d){var h=d.text;u==l.line&&(h=h.slice(0,l.ch)),u==i.line&&(h=h.slice(i.ch)),a.push(h),++u}),a}function fs(n,i,l){var a=[];return n.iter(i,l,function(u){a.push(u.text)}),a}function fn(n,i){var l=i-n.height;if(l)for(var a=n;a;a=a.parent)a.height+=l}function x(n){if(n.parent==null)return null;for(var i=n.parent,l=me(i.lines,n),a=i.parent;a;i=a,a=a.parent)for(var u=0;a.children[u]!=i;++u)l+=a.children[u].chunkSize();return l+i.first}function b(n,i){var l=n.first;e:do{for(var a=0;a<n.children.length;++a){var u=n.children[a],d=u.height;if(i<d){n=u;continue e}i-=d,l+=u.chunkSize()}return l}while(!n.lines);for(var h=0;h<n.lines.length;++h){var g=n.lines[h],m=g.height;if(i<m)break;i-=m}return l+h}function j(n,i){return i>=n.first&&i<n.first+n.size}function K(n,i){return String(n.lineNumberFormatter(i+n.firstLineNumber))}function I(n,i,l){if(l===void 0&&(l=null),!(this instanceof I))return new I(n,i,l);this.line=n,this.ch=i,this.sticky=l}function Y(n,i){return n.line-i.line||n.ch-i.ch}function be(n,i){return n.sticky==i.sticky&&Y(n,i)==0}function lt(n){return I(n.line,n.ch)}function Bt(n,i){return Y(n,i)<0?i:n}function oo(n,i){return Y(n,i)<0?n:i}function fp(n,i){return Math.max(n.first,Math.min(i,n.first+n.size-1))}function ge(n,i){if(i.line<n.first)return I(n.first,0);var l=n.first+n.size-1;return i.line>l?I(l,oe(n,l).text.length):zC(i,oe(n,i.line).text.length)}function zC(n,i){var l=n.ch;return l==null||l>i?I(n.line,i):l<0?I(n.line,0):n}function dp(n,i){for(var l=[],a=0;a<i.length;a++)l[a]=ge(n,i[a]);return l}var Qa=function(n,i){this.state=n,this.lookAhead=i},Xn=function(n,i,l,a){this.state=i,this.doc=n,this.line=l,this.maxLookAhead=a||0,this.baseTokens=null,this.baseTokenPos=1};Xn.prototype.lookAhead=function(n){var i=this.doc.getLine(this.line+n);return i!=null&&n>this.maxLookAhead&&(this.maxLookAhead=n),i},Xn.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=2;var i=this.baseTokens[this.baseTokenPos+1];return{type:i&&i.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}},Xn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Xn.fromSaved=function(n,i,l){return i instanceof Qa?new Xn(n,Yn(n.mode,i.state),l,i.lookAhead):new Xn(n,Yn(n.mode,i),l)},Xn.prototype.save=function(n){var i=n!==!1?Yn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Qa(i,this.maxLookAhead):i};function hp(n,i,l,a){var u=[n.state.modeGen],d={};Cp(n,i.text,n.doc.mode,l,function(C,w){return u.push(C,w)},d,a);for(var h=l.state,g=function(C){l.baseTokens=u;var w=n.state.overlays[C],T=1,D=0;l.state=!0,Cp(n,i.text,w.mode,l,function(O,z){for(var W=T;D<O;){var G=u[T];G>O&&u.splice(T,1,O,u[T+1],G),T+=2,D=Math.min(O,G)}if(z)if(w.opaque)u.splice(W,T-W,O,"overlay "+z),T=W+2;else for(;W<T;W+=2){var J=u[W+1];u[W+1]=(J?J+" ":"")+"overlay "+z}},d),l.state=h,l.baseTokens=null,l.baseTokenPos=1},m=0;m<n.state.overlays.length;++m)g(m);return{styles:u,classes:d.bgClass||d.textClass?d:null}}function pp(n,i,l){if(!i.styles||i.styles[0]!=n.state.modeGen){var a=ds(n,x(i)),u=i.text.length>n.options.maxHighlightLength&&Yn(n.doc.mode,a.state),d=hp(n,i,a);u&&(a.state=u),i.stateAfter=a.save(!u),i.styles=d.styles,d.classes?i.styleClasses=d.classes:i.styleClasses&&(i.styleClasses=null),l===n.doc.highlightFrontier&&(n.doc.modeFrontier=Math.max(n.doc.modeFrontier,++n.doc.highlightFrontier))}return i.styles}function ds(n,i,l){var a=n.doc,u=n.display;if(!a.mode.startState)return new Xn(a,!0,i);var d=BC(n,i,l),h=d>a.first&&oe(a,d-1).stateAfter,g=h?Xn.fromSaved(a,h,d):new Xn(a,io(a.mode),d);return a.iter(d,i,function(m){vc(n,m.text,g);var C=g.line;m.stateAfter=C==i-1||C%5==0||C>=u.viewFrom&&C<u.viewTo?g.save():null,g.nextLine()}),l&&(a.modeFrontier=g.line),g}function vc(n,i,l,a){var u=n.doc.mode,d=new $e(i,n.options.tabSize,l);for(d.start=d.pos=a||0,i==""&&gp(u,l.state);!d.eol();)mc(u,d,l.state),d.start=d.pos}function gp(n,i){if(n.blankLine)return n.blankLine(i);if(n.innerMode){var l=cs(n,i);if(l.mode.blankLine)return l.mode.blankLine(l.state)}}function mc(n,i,l,a){for(var u=0;u<10;u++){a&&(a[0]=cs(n,l).mode);var d=n.token(i,l);if(i.pos>i.start)return d}throw new Error("Mode "+n.name+" failed to advance stream.")}var vp=function(n,i,l){this.start=n.start,this.end=n.pos,this.string=n.current(),this.type=i||null,this.state=l};function mp(n,i,l,a){var u=n.doc,d=u.mode,h;i=ge(u,i);var g=oe(u,i.line),m=ds(n,i.line,l),C=new $e(g.text,n.options.tabSize,m),w;for(a&&(w=[]);(a||C.pos<i.ch)&&!C.eol();)C.start=C.pos,h=mc(d,C,m.state),a&&w.push(new vp(C,h,Yn(u.mode,m.state)));return a?w:new vp(C,h,m.state)}function yp(n,i){if(n)for(;;){var l=n.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!l)break;n=n.slice(0,l.index)+n.slice(l.index+l[0].length);var a=l[1]?"bgClass":"textClass";i[a]==null?i[a]=l[2]:new RegExp("(?:^|\\s)"+l[2]+"(?:$|\\s)").test(i[a])||(i[a]+=" "+l[2])}return n}function Cp(n,i,l,a,u,d,h){var g=l.flattenSpans;g==null&&(g=n.options.flattenSpans);var m=0,C=null,w=new $e(i,n.options.tabSize,a),T,D=n.options.addModeClass&&[null];for(i==""&&yp(gp(l,a.state),d);!w.eol();){if(w.pos>n.options.maxHighlightLength?(g=!1,h&&vc(n,i,a,w.pos),w.pos=i.length,T=null):T=yp(mc(l,w,a.state,D),d),D){var O=D[0].name;O&&(T="m-"+(T?O+" "+T:O))}if(!g||C!=T){for(;m<w.start;)m=Math.min(w.start,m+5e3),u(m,C);C=T}w.start=w.pos}for(;m<w.pos;){var z=Math.min(w.pos,m+5e3);u(z,C),m=z}}function BC(n,i,l){for(var a,u,d=n.doc,h=l?-1:i-(n.doc.mode.innerMode?1e3:100),g=i;g>h;--g){if(g<=d.first)return d.first;var m=oe(d,g-1),C=m.stateAfter;if(C&&(!l||g+(C instanceof Qa?C.lookAhead:0)<=d.modeFrontier))return g;var w=Re(m.text,null,n.options.tabSize);(u==null||a>w)&&(u=g-1,a=w)}return u}function UC(n,i){if(n.modeFrontier=Math.min(n.modeFrontier,i),!(n.highlightFrontier<i-10)){for(var l=n.first,a=i-1;a>l;a--){var u=oe(n,a).stateAfter;if(u&&(!(u instanceof Qa)||a+u.lookAhead<i)){l=a+1;break}}n.highlightFrontier=Math.min(n.highlightFrontier,l)}}var Sp=!1,pr=!1;function jC(){Sp=!0}function HC(){pr=!0}function Ya(n,i,l){this.marker=n,this.from=i,this.to=l}function hs(n,i){if(n)for(var l=0;l<n.length;++l){var a=n[l];if(a.marker==i)return a}}function WC(n,i){for(var l,a=0;a<n.length;++a)n[a]!=i&&(l||(l=[])).push(n[a]);return l}function $C(n,i,l){var a=l&&window.WeakSet&&(l.markedSpans||(l.markedSpans=new WeakSet));a&&n.markedSpans&&a.has(n.markedSpans)?n.markedSpans.push(i):(n.markedSpans=n.markedSpans?n.markedSpans.concat([i]):[i],a&&a.add(n.markedSpans)),i.marker.attachLine(n)}function KC(n,i,l){var a;if(n)for(var u=0;u<n.length;++u){var d=n[u],h=d.marker,g=d.from==null||(h.inclusiveLeft?d.from<=i:d.from<i);if(g||d.from==i&&h.type=="bookmark"&&(!l||!d.marker.insertLeft)){var m=d.to==null||(h.inclusiveRight?d.to>=i:d.to>i);(a||(a=[])).push(new Ya(h,d.from,m?null:d.to))}}return a}function GC(n,i,l){var a;if(n)for(var u=0;u<n.length;++u){var d=n[u],h=d.marker,g=d.to==null||(h.inclusiveRight?d.to>=i:d.to>i);if(g||d.from==i&&h.type=="bookmark"&&(!l||d.marker.insertLeft)){var m=d.from==null||(h.inclusiveLeft?d.from<=i:d.from<i);(a||(a=[])).push(new Ya(h,m?null:d.from-i,d.to==null?null:d.to-i))}}return a}function yc(n,i){if(i.full)return null;var l=j(n,i.from.line)&&oe(n,i.from.line).markedSpans,a=j(n,i.to.line)&&oe(n,i.to.line).markedSpans;if(!l&&!a)return null;var u=i.from.ch,d=i.to.ch,h=Y(i.from,i.to)==0,g=KC(l,u,h),m=GC(a,d,h),C=i.text.length==1,w=we(i.text).length+(C?u:0);if(g)for(var T=0;T<g.length;++T){var D=g[T];if(D.to==null){var O=hs(m,D.marker);O?C&&(D.to=O.to==null?null:O.to+w):D.to=u}}if(m)for(var z=0;z<m.length;++z){var W=m[z];if(W.to!=null&&(W.to+=w),W.from==null){var G=hs(g,W.marker);G||(W.from=w,C&&(g||(g=[])).push(W))}else W.from+=w,C&&(g||(g=[])).push(W)}g&&(g=xp(g)),m&&m!=g&&(m=xp(m));var J=[g];if(!C){var q=i.text.length-2,Q;if(q>0&&g)for(var te=0;te<g.length;++te)g[te].to==null&&(Q||(Q=[])).push(new Ya(g[te].marker,null,null));for(var fe=0;fe<q;++fe)J.push(Q);J.push(m)}return J}function xp(n){for(var i=0;i<n.length;++i){var l=n[i];l.from!=null&&l.from==l.to&&l.marker.clearWhenEmpty!==!1&&n.splice(i--,1)}return n.length?n:null}function VC(n,i,l){var a=null;if(n.iter(i.line,l.line+1,function(O){if(O.markedSpans)for(var z=0;z<O.markedSpans.length;++z){var W=O.markedSpans[z].marker;W.readOnly&&(!a||me(a,W)==-1)&&(a||(a=[])).push(W)}}),!a)return null;for(var u=[{from:i,to:l}],d=0;d<a.length;++d)for(var h=a[d],g=h.find(0),m=0;m<u.length;++m){var C=u[m];if(!(Y(C.to,g.from)<0||Y(C.from,g.to)>0)){var w=[m,1],T=Y(C.from,g.from),D=Y(C.to,g.to);(T<0||!h.inclusiveLeft&&!T)&&w.push({from:C.from,to:g.from}),(D>0||!h.inclusiveRight&&!D)&&w.push({from:g.to,to:C.to}),u.splice.apply(u,w),m+=w.length-3}}return u}function kp(n){var i=n.markedSpans;if(i){for(var l=0;l<i.length;++l)i[l].marker.detachLine(n);n.markedSpans=null}}function wp(n,i){if(i){for(var l=0;l<i.length;++l)i[l].marker.attachLine(n);n.markedSpans=i}}function Xa(n){return n.inclusiveLeft?-1:0}function qa(n){return n.inclusiveRight?1:0}function Cc(n,i){var l=n.lines.length-i.lines.length;if(l!=0)return l;var a=n.find(),u=i.find(),d=Y(a.from,u.from)||Xa(n)-Xa(i);if(d)return-d;var h=Y(a.to,u.to)||qa(n)-qa(i);return h||i.id-n.id}function _p(n,i){var l=pr&&n.markedSpans,a;if(l)for(var u=void 0,d=0;d<l.length;++d)u=l[d],u.marker.collapsed&&(i?u.from:u.to)==null&&(!a||Cc(a,u.marker)<0)&&(a=u.marker);return a}function bp(n){return _p(n,!0)}function Za(n){return _p(n,!1)}function JC(n,i){var l=pr&&n.markedSpans,a;if(l)for(var u=0;u<l.length;++u){var d=l[u];d.marker.collapsed&&(d.from==null||d.from<i)&&(d.to==null||d.to>i)&&(!a||Cc(a,d.marker)<0)&&(a=d.marker)}return a}function Tp(n,i,l,a,u){var d=oe(n,i),h=pr&&d.markedSpans;if(h)for(var g=0;g<h.length;++g){var m=h[g];if(m.marker.collapsed){var C=m.marker.find(0),w=Y(C.from,l)||Xa(m.marker)-Xa(u),T=Y(C.to,a)||qa(m.marker)-qa(u);if(!(w>=0&&T<=0||w<=0&&T>=0)&&(w<=0&&(m.marker.inclusiveRight&&u.inclusiveLeft?Y(C.to,l)>=0:Y(C.to,l)>0)||w>=0&&(m.marker.inclusiveRight&&u.inclusiveLeft?Y(C.from,a)<=0:Y(C.from,a)<0)))return!0}}}function Nn(n){for(var i;i=bp(n);)n=i.find(-1,!0).line;return n}function QC(n){for(var i;i=Za(n);)n=i.find(1,!0).line;return n}function YC(n){for(var i,l;i=Za(n);)n=i.find(1,!0).line,(l||(l=[])).push(n);return l}function Sc(n,i){var l=oe(n,i),a=Nn(l);return l==a?i:x(a)}function Ep(n,i){if(i>n.lastLine())return i;var l=oe(n,i),a;if(!zr(n,l))return i;for(;a=Za(l);)l=a.find(1,!0).line;return x(l)+1}function zr(n,i){var l=pr&&i.markedSpans;if(l){for(var a=void 0,u=0;u<l.length;++u)if(a=l[u],!!a.marker.collapsed){if(a.from==null)return!0;if(!a.marker.widgetNode&&a.from==0&&a.marker.inclusiveLeft&&xc(n,i,a))return!0}}}function xc(n,i,l){if(l.to==null){var a=l.marker.find(1,!0);return xc(n,a.line,hs(a.line.markedSpans,l.marker))}if(l.marker.inclusiveRight&&l.to==i.text.length)return!0;for(var u=void 0,d=0;d<i.markedSpans.length;++d)if(u=i.markedSpans[d],u.marker.collapsed&&!u.marker.widgetNode&&u.from==l.to&&(u.to==null||u.to!=l.from)&&(u.marker.inclusiveLeft||l.marker.inclusiveRight)&&xc(n,i,u))return!0}function gr(n){n=Nn(n);for(var i=0,l=n.parent,a=0;a<l.lines.length;++a){var u=l.lines[a];if(u==n)break;i+=u.height}for(var d=l.parent;d;l=d,d=l.parent)for(var h=0;h<d.children.length;++h){var g=d.children[h];if(g==l)break;i+=g.height}return i}function el(n){if(n.height==0)return 0;for(var i=n.text.length,l,a=n;l=bp(a);){var u=l.find(0,!0);a=u.from.line,i+=u.from.ch-u.to.ch}for(a=n;l=Za(a);){var d=l.find(0,!0);i-=a.text.length-d.from.ch,a=d.to.line,i+=a.text.length-d.to.ch}return i}function kc(n){var i=n.display,l=n.doc;i.maxLine=oe(l,l.first),i.maxLineLength=el(i.maxLine),i.maxLineChanged=!0,l.iter(function(a){var u=el(a);u>i.maxLineLength&&(i.maxLineLength=u,i.maxLine=a)})}var so=function(n,i,l){this.text=n,wp(this,i),this.height=l?l(this):1};so.prototype.lineNo=function(){return x(this)},Ln(so);function XC(n,i,l,a){n.text=i,n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null),n.order!=null&&(n.order=null),kp(n),wp(n,l);var u=a?a(n):1;u!=n.height&&fn(n,u)}function qC(n){n.parent=null,kp(n)}var ZC={},eS={};function Rp(n,i){if(!n||/^\s*$/.test(n))return null;var l=i.addModeClass?eS:ZC;return l[n]||(l[n]=n.replace(/\S+/g,"cm-$&"))}function Lp(n,i){var l=Yt("span",null,null,S?"padding-right: .1px":null),a={pre:Yt("pre",[l],"CodeMirror-line"),content:l,col:0,pos:0,cm:n,trailingSpace:!1,splitSpaces:n.getOption("lineWrapping")};i.measure={};for(var u=0;u<=(i.rest?i.rest.length:0);u++){var d=u?i.rest[u-1]:i.line,h=void 0;a.pos=0,a.addToken=nS,Ar(n.display.measure)&&(h=xe(d,n.doc.direction))&&(a.addToken=iS(a.addToken,h)),a.map=[];var g=i!=n.display.externalMeasured&&x(d);oS(d,a,pp(n,d,g)),d.styleClasses&&(d.styleClasses.bgClass&&(a.bgClass=Ee(d.styleClasses.bgClass,a.bgClass||"")),d.styleClasses.textClass&&(a.textClass=Ee(d.styleClasses.textClass,a.textClass||""))),a.map.length==0&&a.map.push(0,0,a.content.appendChild(Va(n.display.measure))),u==0?(i.measure.map=a.map,i.measure.cache={}):((i.measure.maps||(i.measure.maps=[])).push(a.map),(i.measure.caches||(i.measure.caches=[])).push({}))}if(S){var m=a.content.lastChild;(/\bcm-tab\b/.test(m.className)||m.querySelector&&m.querySelector(".cm-tab"))&&(a.content.className="cm-tab-wrap-hack")}return He(n,"renderLine",n,i.line,a.pre),a.pre.className&&(a.textClass=Ee(a.pre.className,a.textClass||"")),a}function tS(n){var i=L("span","","cm-invalidchar");return i.title="\\u"+n.charCodeAt(0).toString(16),i.setAttribute("aria-label",i.title),i}function nS(n,i,l,a,u,d,h){if(i){var g=n.splitSpaces?rS(i,n.trailingSpace):i,m=n.cm.state.specialChars,C=!1,w;if(!m.test(i))n.col+=i.length,w=document.createTextNode(g),n.map.push(n.pos,n.pos+i.length,w),v&&y<9&&(C=!0),n.pos+=i.length;else{w=document.createDocumentFragment();for(var T=0;;){m.lastIndex=T;var D=m.exec(i),O=D?D.index-T:i.length-T;if(O){var z=document.createTextNode(g.slice(T,T+O));v&&y<9?w.appendChild(L("span",[z])):w.appendChild(z),n.map.push(n.pos,n.pos+O,z),n.col+=O,n.pos+=O}if(!D)break;T+=O+1;var W=void 0;if(D[0]=="	"){var G=n.cm.options.tabSize,J=G-n.col%G;W=w.appendChild(L("span",ss(J),"cm-tab")),W.setAttribute("role","presentation"),W.setAttribute("cm-text","	"),n.col+=J}else D[0]=="\r"||D[0]==`
`?(W=w.appendChild(L("span",D[0]=="\r"?"":"","cm-invalidchar")),W.setAttribute("cm-text",D[0]),n.col+=1):(W=n.cm.options.specialCharPlaceholder(D[0]),W.setAttribute("cm-text",D[0]),v&&y<9?w.appendChild(L("span",[W])):w.appendChild(W),n.col+=1);n.map.push(n.pos,n.pos+1,W),n.pos++}}if(n.trailingSpace=g.charCodeAt(i.length-1)==32,l||a||u||C||d||h){var q=l||"";a&&(q+=a),u&&(q+=u);var Q=L("span",[w],q,d);if(h)for(var te in h)h.hasOwnProperty(te)&&te!="style"&&te!="class"&&Q.setAttribute(te,h[te]);return n.content.appendChild(Q)}n.content.appendChild(w)}}function rS(n,i){if(n.length>1&&!/  /.test(n))return n;for(var l=i,a="",u=0;u<n.length;u++){var d=n.charAt(u);d==" "&&l&&(u==n.length-1||n.charCodeAt(u+1)==32)&&(d=""),a+=d,l=d==" "}return a}function iS(n,i){return function(l,a,u,d,h,g,m){u=u?u+" cm-force-border":"cm-force-border";for(var C=l.pos,w=C+a.length;;){for(var T=void 0,D=0;D<i.length&&(T=i[D],!(T.to>C&&T.from<=C));D++);if(T.to>=w)return n(l,a,u,d,h,g,m);n(l,a.slice(0,T.to-C),u,d,null,g,m),d=null,a=a.slice(T.to-C),C=T.to}}}function Pp(n,i,l,a){var u=!a&&l.widgetNode;u&&n.map.push(n.pos,n.pos+i,u),!a&&n.cm.display.input.needsContentAttribute&&(u||(u=n.content.appendChild(document.createElement("span"))),u.setAttribute("cm-marker",l.id)),u&&(n.cm.display.input.setUneditable(u),n.content.appendChild(u)),n.pos+=i,n.trailingSpace=!1}function oS(n,i,l){var a=n.markedSpans,u=n.text,d=0;if(!a){for(var h=1;h<l.length;h+=2)i.addToken(i,u.slice(d,d=l[h]),Rp(l[h+1],i.cm.options));return}for(var g=u.length,m=0,C=1,w="",T,D,O=0,z,W,G,J,q;;){if(O==m){z=W=G=D="",q=null,J=null,O=1/0;for(var Q=[],te=void 0,fe=0;fe<a.length;++fe){var le=a[fe],ye=le.marker;if(ye.type=="bookmark"&&le.from==m&&ye.widgetNode)Q.push(ye);else if(le.from<=m&&(le.to==null||le.to>m||ye.collapsed&&le.to==m&&le.from==m)){if(le.to!=null&&le.to!=m&&O>le.to&&(O=le.to,W=""),ye.className&&(z+=" "+ye.className),ye.css&&(D=(D?D+";":"")+ye.css),ye.startStyle&&le.from==m&&(G+=" "+ye.startStyle),ye.endStyle&&le.to==O&&(te||(te=[])).push(ye.endStyle,le.to),ye.title&&((q||(q={})).title=ye.title),ye.attributes)for(var De in ye.attributes)(q||(q={}))[De]=ye.attributes[De];ye.collapsed&&(!J||Cc(J.marker,ye)<0)&&(J=le)}else le.from>m&&O>le.from&&(O=le.from)}if(te)for(var dt=0;dt<te.length;dt+=2)te[dt+1]==O&&(W+=" "+te[dt]);if(!J||J.from==m)for(var ze=0;ze<Q.length;++ze)Pp(i,0,Q[ze]);if(J&&(J.from||0)==m){if(Pp(i,(J.to==null?g+1:J.to)-m,J.marker,J.from==null),J.to==null)return;J.to==m&&(J=!1)}}if(m>=g)break;for(var Zt=Math.min(g,O);;){if(w){var Ht=m+w.length;if(!J){var Ze=Ht>Zt?w.slice(0,Zt-m):w;i.addToken(i,Ze,T?T+z:z,G,m+Ze.length==O?W:"",D,q)}if(Ht>=Zt){w=w.slice(Zt-m),m=Zt;break}m=Ht,G=""}w=u.slice(d,d=l[C++]),T=Rp(l[C++],i.cm.options)}}}function Op(n,i,l){this.line=i,this.rest=YC(i),this.size=this.rest?x(we(this.rest))-l+1:1,this.node=this.text=null,this.hidden=zr(n,i)}function tl(n,i,l){for(var a=[],u,d=i;d<l;d=u){var h=new Op(n.doc,oe(n.doc,d),d);u=d+h.size,a.push(h)}return a}var ao=null;function sS(n){ao?ao.ops.push(n):n.ownsGroup=ao={ops:[n],delayedCallbacks:[]}}function aS(n){var i=n.delayedCallbacks,l=0;do{for(;l<i.length;l++)i[l].call(null);for(var a=0;a<n.ops.length;a++){var u=n.ops[a];if(u.cursorActivityHandlers)for(;u.cursorActivityCalled<u.cursorActivityHandlers.length;)u.cursorActivityHandlers[u.cursorActivityCalled++].call(null,u.cm)}}while(l<i.length)}function lS(n,i){var l=n.ownsGroup;if(l)try{aS(l)}finally{ao=null,i(l)}}var ps=null;function ut(n,i){var l=dr(n,i);if(l.length){var a=Array.prototype.slice.call(arguments,2),u;ao?u=ao.delayedCallbacks:ps?u=ps:(u=ps=[],setTimeout(uS,0));for(var d=function(g){u.push(function(){return l[g].apply(null,a)})},h=0;h<l.length;++h)d(h)}}function uS(){var n=ps;ps=null;for(var i=0;i<n.length;++i)n[i]()}function Dp(n,i,l,a){for(var u=0;u<i.changes.length;u++){var d=i.changes[u];d=="text"?fS(n,i):d=="gutter"?Np(n,i,l,a):d=="class"?wc(n,i):d=="widget"&&dS(n,i,a)}i.changes=null}function gs(n){return n.node==n.text&&(n.node=L("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),v&&y<8&&(n.node.style.zIndex=2)),n.node}function cS(n,i){var l=i.bgClass?i.bgClass+" "+(i.line.bgClass||""):i.line.bgClass;if(l&&(l+=" CodeMirror-linebackground"),i.background)l?i.background.className=l:(i.background.parentNode.removeChild(i.background),i.background=null);else if(l){var a=gs(i);i.background=a.insertBefore(L("div",null,l),a.firstChild),n.display.input.setUneditable(i.background)}}function Mp(n,i){var l=n.display.externalMeasured;return l&&l.line==i.line?(n.display.externalMeasured=null,i.measure=l.measure,l.built):Lp(n,i)}function fS(n,i){var l=i.text.className,a=Mp(n,i);i.text==i.node&&(i.node=a.pre),i.text.parentNode.replaceChild(a.pre,i.text),i.text=a.pre,a.bgClass!=i.bgClass||a.textClass!=i.textClass?(i.bgClass=a.bgClass,i.textClass=a.textClass,wc(n,i)):l&&(i.text.className=l)}function wc(n,i){cS(n,i),i.line.wrapClass?gs(i).className=i.line.wrapClass:i.node!=i.text&&(i.node.className="");var l=i.textClass?i.textClass+" "+(i.line.textClass||""):i.line.textClass;i.text.className=l||""}function Np(n,i,l,a){if(i.gutter&&(i.node.removeChild(i.gutter),i.gutter=null),i.gutterBackground&&(i.node.removeChild(i.gutterBackground),i.gutterBackground=null),i.line.gutterClass){var u=gs(i);i.gutterBackground=L("div",null,"CodeMirror-gutter-background "+i.line.gutterClass,"left: "+(n.options.fixedGutter?a.fixedPos:-a.gutterTotalWidth)+"px; width: "+a.gutterTotalWidth+"px"),n.display.input.setUneditable(i.gutterBackground),u.insertBefore(i.gutterBackground,i.text)}var d=i.line.gutterMarkers;if(n.options.lineNumbers||d){var h=gs(i),g=i.gutter=L("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?a.fixedPos:-a.gutterTotalWidth)+"px");if(g.setAttribute("aria-hidden","true"),n.display.input.setUneditable(g),h.insertBefore(g,i.text),i.line.gutterClass&&(g.className+=" "+i.line.gutterClass),n.options.lineNumbers&&(!d||!d["CodeMirror-linenumbers"])&&(i.lineNumber=g.appendChild(L("div",K(n.options,l),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+a.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),d)for(var m=0;m<n.display.gutterSpecs.length;++m){var C=n.display.gutterSpecs[m].className,w=d.hasOwnProperty(C)&&d[C];w&&g.appendChild(L("div",[w],"CodeMirror-gutter-elt","left: "+a.gutterLeft[C]+"px; width: "+a.gutterWidth[C]+"px"))}}}function dS(n,i,l){i.alignable&&(i.alignable=null);for(var a=nt("CodeMirror-linewidget"),u=i.node.firstChild,d=void 0;u;u=d)d=u.nextSibling,a.test(u.className)&&i.node.removeChild(u);Ap(n,i,l)}function hS(n,i,l,a){var u=Mp(n,i);return i.text=i.node=u.pre,u.bgClass&&(i.bgClass=u.bgClass),u.textClass&&(i.textClass=u.textClass),wc(n,i),Np(n,i,l,a),Ap(n,i,a),i.node}function Ap(n,i,l){if(Ip(n,i.line,i,l,!0),i.rest)for(var a=0;a<i.rest.length;a++)Ip(n,i.rest[a],i,l,!1)}function Ip(n,i,l,a,u){if(i.widgets)for(var d=gs(l),h=0,g=i.widgets;h<g.length;++h){var m=g[h],C=L("div",[m.node],"CodeMirror-linewidget"+(m.className?" "+m.className:""));m.handleMouseEvents||C.setAttribute("cm-ignore-events","true"),pS(m,C,l,a),n.display.input.setUneditable(C),u&&m.above?d.insertBefore(C,l.gutter||l.text):d.appendChild(C),ut(m,"redraw")}}function pS(n,i,l,a){if(n.noHScroll){(l.alignable||(l.alignable=[])).push(i);var u=a.wrapperWidth;i.style.left=a.fixedPos+"px",n.coverGutter||(u-=a.gutterTotalWidth,i.style.paddingLeft=a.gutterTotalWidth+"px"),i.style.width=u+"px"}n.coverGutter&&(i.style.zIndex=5,i.style.position="relative",n.noHScroll||(i.style.marginLeft=-a.gutterTotalWidth+"px"))}function vs(n){if(n.height!=null)return n.height;var i=n.doc.cm;if(!i)return 0;if(!ee(document.body,n.node)){var l="position: relative;";n.coverGutter&&(l+="margin-left: -"+i.display.gutters.offsetWidth+"px;"),n.noHScroll&&(l+="width: "+i.display.wrapper.clientWidth+"px;"),ae(i.display.measure,L("div",[n.node],null,l))}return n.height=n.node.parentNode.offsetHeight}function vr(n,i){for(var l=ls(i);l!=n.wrapper;l=l.parentNode)if(!l||l.nodeType==1&&l.getAttribute("cm-ignore-events")=="true"||l.parentNode==n.sizer&&l!=n.mover)return!0}function nl(n){return n.lineSpace.offsetTop}function _c(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function Fp(n){if(n.cachedPaddingH)return n.cachedPaddingH;var i=ae(n.measure,L("pre","x","CodeMirror-line-like")),l=window.getComputedStyle?window.getComputedStyle(i):i.currentStyle,a={left:parseInt(l.paddingLeft),right:parseInt(l.paddingRight)};return!isNaN(a.left)&&!isNaN(a.right)&&(n.cachedPaddingH=a),a}function qn(n){return Pt-n.display.nativeBarWidth}function Ci(n){return n.display.scroller.clientWidth-qn(n)-n.display.barWidth}function bc(n){return n.display.scroller.clientHeight-qn(n)-n.display.barHeight}function gS(n,i,l){var a=n.options.lineWrapping,u=a&&Ci(n);if(!i.measure.heights||a&&i.measure.width!=u){var d=i.measure.heights=[];if(a){i.measure.width=u;for(var h=i.text.firstChild.getClientRects(),g=0;g<h.length-1;g++){var m=h[g],C=h[g+1];Math.abs(m.bottom-C.bottom)>2&&d.push((m.bottom+C.top)/2-l.top)}}d.push(l.bottom-l.top)}}function zp(n,i,l){if(n.line==i)return{map:n.measure.map,cache:n.measure.cache};if(n.rest){for(var a=0;a<n.rest.length;a++)if(n.rest[a]==i)return{map:n.measure.maps[a],cache:n.measure.caches[a]};for(var u=0;u<n.rest.length;u++)if(x(n.rest[u])>l)return{map:n.measure.maps[u],cache:n.measure.caches[u],before:!0}}}function vS(n,i){i=Nn(i);var l=x(i),a=n.display.externalMeasured=new Op(n.doc,i,l);a.lineN=l;var u=a.built=Lp(n,a);return a.text=u.pre,ae(n.display.lineMeasure,u.pre),a}function Bp(n,i,l,a){return Zn(n,lo(n,i),l,a)}function Tc(n,i){if(i>=n.display.viewFrom&&i<n.display.viewTo)return n.display.view[ki(n,i)];var l=n.display.externalMeasured;if(l&&i>=l.lineN&&i<l.lineN+l.size)return l}function lo(n,i){var l=x(i),a=Tc(n,l);a&&!a.text?a=null:a&&a.changes&&(Dp(n,a,l,Oc(n)),n.curOp.forceUpdate=!0),a||(a=vS(n,i));var u=zp(a,i,l);return{line:i,view:a,rect:null,map:u.map,cache:u.cache,before:u.before,hasHeights:!1}}function Zn(n,i,l,a,u){i.before&&(l=-1);var d=l+(a||""),h;return i.cache.hasOwnProperty(d)?h=i.cache[d]:(i.rect||(i.rect=i.view.text.getBoundingClientRect()),i.hasHeights||(gS(n,i.view,i.rect),i.hasHeights=!0),h=yS(n,i,l,a),h.bogus||(i.cache[d]=h)),{left:h.left,right:h.right,top:u?h.rtop:h.top,bottom:u?h.rbottom:h.bottom}}var Up={left:0,right:0,top:0,bottom:0};function jp(n,i,l){for(var a,u,d,h,g,m,C=0;C<n.length;C+=3)if(g=n[C],m=n[C+1],i<g?(u=0,d=1,h="left"):i<m?(u=i-g,d=u+1):(C==n.length-3||i==m&&n[C+3]>i)&&(d=m-g,u=d-1,i>=m&&(h="right")),u!=null){if(a=n[C+2],g==m&&l==(a.insertLeft?"left":"right")&&(h=l),l=="left"&&u==0)for(;C&&n[C-2]==n[C-3]&&n[C-1].insertLeft;)a=n[(C-=3)+2],h="left";if(l=="right"&&u==m-g)for(;C<n.length-3&&n[C+3]==n[C+4]&&!n[C+5].insertLeft;)a=n[(C+=3)+2],h="right";break}return{node:a,start:u,end:d,collapse:h,coverStart:g,coverEnd:m}}function mS(n,i){var l=Up;if(i=="left")for(var a=0;a<n.length&&(l=n[a]).left==l.right;a++);else for(var u=n.length-1;u>=0&&(l=n[u]).left==l.right;u--);return l}function yS(n,i,l,a){var u=jp(i.map,l,a),d=u.node,h=u.start,g=u.end,m=u.collapse,C;if(d.nodeType==3){for(var w=0;w<4;w++){for(;h&&qe(i.line.text.charAt(u.coverStart+h));)--h;for(;u.coverStart+g<u.coverEnd&&qe(i.line.text.charAt(u.coverStart+g));)++g;if(v&&y<9&&h==0&&g==u.coverEnd-u.coverStart?C=d.parentNode.getBoundingClientRect():C=mS(vt(d,h,g).getClientRects(),a),C.left||C.right||h==0)break;g=h,h=h-1,m="right"}v&&y<11&&(C=CS(n.display.measure,C))}else{h>0&&(m=a="right");var T;n.options.lineWrapping&&(T=d.getClientRects()).length>1?C=T[a=="right"?T.length-1:0]:C=d.getBoundingClientRect()}if(v&&y<9&&!h&&(!C||!C.left&&!C.right)){var D=d.parentNode.getClientRects()[0];D?C={left:D.left,right:D.left+co(n.display),top:D.top,bottom:D.bottom}:C=Up}for(var O=C.top-i.rect.top,z=C.bottom-i.rect.top,W=(O+z)/2,G=i.view.measure.heights,J=0;J<G.length-1&&!(W<G[J]);J++);var q=J?G[J-1]:0,Q=G[J],te={left:(m=="right"?C.right:C.left)-i.rect.left,right:(m=="left"?C.left:C.right)-i.rect.left,top:q,bottom:Q};return!C.left&&!C.right&&(te.bogus=!0),n.options.singleCursorHeightPerLine||(te.rtop=O,te.rbottom=z),te}function CS(n,i){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!gc(n))return i;var l=screen.logicalXDPI/screen.deviceXDPI,a=screen.logicalYDPI/screen.deviceYDPI;return{left:i.left*l,right:i.right*l,top:i.top*a,bottom:i.bottom*a}}function Hp(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var i=0;i<n.rest.length;i++)n.measure.caches[i]={}}function Wp(n){n.display.externalMeasure=null,$(n.display.lineMeasure);for(var i=0;i<n.display.view.length;i++)Hp(n.display.view[i])}function ms(n){Wp(n),n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null,n.options.lineWrapping||(n.display.maxLineChanged=!0),n.display.lineNumChars=null}function $p(n){return E&&R?-(n.body.getBoundingClientRect().left-parseInt(getComputedStyle(n.body).marginLeft)):n.defaultView.pageXOffset||(n.documentElement||n.body).scrollLeft}function Kp(n){return E&&R?-(n.body.getBoundingClientRect().top-parseInt(getComputedStyle(n.body).marginTop)):n.defaultView.pageYOffset||(n.documentElement||n.body).scrollTop}function Ec(n){var i=Nn(n),l=i.widgets,a=0;if(l)for(var u=0;u<l.length;++u)l[u].above&&(a+=vs(l[u]));return a}function rl(n,i,l,a,u){if(!u){var d=Ec(i);l.top+=d,l.bottom+=d}if(a=="line")return l;a||(a="local");var h=gr(i);if(a=="local"?h+=nl(n.display):h-=n.display.viewOffset,a=="page"||a=="window"){var g=n.display.lineSpace.getBoundingClientRect();h+=g.top+(a=="window"?0:Kp(mt(n)));var m=g.left+(a=="window"?0:$p(mt(n)));l.left+=m,l.right+=m}return l.top+=h,l.bottom+=h,l}function Gp(n,i,l){if(l=="div")return i;var a=i.left,u=i.top;if(l=="page")a-=$p(mt(n)),u-=Kp(mt(n));else if(l=="local"||!l){var d=n.display.sizer.getBoundingClientRect();a+=d.left,u+=d.top}var h=n.display.lineSpace.getBoundingClientRect();return{left:a-h.left,top:u-h.top}}function il(n,i,l,a,u){return a||(a=oe(n.doc,i.line)),rl(n,a,Bp(n,a,i.ch,u),l)}function An(n,i,l,a,u,d){a=a||oe(n.doc,i.line),u||(u=lo(n,a));function h(z,W){var G=Zn(n,u,z,W?"right":"left",d);return W?G.left=G.right:G.right=G.left,rl(n,a,G,l)}var g=xe(a,n.doc.direction),m=i.ch,C=i.sticky;if(m>=a.text.length?(m=a.text.length,C="before"):m<=0&&(m=0,C="after"),!g)return h(C=="before"?m-1:m,C=="before");function w(z,W,G){var J=g[W],q=J.level==1;return h(G?z-1:z,q!=G)}var T=Mr(g,m,C),D=mi,O=w(m,T,C=="before");return D!=null&&(O.other=w(m,D,C!="before")),O}function Vp(n,i){var l=0;i=ge(n.doc,i),n.options.lineWrapping||(l=co(n.display)*i.ch);var a=oe(n.doc,i.line),u=gr(a)+nl(n.display);return{left:l,right:l,top:u,bottom:u+a.height}}function Rc(n,i,l,a,u){var d=I(n,i,l);return d.xRel=u,a&&(d.outside=a),d}function Lc(n,i,l){var a=n.doc;if(l+=n.display.viewOffset,l<0)return Rc(a.first,0,null,-1,-1);var u=b(a,l),d=a.first+a.size-1;if(u>d)return Rc(a.first+a.size-1,oe(a,d).text.length,null,1,1);i<0&&(i=0);for(var h=oe(a,u);;){var g=SS(n,h,u,i,l),m=JC(h,g.ch+(g.xRel>0||g.outside>0?1:0));if(!m)return g;var C=m.find(1);if(C.line==u)return C;h=oe(a,u=C.line)}}function Jp(n,i,l,a){a-=Ec(i);var u=i.text.length,d=Qn(function(h){return Zn(n,l,h-1).bottom<=a},u,0);return u=Qn(function(h){return Zn(n,l,h).top>a},d,u),{begin:d,end:u}}function Qp(n,i,l,a){l||(l=lo(n,i));var u=rl(n,i,Zn(n,l,a),"line").top;return Jp(n,i,l,u)}function Pc(n,i,l,a){return n.bottom<=l?!1:n.top>l?!0:(a?n.left:n.right)>i}function SS(n,i,l,a,u){u-=gr(i);var d=lo(n,i),h=Ec(i),g=0,m=i.text.length,C=!0,w=xe(i,n.doc.direction);if(w){var T=(n.options.lineWrapping?kS:xS)(n,i,l,d,w,a,u);C=T.level!=1,g=C?T.from:T.to-1,m=C?T.to:T.from-1}var D=null,O=null,z=Qn(function(fe){var le=Zn(n,d,fe);return le.top+=h,le.bottom+=h,Pc(le,a,u,!1)?(le.top<=u&&le.left<=a&&(D=fe,O=le),!0):!1},g,m),W,G,J=!1;if(O){var q=a-O.left<O.right-a,Q=q==C;z=D+(Q?0:1),G=Q?"after":"before",W=q?O.left:O.right}else{!C&&(z==m||z==g)&&z++,G=z==0?"after":z==i.text.length?"before":Zn(n,d,z-(C?1:0)).bottom+h<=u==C?"after":"before";var te=An(n,I(l,z,G),"line",i,d);W=te.left,J=u<te.top?-1:u>=te.bottom?1:0}return z=Or(i.text,z,1),Rc(l,z,G,J,a-W)}function xS(n,i,l,a,u,d,h){var g=Qn(function(T){var D=u[T],O=D.level!=1;return Pc(An(n,I(l,O?D.to:D.from,O?"before":"after"),"line",i,a),d,h,!0)},0,u.length-1),m=u[g];if(g>0){var C=m.level!=1,w=An(n,I(l,C?m.from:m.to,C?"after":"before"),"line",i,a);Pc(w,d,h,!0)&&w.top>h&&(m=u[g-1])}return m}function kS(n,i,l,a,u,d,h){var g=Jp(n,i,a,h),m=g.begin,C=g.end;/\s/.test(i.text.charAt(C-1))&&C--;for(var w=null,T=null,D=0;D<u.length;D++){var O=u[D];if(!(O.from>=C||O.to<=m)){var z=O.level!=1,W=Zn(n,a,z?Math.min(C,O.to)-1:Math.max(m,O.from)).right,G=W<d?d-W+1e9:W-d;(!w||T>G)&&(w=O,T=G)}}return w||(w=u[u.length-1]),w.from<m&&(w={from:m,to:w.to,level:w.level}),w.to>C&&(w={from:w.from,to:C,level:w.level}),w}var Si;function uo(n){if(n.cachedTextHeight!=null)return n.cachedTextHeight;if(Si==null){Si=L("pre",null,"CodeMirror-line-like");for(var i=0;i<49;++i)Si.appendChild(document.createTextNode("x")),Si.appendChild(L("br"));Si.appendChild(document.createTextNode("x"))}ae(n.measure,Si);var l=Si.offsetHeight/50;return l>3&&(n.cachedTextHeight=l),$(n.measure),l||1}function co(n){if(n.cachedCharWidth!=null)return n.cachedCharWidth;var i=L("span","xxxxxxxxxx"),l=L("pre",[i],"CodeMirror-line-like");ae(n.measure,l);var a=i.getBoundingClientRect(),u=(a.right-a.left)/10;return u>2&&(n.cachedCharWidth=u),u||10}function Oc(n){for(var i=n.display,l={},a={},u=i.gutters.clientLeft,d=i.gutters.firstChild,h=0;d;d=d.nextSibling,++h){var g=n.display.gutterSpecs[h].className;l[g]=d.offsetLeft+d.clientLeft+u,a[g]=d.clientWidth}return{fixedPos:Dc(i),gutterTotalWidth:i.gutters.offsetWidth,gutterLeft:l,gutterWidth:a,wrapperWidth:i.wrapper.clientWidth}}function Dc(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function Yp(n){var i=uo(n.display),l=n.options.lineWrapping,a=l&&Math.max(5,n.display.scroller.clientWidth/co(n.display)-3);return function(u){if(zr(n.doc,u))return 0;var d=0;if(u.widgets)for(var h=0;h<u.widgets.length;h++)u.widgets[h].height&&(d+=u.widgets[h].height);return l?d+(Math.ceil(u.text.length/a)||1)*i:d+i}}function Mc(n){var i=n.doc,l=Yp(n);i.iter(function(a){var u=l(a);u!=a.height&&fn(a,u)})}function xi(n,i,l,a){var u=n.display;if(!l&&ls(i).getAttribute("cm-not-content")=="true")return null;var d,h,g=u.lineSpace.getBoundingClientRect();try{d=i.clientX-g.left,h=i.clientY-g.top}catch{return null}var m=Lc(n,d,h),C;if(a&&m.xRel>0&&(C=oe(n.doc,m.line).text).length==m.ch){var w=Re(C,C.length,n.options.tabSize)-C.length;m=I(m.line,Math.max(0,Math.round((d-Fp(n.display).left)/co(n.display))-w))}return m}function ki(n,i){if(i>=n.display.viewTo||(i-=n.display.viewFrom,i<0))return null;for(var l=n.display.view,a=0;a<l.length;a++)if(i-=l[a].size,i<0)return a}function Ut(n,i,l,a){i==null&&(i=n.doc.first),l==null&&(l=n.doc.first+n.doc.size),a||(a=0);var u=n.display;if(a&&l<u.viewTo&&(u.updateLineNumbers==null||u.updateLineNumbers>i)&&(u.updateLineNumbers=i),n.curOp.viewChanged=!0,i>=u.viewTo)pr&&Sc(n.doc,i)<u.viewTo&&Ur(n);else if(l<=u.viewFrom)pr&&Ep(n.doc,l+a)>u.viewFrom?Ur(n):(u.viewFrom+=a,u.viewTo+=a);else if(i<=u.viewFrom&&l>=u.viewTo)Ur(n);else if(i<=u.viewFrom){var d=ol(n,l,l+a,1);d?(u.view=u.view.slice(d.index),u.viewFrom=d.lineN,u.viewTo+=a):Ur(n)}else if(l>=u.viewTo){var h=ol(n,i,i,-1);h?(u.view=u.view.slice(0,h.index),u.viewTo=h.lineN):Ur(n)}else{var g=ol(n,i,i,-1),m=ol(n,l,l+a,1);g&&m?(u.view=u.view.slice(0,g.index).concat(tl(n,g.lineN,m.lineN)).concat(u.view.slice(m.index)),u.viewTo+=a):Ur(n)}var C=u.externalMeasured;C&&(l<C.lineN?C.lineN+=a:i<C.lineN+C.size&&(u.externalMeasured=null))}function Br(n,i,l){n.curOp.viewChanged=!0;var a=n.display,u=n.display.externalMeasured;if(u&&i>=u.lineN&&i<u.lineN+u.size&&(a.externalMeasured=null),!(i<a.viewFrom||i>=a.viewTo)){var d=a.view[ki(n,i)];if(d.node!=null){var h=d.changes||(d.changes=[]);me(h,l)==-1&&h.push(l)}}}function Ur(n){n.display.viewFrom=n.display.viewTo=n.doc.first,n.display.view=[],n.display.viewOffset=0}function ol(n,i,l,a){var u=ki(n,i),d,h=n.display.view;if(!pr||l==n.doc.first+n.doc.size)return{index:u,lineN:l};for(var g=n.display.viewFrom,m=0;m<u;m++)g+=h[m].size;if(g!=i){if(a>0){if(u==h.length-1)return null;d=g+h[u].size-i,u++}else d=g-i;i+=d,l+=d}for(;Sc(n.doc,l)!=l;){if(u==(a<0?0:h.length-1))return null;l+=a*h[u-(a<0?1:0)].size,u+=a}return{index:u,lineN:l}}function wS(n,i,l){var a=n.display,u=a.view;u.length==0||i>=a.viewTo||l<=a.viewFrom?(a.view=tl(n,i,l),a.viewFrom=i):(a.viewFrom>i?a.view=tl(n,i,a.viewFrom).concat(a.view):a.viewFrom<i&&(a.view=a.view.slice(ki(n,i))),a.viewFrom=i,a.viewTo<l?a.view=a.view.concat(tl(n,a.viewTo,l)):a.viewTo>l&&(a.view=a.view.slice(0,ki(n,l)))),a.viewTo=l}function Xp(n){for(var i=n.display.view,l=0,a=0;a<i.length;a++){var u=i[a];!u.hidden&&(!u.node||u.changes)&&++l}return l}function ys(n){n.display.input.showSelection(n.display.input.prepareSelection())}function qp(n,i){i===void 0&&(i=!0);var l=n.doc,a={},u=a.cursors=document.createDocumentFragment(),d=a.selection=document.createDocumentFragment(),h=n.options.$customCursor;h&&(i=!0);for(var g=0;g<l.sel.ranges.length;g++)if(!(!i&&g==l.sel.primIndex)){var m=l.sel.ranges[g];if(!(m.from().line>=n.display.viewTo||m.to().line<n.display.viewFrom)){var C=m.empty();if(h){var w=h(n,m);w&&Nc(n,w,u)}else(C||n.options.showCursorWhenSelecting)&&Nc(n,m.head,u);C||_S(n,m,d)}}return a}function Nc(n,i,l){var a=An(n,i,"div",null,null,!n.options.singleCursorHeightPerLine),u=l.appendChild(L("div","","CodeMirror-cursor"));if(u.style.left=a.left+"px",u.style.top=a.top+"px",u.style.height=Math.max(0,a.bottom-a.top)*n.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(n.getWrapperElement().className)){var d=il(n,i,"div",null,null),h=d.right-d.left;u.style.width=(h>0?h:n.defaultCharWidth())+"px"}if(a.other){var g=l.appendChild(L("div","","CodeMirror-cursor CodeMirror-secondarycursor"));g.style.display="",g.style.left=a.other.left+"px",g.style.top=a.other.top+"px",g.style.height=(a.other.bottom-a.other.top)*.85+"px"}}function sl(n,i){return n.top-i.top||n.left-i.left}function _S(n,i,l){var a=n.display,u=n.doc,d=document.createDocumentFragment(),h=Fp(n.display),g=h.left,m=Math.max(a.sizerWidth,Ci(n)-a.sizer.offsetLeft)-h.right,C=u.direction=="ltr";function w(Q,te,fe,le){te<0&&(te=0),te=Math.round(te),le=Math.round(le),d.appendChild(L("div",null,"CodeMirror-selected","position: absolute; left: "+Q+`px;
                             top: `+te+"px; width: "+(fe??m-Q)+`px;
                             height: `+(le-te)+"px"))}function T(Q,te,fe){var le=oe(u,Q),ye=le.text.length,De,dt;function ze(Ze,Wt){return il(n,I(Q,Ze),"div",le,Wt)}function Zt(Ze,Wt,yt){var rt=Qp(n,le,null,Ze),et=Wt=="ltr"==(yt=="after")?"left":"right",Ke=yt=="after"?rt.begin:rt.end-(/\s/.test(le.text.charAt(rt.end-1))?2:1);return ze(Ke,et)[et]}var Ht=xe(le,u.direction);return Dr(Ht,te||0,fe??ye,function(Ze,Wt,yt,rt){var et=yt=="ltr",Ke=ze(Ze,et?"left":"right"),$t=ze(Wt-1,et?"right":"left"),_o=te==null&&Ze==0,Gr=fe==null&&Wt==ye,bt=rt==0,er=!Ht||rt==Ht.length-1;if($t.top-Ke.top<=3){var ht=(C?_o:Gr)&&bt,lf=(C?Gr:_o)&&er,Cr=ht?g:(et?Ke:$t).left,Ei=lf?m:(et?$t:Ke).right;w(Cr,Ke.top,Ei-Cr,Ke.bottom)}else{var Ri,Dt,bo,uf;et?(Ri=C&&_o&&bt?g:Ke.left,Dt=C?m:Zt(Ze,yt,"before"),bo=C?g:Zt(Wt,yt,"after"),uf=C&&Gr&&er?m:$t.right):(Ri=C?Zt(Ze,yt,"before"):g,Dt=!C&&_o&&bt?m:Ke.right,bo=!C&&Gr&&er?g:$t.left,uf=C?Zt(Wt,yt,"after"):m),w(Ri,Ke.top,Dt-Ri,Ke.bottom),Ke.bottom<$t.top&&w(g,Ke.bottom,null,$t.top),w(bo,$t.top,uf-bo,$t.bottom)}(!De||sl(Ke,De)<0)&&(De=Ke),sl($t,De)<0&&(De=$t),(!dt||sl(Ke,dt)<0)&&(dt=Ke),sl($t,dt)<0&&(dt=$t)}),{start:De,end:dt}}var D=i.from(),O=i.to();if(D.line==O.line)T(D.line,D.ch,O.ch);else{var z=oe(u,D.line),W=oe(u,O.line),G=Nn(z)==Nn(W),J=T(D.line,D.ch,G?z.text.length+1:null).end,q=T(O.line,G?0:null,O.ch).start;G&&(J.top<q.top-2?(w(J.right,J.top,null,J.bottom),w(g,q.top,q.left,q.bottom)):w(J.right,J.top,q.left-J.right,J.bottom)),J.bottom<q.top&&w(g,J.bottom,null,q.top)}l.appendChild(d)}function Ac(n){if(n.state.focused){var i=n.display;clearInterval(i.blinker);var l=!0;i.cursorDiv.style.visibility="",n.options.cursorBlinkRate>0?i.blinker=setInterval(function(){n.hasFocus()||fo(n),i.cursorDiv.style.visibility=(l=!l)?"":"hidden"},n.options.cursorBlinkRate):n.options.cursorBlinkRate<0&&(i.cursorDiv.style.visibility="hidden")}}function Zp(n){n.hasFocus()||(n.display.input.focus(),n.state.focused||Fc(n))}function Ic(n){n.state.delayingBlurEvent=!0,setTimeout(function(){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1,n.state.focused&&fo(n))},100)}function Fc(n,i){n.state.delayingBlurEvent&&!n.state.draggingText&&(n.state.delayingBlurEvent=!1),n.options.readOnly!="nocursor"&&(n.state.focused||(He(n,"focus",n,i),n.state.focused=!0,pe(n.display.wrapper,"CodeMirror-focused"),!n.curOp&&n.display.selForContextMenu!=n.doc.sel&&(n.display.input.reset(),S&&setTimeout(function(){return n.display.input.reset(!0)},20)),n.display.input.receivedFocus()),Ac(n))}function fo(n,i){n.state.delayingBlurEvent||(n.state.focused&&(He(n,"blur",n,i),n.state.focused=!1,Lt(n.display.wrapper,"CodeMirror-focused")),clearInterval(n.display.blinker),setTimeout(function(){n.state.focused||(n.display.shift=!1)},150))}function al(n){for(var i=n.display,l=i.lineDiv.offsetTop,a=Math.max(0,i.scroller.getBoundingClientRect().top),u=i.lineDiv.getBoundingClientRect().top,d=0,h=0;h<i.view.length;h++){var g=i.view[h],m=n.options.lineWrapping,C=void 0,w=0;if(!g.hidden){if(u+=g.line.height,v&&y<8){var T=g.node.offsetTop+g.node.offsetHeight;C=T-l,l=T}else{var D=g.node.getBoundingClientRect();C=D.bottom-D.top,!m&&g.text.firstChild&&(w=g.text.firstChild.getBoundingClientRect().right-D.left-1)}var O=g.line.height-C;if((O>.005||O<-.005)&&(u<a&&(d-=O),fn(g.line,C),eg(g.line),g.rest))for(var z=0;z<g.rest.length;z++)eg(g.rest[z]);if(w>n.display.sizerWidth){var W=Math.ceil(w/co(n.display));W>n.display.maxLineLength&&(n.display.maxLineLength=W,n.display.maxLine=g.line,n.display.maxLineChanged=!0)}}}Math.abs(d)>2&&(i.scroller.scrollTop+=d)}function eg(n){if(n.widgets)for(var i=0;i<n.widgets.length;++i){var l=n.widgets[i],a=l.node.parentNode;a&&(l.height=a.offsetHeight)}}function ll(n,i,l){var a=l&&l.top!=null?Math.max(0,l.top):n.scroller.scrollTop;a=Math.floor(a-nl(n));var u=l&&l.bottom!=null?l.bottom:a+n.wrapper.clientHeight,d=b(i,a),h=b(i,u);if(l&&l.ensure){var g=l.ensure.from.line,m=l.ensure.to.line;g<d?(d=g,h=b(i,gr(oe(i,g))+n.wrapper.clientHeight)):Math.min(m,i.lastLine())>=h&&(d=b(i,gr(oe(i,m))-n.wrapper.clientHeight),h=m)}return{from:d,to:Math.max(h,d+1)}}function bS(n,i){if(!We(n,"scrollCursorIntoView")){var l=n.display,a=l.sizer.getBoundingClientRect(),u=null,d=l.wrapper.ownerDocument;if(i.top+a.top<0?u=!0:i.bottom+a.top>(d.defaultView.innerHeight||d.documentElement.clientHeight)&&(u=!1),u!=null&&!P){var h=L("div","",null,`position: absolute;
                         top: `+(i.top-l.viewOffset-nl(n.display))+`px;
                         height: `+(i.bottom-i.top+qn(n)+l.barHeight)+`px;
                         left: `+i.left+"px; width: "+Math.max(2,i.right-i.left)+"px;");n.display.lineSpace.appendChild(h),h.scrollIntoView(u),n.display.lineSpace.removeChild(h)}}}function TS(n,i,l,a){a==null&&(a=0);var u;!n.options.lineWrapping&&i==l&&(l=i.sticky=="before"?I(i.line,i.ch+1,"before"):i,i=i.ch?I(i.line,i.sticky=="before"?i.ch-1:i.ch,"after"):i);for(var d=0;d<5;d++){var h=!1,g=An(n,i),m=!l||l==i?g:An(n,l);u={left:Math.min(g.left,m.left),top:Math.min(g.top,m.top)-a,right:Math.max(g.left,m.left),bottom:Math.max(g.bottom,m.bottom)+a};var C=zc(n,u),w=n.doc.scrollTop,T=n.doc.scrollLeft;if(C.scrollTop!=null&&(Ss(n,C.scrollTop),Math.abs(n.doc.scrollTop-w)>1&&(h=!0)),C.scrollLeft!=null&&(wi(n,C.scrollLeft),Math.abs(n.doc.scrollLeft-T)>1&&(h=!0)),!h)break}return u}function ES(n,i){var l=zc(n,i);l.scrollTop!=null&&Ss(n,l.scrollTop),l.scrollLeft!=null&&wi(n,l.scrollLeft)}function zc(n,i){var l=n.display,a=uo(n.display);i.top<0&&(i.top=0);var u=n.curOp&&n.curOp.scrollTop!=null?n.curOp.scrollTop:l.scroller.scrollTop,d=bc(n),h={};i.bottom-i.top>d&&(i.bottom=i.top+d);var g=n.doc.height+_c(l),m=i.top<a,C=i.bottom>g-a;if(i.top<u)h.scrollTop=m?0:i.top;else if(i.bottom>u+d){var w=Math.min(i.top,(C?g:i.bottom)-d);w!=u&&(h.scrollTop=w)}var T=n.options.fixedGutter?0:l.gutters.offsetWidth,D=n.curOp&&n.curOp.scrollLeft!=null?n.curOp.scrollLeft:l.scroller.scrollLeft-T,O=Ci(n)-l.gutters.offsetWidth,z=i.right-i.left>O;return z&&(i.right=i.left+O),i.left<10?h.scrollLeft=0:i.left<D?h.scrollLeft=Math.max(0,i.left+T-(z?0:10)):i.right>O+D-3&&(h.scrollLeft=i.right+(z?0:10)-O),h}function Bc(n,i){i!=null&&(ul(n),n.curOp.scrollTop=(n.curOp.scrollTop==null?n.doc.scrollTop:n.curOp.scrollTop)+i)}function ho(n){ul(n);var i=n.getCursor();n.curOp.scrollToPos={from:i,to:i,margin:n.options.cursorScrollMargin}}function Cs(n,i,l){(i!=null||l!=null)&&ul(n),i!=null&&(n.curOp.scrollLeft=i),l!=null&&(n.curOp.scrollTop=l)}function RS(n,i){ul(n),n.curOp.scrollToPos=i}function ul(n){var i=n.curOp.scrollToPos;if(i){n.curOp.scrollToPos=null;var l=Vp(n,i.from),a=Vp(n,i.to);tg(n,l,a,i.margin)}}function tg(n,i,l,a){var u=zc(n,{left:Math.min(i.left,l.left),top:Math.min(i.top,l.top)-a,right:Math.max(i.right,l.right),bottom:Math.max(i.bottom,l.bottom)+a});Cs(n,u.scrollLeft,u.scrollTop)}function Ss(n,i){Math.abs(n.doc.scrollTop-i)<2||(s||jc(n,{top:i}),ng(n,i,!0),s&&jc(n),ws(n,100))}function ng(n,i,l){i=Math.max(0,Math.min(n.display.scroller.scrollHeight-n.display.scroller.clientHeight,i)),!(n.display.scroller.scrollTop==i&&!l)&&(n.doc.scrollTop=i,n.display.scrollbars.setScrollTop(i),n.display.scroller.scrollTop!=i&&(n.display.scroller.scrollTop=i))}function wi(n,i,l,a){i=Math.max(0,Math.min(i,n.display.scroller.scrollWidth-n.display.scroller.clientWidth)),!((l?i==n.doc.scrollLeft:Math.abs(n.doc.scrollLeft-i)<2)&&!a)&&(n.doc.scrollLeft=i,ag(n),n.display.scroller.scrollLeft!=i&&(n.display.scroller.scrollLeft=i),n.display.scrollbars.setScrollLeft(i))}function xs(n){var i=n.display,l=i.gutters.offsetWidth,a=Math.round(n.doc.height+_c(n.display));return{clientHeight:i.scroller.clientHeight,viewHeight:i.wrapper.clientHeight,scrollWidth:i.scroller.scrollWidth,clientWidth:i.scroller.clientWidth,viewWidth:i.wrapper.clientWidth,barLeft:n.options.fixedGutter?l:0,docHeight:a,scrollHeight:a+qn(n)+i.barHeight,nativeBarWidth:i.nativeBarWidth,gutterWidth:l}}var _i=function(n,i,l){this.cm=l;var a=this.vert=L("div",[L("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),u=this.horiz=L("div",[L("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a.tabIndex=u.tabIndex=-1,n(a),n(u),ce(a,"scroll",function(){a.clientHeight&&i(a.scrollTop,"vertical")}),ce(u,"scroll",function(){u.clientWidth&&i(u.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,v&&y<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};_i.prototype.update=function(n){var i=n.scrollWidth>n.clientWidth+1,l=n.scrollHeight>n.clientHeight+1,a=n.nativeBarWidth;if(l){this.vert.style.display="block",this.vert.style.bottom=i?a+"px":"0";var u=n.viewHeight-(i?a:0);this.vert.firstChild.style.height=Math.max(0,n.scrollHeight-n.clientHeight+u)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(i){this.horiz.style.display="block",this.horiz.style.right=l?a+"px":"0",this.horiz.style.left=n.barLeft+"px";var d=n.viewWidth-n.barLeft-(l?a:0);this.horiz.firstChild.style.width=Math.max(0,n.scrollWidth-n.clientWidth+d)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&n.clientHeight>0&&(a==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:l?a:0,bottom:i?a:0}},_i.prototype.setScrollLeft=function(n){this.horiz.scrollLeft!=n&&(this.horiz.scrollLeft=n),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},_i.prototype.setScrollTop=function(n){this.vert.scrollTop!=n&&(this.vert.scrollTop=n),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},_i.prototype.zeroWidthHack=function(){var n=H&&!U?"12px":"18px";this.horiz.style.height=this.vert.style.width=n,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Gn,this.disableVert=new Gn},_i.prototype.enableZeroWidthBar=function(n,i,l){n.style.visibility="";function a(){var u=n.getBoundingClientRect(),d=l=="vert"?document.elementFromPoint(u.right-1,(u.top+u.bottom)/2):document.elementFromPoint((u.right+u.left)/2,u.bottom-1);d!=n?n.style.visibility="hidden":i.set(1e3,a)}i.set(1e3,a)},_i.prototype.clear=function(){var n=this.horiz.parentNode;n.removeChild(this.horiz),n.removeChild(this.vert)};var ks=function(){};ks.prototype.update=function(){return{bottom:0,right:0}},ks.prototype.setScrollLeft=function(){},ks.prototype.setScrollTop=function(){},ks.prototype.clear=function(){};function po(n,i){i||(i=xs(n));var l=n.display.barWidth,a=n.display.barHeight;rg(n,i);for(var u=0;u<4&&l!=n.display.barWidth||a!=n.display.barHeight;u++)l!=n.display.barWidth&&n.options.lineWrapping&&al(n),rg(n,xs(n)),l=n.display.barWidth,a=n.display.barHeight}function rg(n,i){var l=n.display,a=l.scrollbars.update(i);l.sizer.style.paddingRight=(l.barWidth=a.right)+"px",l.sizer.style.paddingBottom=(l.barHeight=a.bottom)+"px",l.heightForcer.style.borderBottom=a.bottom+"px solid transparent",a.right&&a.bottom?(l.scrollbarFiller.style.display="block",l.scrollbarFiller.style.height=a.bottom+"px",l.scrollbarFiller.style.width=a.right+"px"):l.scrollbarFiller.style.display="",a.bottom&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(l.gutterFiller.style.display="block",l.gutterFiller.style.height=a.bottom+"px",l.gutterFiller.style.width=i.gutterWidth+"px"):l.gutterFiller.style.display=""}var ig={native:_i,null:ks};function og(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&Lt(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new ig[n.options.scrollbarStyle](function(i){n.display.wrapper.insertBefore(i,n.display.scrollbarFiller),ce(i,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),i.setAttribute("cm-not-content","true")},function(i,l){l=="horizontal"?wi(n,i):Ss(n,i)},n),n.display.scrollbars.addClass&&pe(n.display.wrapper,n.display.scrollbars.addClass)}var LS=0;function bi(n){n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++LS,markArrays:null},sS(n.curOp)}function Ti(n){var i=n.curOp;i&&lS(i,function(l){for(var a=0;a<l.ops.length;a++)l.ops[a].cm.curOp=null;PS(l)})}function PS(n){for(var i=n.ops,l=0;l<i.length;l++)OS(i[l]);for(var a=0;a<i.length;a++)DS(i[a]);for(var u=0;u<i.length;u++)MS(i[u]);for(var d=0;d<i.length;d++)NS(i[d]);for(var h=0;h<i.length;h++)AS(i[h])}function OS(n){var i=n.cm,l=i.display;FS(i),n.updateMaxLine&&kc(i),n.mustUpdate=n.viewChanged||n.forceUpdate||n.scrollTop!=null||n.scrollToPos&&(n.scrollToPos.from.line<l.viewFrom||n.scrollToPos.to.line>=l.viewTo)||l.maxLineChanged&&i.options.lineWrapping,n.update=n.mustUpdate&&new cl(i,n.mustUpdate&&{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate)}function DS(n){n.updatedDisplay=n.mustUpdate&&Uc(n.cm,n.update)}function MS(n){var i=n.cm,l=i.display;n.updatedDisplay&&al(i),n.barMeasure=xs(i),l.maxLineChanged&&!i.options.lineWrapping&&(n.adjustWidthTo=Bp(i,l.maxLine,l.maxLine.text.length).left+3,i.display.sizerWidth=n.adjustWidthTo,n.barMeasure.scrollWidth=Math.max(l.scroller.clientWidth,l.sizer.offsetLeft+n.adjustWidthTo+qn(i)+i.display.barWidth),n.maxScrollLeft=Math.max(0,l.sizer.offsetLeft+n.adjustWidthTo-Ci(i))),(n.updatedDisplay||n.selectionChanged)&&(n.preparedSelection=l.input.prepareSelection())}function NS(n){var i=n.cm;n.adjustWidthTo!=null&&(i.display.sizer.style.minWidth=n.adjustWidthTo+"px",n.maxScrollLeft<i.doc.scrollLeft&&wi(i,Math.min(i.display.scroller.scrollLeft,n.maxScrollLeft),!0),i.display.maxLineChanged=!1);var l=n.focus&&n.focus==ue(at(i));n.preparedSelection&&i.display.input.showSelection(n.preparedSelection,l),(n.updatedDisplay||n.startHeight!=i.doc.height)&&po(i,n.barMeasure),n.updatedDisplay&&Wc(i,n.barMeasure),n.selectionChanged&&Ac(i),i.state.focused&&n.updateInput&&i.display.input.reset(n.typing),l&&Zp(n.cm)}function AS(n){var i=n.cm,l=i.display,a=i.doc;if(n.updatedDisplay&&sg(i,n.update),l.wheelStartX!=null&&(n.scrollTop!=null||n.scrollLeft!=null||n.scrollToPos)&&(l.wheelStartX=l.wheelStartY=null),n.scrollTop!=null&&ng(i,n.scrollTop,n.forceScroll),n.scrollLeft!=null&&wi(i,n.scrollLeft,!0,!0),n.scrollToPos){var u=TS(i,ge(a,n.scrollToPos.from),ge(a,n.scrollToPos.to),n.scrollToPos.margin);bS(i,u)}var d=n.maybeHiddenMarkers,h=n.maybeUnhiddenMarkers;if(d)for(var g=0;g<d.length;++g)d[g].lines.length||He(d[g],"hide");if(h)for(var m=0;m<h.length;++m)h[m].lines.length&&He(h[m],"unhide");l.wrapper.offsetHeight&&(a.scrollTop=i.display.scroller.scrollTop),n.changeObjs&&He(i,"changes",i,n.changeObjs),n.update&&n.update.finish()}function qt(n,i){if(n.curOp)return i();bi(n);try{return i()}finally{Ti(n)}}function ct(n,i){return function(){if(n.curOp)return i.apply(n,arguments);bi(n);try{return i.apply(n,arguments)}finally{Ti(n)}}}function Ot(n){return function(){if(this.curOp)return n.apply(this,arguments);bi(this);try{return n.apply(this,arguments)}finally{Ti(this)}}}function ft(n){return function(){var i=this.cm;if(!i||i.curOp)return n.apply(this,arguments);bi(i);try{return n.apply(this,arguments)}finally{Ti(i)}}}function ws(n,i){n.doc.highlightFrontier<n.display.viewTo&&n.state.highlight.set(i,he(IS,n))}function IS(n){var i=n.doc;if(!(i.highlightFrontier>=n.display.viewTo)){var l=+new Date+n.options.workTime,a=ds(n,i.highlightFrontier),u=[];i.iter(a.line,Math.min(i.first+i.size,n.display.viewTo+500),function(d){if(a.line>=n.display.viewFrom){var h=d.styles,g=d.text.length>n.options.maxHighlightLength?Yn(i.mode,a.state):null,m=hp(n,d,a,!0);g&&(a.state=g),d.styles=m.styles;var C=d.styleClasses,w=m.classes;w?d.styleClasses=w:C&&(d.styleClasses=null);for(var T=!h||h.length!=d.styles.length||C!=w&&(!C||!w||C.bgClass!=w.bgClass||C.textClass!=w.textClass),D=0;!T&&D<h.length;++D)T=h[D]!=d.styles[D];T&&u.push(a.line),d.stateAfter=a.save(),a.nextLine()}else d.text.length<=n.options.maxHighlightLength&&vc(n,d.text,a),d.stateAfter=a.line%5==0?a.save():null,a.nextLine();if(+new Date>l)return ws(n,n.options.workDelay),!0}),i.highlightFrontier=a.line,i.modeFrontier=Math.max(i.modeFrontier,a.line),u.length&&qt(n,function(){for(var d=0;d<u.length;d++)Br(n,u[d],"text")})}}var cl=function(n,i,l){var a=n.display;this.viewport=i,this.visible=ll(a,n.doc,i),this.editorIsHidden=!a.wrapper.offsetWidth,this.wrapperHeight=a.wrapper.clientHeight,this.wrapperWidth=a.wrapper.clientWidth,this.oldDisplayWidth=Ci(n),this.force=l,this.dims=Oc(n),this.events=[]};cl.prototype.signal=function(n,i){Xt(n,i)&&this.events.push(arguments)},cl.prototype.finish=function(){for(var n=0;n<this.events.length;n++)He.apply(null,this.events[n])};function FS(n){var i=n.display;!i.scrollbarsClipped&&i.scroller.offsetWidth&&(i.nativeBarWidth=i.scroller.offsetWidth-i.scroller.clientWidth,i.heightForcer.style.height=qn(n)+"px",i.sizer.style.marginBottom=-i.nativeBarWidth+"px",i.sizer.style.borderRightWidth=qn(n)+"px",i.scrollbarsClipped=!0)}function zS(n){if(n.hasFocus())return null;var i=ue(at(n));if(!i||!ee(n.display.lineDiv,i))return null;var l={activeElt:i};if(window.getSelection){var a=de(n).getSelection();a.anchorNode&&a.extend&&ee(n.display.lineDiv,a.anchorNode)&&(l.anchorNode=a.anchorNode,l.anchorOffset=a.anchorOffset,l.focusNode=a.focusNode,l.focusOffset=a.focusOffset)}return l}function BS(n){if(!(!n||!n.activeElt||n.activeElt==ue(je(n.activeElt)))&&(n.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(n.activeElt.nodeName)&&n.anchorNode&&ee(document.body,n.anchorNode)&&ee(document.body,n.focusNode))){var i=n.activeElt.ownerDocument,l=i.defaultView.getSelection(),a=i.createRange();a.setEnd(n.anchorNode,n.anchorOffset),a.collapse(!1),l.removeAllRanges(),l.addRange(a),l.extend(n.focusNode,n.focusOffset)}}function Uc(n,i){var l=n.display,a=n.doc;if(i.editorIsHidden)return Ur(n),!1;if(!i.force&&i.visible.from>=l.viewFrom&&i.visible.to<=l.viewTo&&(l.updateLineNumbers==null||l.updateLineNumbers>=l.viewTo)&&l.renderedView==l.view&&Xp(n)==0)return!1;lg(n)&&(Ur(n),i.dims=Oc(n));var u=a.first+a.size,d=Math.max(i.visible.from-n.options.viewportMargin,a.first),h=Math.min(u,i.visible.to+n.options.viewportMargin);l.viewFrom<d&&d-l.viewFrom<20&&(d=Math.max(a.first,l.viewFrom)),l.viewTo>h&&l.viewTo-h<20&&(h=Math.min(u,l.viewTo)),pr&&(d=Sc(n.doc,d),h=Ep(n.doc,h));var g=d!=l.viewFrom||h!=l.viewTo||l.lastWrapHeight!=i.wrapperHeight||l.lastWrapWidth!=i.wrapperWidth;wS(n,d,h),l.viewOffset=gr(oe(n.doc,l.viewFrom)),n.display.mover.style.top=l.viewOffset+"px";var m=Xp(n);if(!g&&m==0&&!i.force&&l.renderedView==l.view&&(l.updateLineNumbers==null||l.updateLineNumbers>=l.viewTo))return!1;var C=zS(n);return m>4&&(l.lineDiv.style.display="none"),US(n,l.updateLineNumbers,i.dims),m>4&&(l.lineDiv.style.display=""),l.renderedView=l.view,BS(C),$(l.cursorDiv),$(l.selectionDiv),l.gutters.style.height=l.sizer.style.minHeight=0,g&&(l.lastWrapHeight=i.wrapperHeight,l.lastWrapWidth=i.wrapperWidth,ws(n,400)),l.updateLineNumbers=null,!0}function sg(n,i){for(var l=i.viewport,a=!0;;a=!1){if(!a||!n.options.lineWrapping||i.oldDisplayWidth==Ci(n)){if(l&&l.top!=null&&(l={top:Math.min(n.doc.height+_c(n.display)-bc(n),l.top)}),i.visible=ll(n.display,n.doc,l),i.visible.from>=n.display.viewFrom&&i.visible.to<=n.display.viewTo)break}else a&&(i.visible=ll(n.display,n.doc,l));if(!Uc(n,i))break;al(n);var u=xs(n);ys(n),po(n,u),Wc(n,u),i.force=!1}i.signal(n,"update",n),(n.display.viewFrom!=n.display.reportedViewFrom||n.display.viewTo!=n.display.reportedViewTo)&&(i.signal(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo),n.display.reportedViewFrom=n.display.viewFrom,n.display.reportedViewTo=n.display.viewTo)}function jc(n,i){var l=new cl(n,i);if(Uc(n,l)){al(n),sg(n,l);var a=xs(n);ys(n),po(n,a),Wc(n,a),l.finish()}}function US(n,i,l){var a=n.display,u=n.options.lineNumbers,d=a.lineDiv,h=d.firstChild;function g(z){var W=z.nextSibling;return S&&H&&n.display.currentWheelTarget==z?z.style.display="none":z.parentNode.removeChild(z),W}for(var m=a.view,C=a.viewFrom,w=0;w<m.length;w++){var T=m[w];if(!T.hidden)if(!T.node||T.node.parentNode!=d){var D=hS(n,T,C,l);d.insertBefore(D,h)}else{for(;h!=T.node;)h=g(h);var O=u&&i!=null&&i<=C&&T.lineNumber;T.changes&&(me(T.changes,"gutter")>-1&&(O=!1),Dp(n,T,C,l)),O&&($(T.lineNumber),T.lineNumber.appendChild(document.createTextNode(K(n.options,C)))),h=T.node.nextSibling}C+=T.size}for(;h;)h=g(h)}function Hc(n){var i=n.gutters.offsetWidth;n.sizer.style.marginLeft=i+"px",ut(n,"gutterChanged",n)}function Wc(n,i){n.display.sizer.style.minHeight=i.docHeight+"px",n.display.heightForcer.style.top=i.docHeight+"px",n.display.gutters.style.height=i.docHeight+n.display.barHeight+qn(n)+"px"}function ag(n){var i=n.display,l=i.view;if(!(!i.alignWidgets&&(!i.gutters.firstChild||!n.options.fixedGutter))){for(var a=Dc(i)-i.scroller.scrollLeft+n.doc.scrollLeft,u=i.gutters.offsetWidth,d=a+"px",h=0;h<l.length;h++)if(!l[h].hidden){n.options.fixedGutter&&(l[h].gutter&&(l[h].gutter.style.left=d),l[h].gutterBackground&&(l[h].gutterBackground.style.left=d));var g=l[h].alignable;if(g)for(var m=0;m<g.length;m++)g[m].style.left=d}n.options.fixedGutter&&(i.gutters.style.left=a+u+"px")}}function lg(n){if(!n.options.lineNumbers)return!1;var i=n.doc,l=K(n.options,i.first+i.size-1),a=n.display;if(l.length!=a.lineNumChars){var u=a.measure.appendChild(L("div",[L("div",l)],"CodeMirror-linenumber CodeMirror-gutter-elt")),d=u.firstChild.offsetWidth,h=u.offsetWidth-d;return a.lineGutter.style.width="",a.lineNumInnerWidth=Math.max(d,a.lineGutter.offsetWidth-h)+1,a.lineNumWidth=a.lineNumInnerWidth+h,a.lineNumChars=a.lineNumInnerWidth?l.length:-1,a.lineGutter.style.width=a.lineNumWidth+"px",Hc(n.display),!0}return!1}function $c(n,i){for(var l=[],a=!1,u=0;u<n.length;u++){var d=n[u],h=null;if(typeof d!="string"&&(h=d.style,d=d.className),d=="CodeMirror-linenumbers")if(i)a=!0;else continue;l.push({className:d,style:h})}return i&&!a&&l.push({className:"CodeMirror-linenumbers",style:null}),l}function ug(n){var i=n.gutters,l=n.gutterSpecs;$(i),n.lineGutter=null;for(var a=0;a<l.length;++a){var u=l[a],d=u.className,h=u.style,g=i.appendChild(L("div",null,"CodeMirror-gutter "+d));h&&(g.style.cssText=h),d=="CodeMirror-linenumbers"&&(n.lineGutter=g,g.style.width=(n.lineNumWidth||1)+"px")}i.style.display=l.length?"":"none",Hc(n)}function _s(n){ug(n.display),Ut(n),ag(n)}function jS(n,i,l,a){var u=this;this.input=l,u.scrollbarFiller=L("div",null,"CodeMirror-scrollbar-filler"),u.scrollbarFiller.setAttribute("cm-not-content","true"),u.gutterFiller=L("div",null,"CodeMirror-gutter-filler"),u.gutterFiller.setAttribute("cm-not-content","true"),u.lineDiv=Yt("div",null,"CodeMirror-code"),u.selectionDiv=L("div",null,null,"position: relative; z-index: 1"),u.cursorDiv=L("div",null,"CodeMirror-cursors"),u.measure=L("div",null,"CodeMirror-measure"),u.lineMeasure=L("div",null,"CodeMirror-measure"),u.lineSpace=Yt("div",[u.measure,u.lineMeasure,u.selectionDiv,u.cursorDiv,u.lineDiv],null,"position: relative; outline: none");var d=Yt("div",[u.lineSpace],"CodeMirror-lines");u.mover=L("div",[d],null,"position: relative"),u.sizer=L("div",[u.mover],"CodeMirror-sizer"),u.sizerWidth=null,u.heightForcer=L("div",null,null,"position: absolute; height: "+Pt+"px; width: 1px;"),u.gutters=L("div",null,"CodeMirror-gutters"),u.lineGutter=null,u.scroller=L("div",[u.sizer,u.heightForcer,u.gutters],"CodeMirror-scroll"),u.scroller.setAttribute("tabIndex","-1"),u.wrapper=L("div",[u.scrollbarFiller,u.gutterFiller,u.scroller],"CodeMirror"),E&&N>=105&&(u.wrapper.style.clipPath="inset(0px)"),u.wrapper.setAttribute("translate","no"),v&&y<8&&(u.gutters.style.zIndex=-1,u.scroller.style.paddingRight=0),!S&&!(s&&F)&&(u.scroller.draggable=!0),n&&(n.appendChild?n.appendChild(u.wrapper):n(u.wrapper)),u.viewFrom=u.viewTo=i.first,u.reportedViewFrom=u.reportedViewTo=i.first,u.view=[],u.renderedView=null,u.externalMeasured=null,u.viewOffset=0,u.lastWrapHeight=u.lastWrapWidth=0,u.updateLineNumbers=null,u.nativeBarWidth=u.barHeight=u.barWidth=0,u.scrollbarsClipped=!1,u.lineNumWidth=u.lineNumInnerWidth=u.lineNumChars=null,u.alignWidgets=!1,u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.maxLine=null,u.maxLineLength=0,u.maxLineChanged=!1,u.wheelDX=u.wheelDY=u.wheelStartX=u.wheelStartY=null,u.shift=!1,u.selForContextMenu=null,u.activeTouch=null,u.gutterSpecs=$c(a.gutters,a.lineNumbers),ug(u),l.init(u)}var fl=0,mr=null;v?mr=-.53:s?mr=15:E?mr=-.7:A&&(mr=-1/3);function cg(n){var i=n.wheelDeltaX,l=n.wheelDeltaY;return i==null&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(i=n.detail),l==null&&n.detail&&n.axis==n.VERTICAL_AXIS?l=n.detail:l==null&&(l=n.wheelDelta),{x:i,y:l}}function HS(n){var i=cg(n);return i.x*=mr,i.y*=mr,i}function fg(n,i){E&&N==102&&(n.display.chromeScrollHack==null?n.display.sizer.style.pointerEvents="none":clearTimeout(n.display.chromeScrollHack),n.display.chromeScrollHack=setTimeout(function(){n.display.chromeScrollHack=null,n.display.sizer.style.pointerEvents=""},100));var l=cg(i),a=l.x,u=l.y,d=mr;i.deltaMode===0&&(a=i.deltaX,u=i.deltaY,d=1);var h=n.display,g=h.scroller,m=g.scrollWidth>g.clientWidth,C=g.scrollHeight>g.clientHeight;if(a&&m||u&&C){if(u&&H&&S){e:for(var w=i.target,T=h.view;w!=g;w=w.parentNode)for(var D=0;D<T.length;D++)if(T[D].node==w){n.display.currentWheelTarget=w;break e}}if(a&&!s&&!M&&d!=null){u&&C&&Ss(n,Math.max(0,g.scrollTop+u*d)),wi(n,Math.max(0,g.scrollLeft+a*d)),(!u||u&&C)&&wt(i),h.wheelStartX=null;return}if(u&&d!=null){var O=u*d,z=n.doc.scrollTop,W=z+h.wrapper.clientHeight;O<0?z=Math.max(0,z+O-50):W=Math.min(n.doc.height,W+O+50),jc(n,{top:z,bottom:W})}fl<20&&i.deltaMode!==0&&(h.wheelStartX==null?(h.wheelStartX=g.scrollLeft,h.wheelStartY=g.scrollTop,h.wheelDX=a,h.wheelDY=u,setTimeout(function(){if(h.wheelStartX!=null){var G=g.scrollLeft-h.wheelStartX,J=g.scrollTop-h.wheelStartY,q=J&&h.wheelDY&&J/h.wheelDY||G&&h.wheelDX&&G/h.wheelDX;h.wheelStartX=h.wheelStartY=null,q&&(mr=(mr*fl+q)/(fl+1),++fl)}},200)):(h.wheelDX+=a,h.wheelDY+=u))}}var dn=function(n,i){this.ranges=n,this.primIndex=i};dn.prototype.primary=function(){return this.ranges[this.primIndex]},dn.prototype.equals=function(n){if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var l=this.ranges[i],a=n.ranges[i];if(!be(l.anchor,a.anchor)||!be(l.head,a.head))return!1}return!0},dn.prototype.deepCopy=function(){for(var n=[],i=0;i<this.ranges.length;i++)n[i]=new Te(lt(this.ranges[i].anchor),lt(this.ranges[i].head));return new dn(n,this.primIndex)},dn.prototype.somethingSelected=function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},dn.prototype.contains=function(n,i){i||(i=n);for(var l=0;l<this.ranges.length;l++){var a=this.ranges[l];if(Y(i,a.from())>=0&&Y(n,a.to())<=0)return l}return-1};var Te=function(n,i){this.anchor=n,this.head=i};Te.prototype.from=function(){return oo(this.anchor,this.head)},Te.prototype.to=function(){return Bt(this.anchor,this.head)},Te.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function In(n,i,l){var a=n&&n.options.selectionsMayTouch,u=i[l];i.sort(function(D,O){return Y(D.from(),O.from())}),l=me(i,u);for(var d=1;d<i.length;d++){var h=i[d],g=i[d-1],m=Y(g.to(),h.from());if(a&&!h.empty()?m>0:m>=0){var C=oo(g.from(),h.from()),w=Bt(g.to(),h.to()),T=g.empty()?h.from()==h.head:g.from()==g.head;d<=l&&--l,i.splice(--d,2,new Te(T?w:C,T?C:w))}}return new dn(i,l)}function jr(n,i){return new dn([new Te(n,i||n)],0)}function Hr(n){return n.text?I(n.from.line+n.text.length-1,we(n.text).length+(n.text.length==1?n.from.ch:0)):n.to}function dg(n,i){if(Y(n,i.from)<0)return n;if(Y(n,i.to)<=0)return Hr(i);var l=n.line+i.text.length-(i.to.line-i.from.line)-1,a=n.ch;return n.line==i.to.line&&(a+=Hr(i).ch-i.to.ch),I(l,a)}function Kc(n,i){for(var l=[],a=0;a<n.sel.ranges.length;a++){var u=n.sel.ranges[a];l.push(new Te(dg(u.anchor,i),dg(u.head,i)))}return In(n.cm,l,n.sel.primIndex)}function hg(n,i,l){return n.line==i.line?I(l.line,n.ch-i.ch+l.ch):I(l.line+(n.line-i.line),n.ch)}function WS(n,i,l){for(var a=[],u=I(n.first,0),d=u,h=0;h<i.length;h++){var g=i[h],m=hg(g.from,u,d),C=hg(Hr(g),u,d);if(u=g.to,d=C,l=="around"){var w=n.sel.ranges[h],T=Y(w.head,w.anchor)<0;a[h]=new Te(T?C:m,T?m:C)}else a[h]=new Te(m,m)}return new dn(a,n.sel.primIndex)}function Gc(n){n.doc.mode=no(n.options,n.doc.modeOption),bs(n)}function bs(n){n.doc.iter(function(i){i.stateAfter&&(i.stateAfter=null),i.styles&&(i.styles=null)}),n.doc.modeFrontier=n.doc.highlightFrontier=n.doc.first,ws(n,100),n.state.modeGen++,n.curOp&&Ut(n)}function pg(n,i){return i.from.ch==0&&i.to.ch==0&&we(i.text)==""&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function Vc(n,i,l,a){function u(q){return l?l[q]:null}function d(q,Q,te){XC(q,Q,te,a),ut(q,"change",q,i)}function h(q,Q){for(var te=[],fe=q;fe<Q;++fe)te.push(new so(C[fe],u(fe),a));return te}var g=i.from,m=i.to,C=i.text,w=oe(n,g.line),T=oe(n,m.line),D=we(C),O=u(C.length-1),z=m.line-g.line;if(i.full)n.insert(0,h(0,C.length)),n.remove(C.length,n.size-C.length);else if(pg(n,i)){var W=h(0,C.length-1);d(T,T.text,O),z&&n.remove(g.line,z),W.length&&n.insert(g.line,W)}else if(w==T)if(C.length==1)d(w,w.text.slice(0,g.ch)+D+w.text.slice(m.ch),O);else{var G=h(1,C.length-1);G.push(new so(D+w.text.slice(m.ch),O,a)),d(w,w.text.slice(0,g.ch)+C[0],u(0)),n.insert(g.line+1,G)}else if(C.length==1)d(w,w.text.slice(0,g.ch)+C[0]+T.text.slice(m.ch),u(0)),n.remove(g.line+1,z);else{d(w,w.text.slice(0,g.ch)+C[0],u(0)),d(T,D+T.text.slice(m.ch),O);var J=h(1,C.length-1);z>1&&n.remove(g.line+1,z-1),n.insert(g.line+1,J)}ut(n,"change",n,i)}function Wr(n,i,l){function a(u,d,h){if(u.linked)for(var g=0;g<u.linked.length;++g){var m=u.linked[g];if(m.doc!=d){var C=h&&m.sharedHist;l&&!C||(i(m.doc,C),a(m.doc,u,C))}}}a(n,null,!0)}function gg(n,i){if(i.cm)throw new Error("This document is already in use.");n.doc=i,i.cm=n,Mc(n),Gc(n),vg(n),n.options.direction=i.direction,n.options.lineWrapping||kc(n),n.options.mode=i.modeOption,Ut(n)}function vg(n){(n.doc.direction=="rtl"?pe:Lt)(n.display.lineDiv,"CodeMirror-rtl")}function $S(n){qt(n,function(){vg(n),Ut(n)})}function dl(n){this.done=[],this.undone=[],this.undoDepth=n?n.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=n?n.maxGeneration:1}function Jc(n,i){var l={from:lt(i.from),to:Hr(i),text:hr(n,i.from,i.to)};return Cg(n,l,i.from.line,i.to.line+1),Wr(n,function(a){return Cg(a,l,i.from.line,i.to.line+1)},!0),l}function mg(n){for(;n.length;){var i=we(n);if(i.ranges)n.pop();else break}}function KS(n,i){if(i)return mg(n.done),we(n.done);if(n.done.length&&!we(n.done).ranges)return we(n.done);if(n.done.length>1&&!n.done[n.done.length-2].ranges)return n.done.pop(),we(n.done)}function yg(n,i,l,a){var u=n.history;u.undone.length=0;var d=+new Date,h,g;if((u.lastOp==a||u.lastOrigin==i.origin&&i.origin&&(i.origin.charAt(0)=="+"&&u.lastModTime>d-(n.cm?n.cm.options.historyEventDelay:500)||i.origin.charAt(0)=="*"))&&(h=KS(u,u.lastOp==a)))g=we(h.changes),Y(i.from,i.to)==0&&Y(i.from,g.to)==0?g.to=Hr(i):h.changes.push(Jc(n,i));else{var m=we(u.done);for((!m||!m.ranges)&&hl(n.sel,u.done),h={changes:[Jc(n,i)],generation:u.generation},u.done.push(h);u.done.length>u.undoDepth;)u.done.shift(),u.done[0].ranges||u.done.shift()}u.done.push(l),u.generation=++u.maxGeneration,u.lastModTime=u.lastSelTime=d,u.lastOp=u.lastSelOp=a,u.lastOrigin=u.lastSelOrigin=i.origin,g||He(n,"historyAdded")}function GS(n,i,l,a){var u=i.charAt(0);return u=="*"||u=="+"&&l.ranges.length==a.ranges.length&&l.somethingSelected()==a.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}function VS(n,i,l,a){var u=n.history,d=a&&a.origin;l==u.lastSelOp||d&&u.lastSelOrigin==d&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==d||GS(n,d,we(u.done),i))?u.done[u.done.length-1]=i:hl(i,u.done),u.lastSelTime=+new Date,u.lastSelOrigin=d,u.lastSelOp=l,a&&a.clearRedo!==!1&&mg(u.undone)}function hl(n,i){var l=we(i);l&&l.ranges&&l.equals(n)||i.push(n)}function Cg(n,i,l,a){var u=i["spans_"+n.id],d=0;n.iter(Math.max(n.first,l),Math.min(n.first+n.size,a),function(h){h.markedSpans&&((u||(u=i["spans_"+n.id]={}))[d]=h.markedSpans),++d})}function JS(n){if(!n)return null;for(var i,l=0;l<n.length;++l)n[l].marker.explicitlyCleared?i||(i=n.slice(0,l)):i&&i.push(n[l]);return i?i.length?i:null:n}function QS(n,i){var l=i["spans_"+n.id];if(!l)return null;for(var a=[],u=0;u<i.text.length;++u)a.push(JS(l[u]));return a}function Sg(n,i){var l=QS(n,i),a=yc(n,i);if(!l)return a;if(!a)return l;for(var u=0;u<l.length;++u){var d=l[u],h=a[u];if(d&&h)e:for(var g=0;g<h.length;++g){for(var m=h[g],C=0;C<d.length;++C)if(d[C].marker==m.marker)continue e;d.push(m)}else h&&(l[u]=h)}return l}function go(n,i,l){for(var a=[],u=0;u<n.length;++u){var d=n[u];if(d.ranges){a.push(l?dn.prototype.deepCopy.call(d):d);continue}var h=d.changes,g=[];a.push({changes:g});for(var m=0;m<h.length;++m){var C=h[m],w=void 0;if(g.push({from:C.from,to:C.to,text:C.text}),i)for(var T in C)(w=T.match(/^spans_(\d+)$/))&&me(i,Number(w[1]))>-1&&(we(g)[T]=C[T],delete C[T])}}return a}function Qc(n,i,l,a){if(a){var u=n.anchor;if(l){var d=Y(i,u)<0;d!=Y(l,u)<0?(u=i,i=l):d!=Y(i,l)<0&&(i=l)}return new Te(u,i)}else return new Te(l||i,i)}function pl(n,i,l,a,u){u==null&&(u=n.cm&&(n.cm.display.shift||n.extend)),_t(n,new dn([Qc(n.sel.primary(),i,l,u)],0),a)}function xg(n,i,l){for(var a=[],u=n.cm&&(n.cm.display.shift||n.extend),d=0;d<n.sel.ranges.length;d++)a[d]=Qc(n.sel.ranges[d],i[d],null,u);var h=In(n.cm,a,n.sel.primIndex);_t(n,h,l)}function Yc(n,i,l,a){var u=n.sel.ranges.slice(0);u[i]=l,_t(n,In(n.cm,u,n.sel.primIndex),a)}function kg(n,i,l,a){_t(n,jr(i,l),a)}function YS(n,i,l){var a={ranges:i.ranges,update:function(u){this.ranges=[];for(var d=0;d<u.length;d++)this.ranges[d]=new Te(ge(n,u[d].anchor),ge(n,u[d].head))},origin:l&&l.origin};return He(n,"beforeSelectionChange",n,a),n.cm&&He(n.cm,"beforeSelectionChange",n.cm,a),a.ranges!=i.ranges?In(n.cm,a.ranges,a.ranges.length-1):i}function wg(n,i,l){var a=n.history.done,u=we(a);u&&u.ranges?(a[a.length-1]=i,gl(n,i,l)):_t(n,i,l)}function _t(n,i,l){gl(n,i,l),VS(n,n.sel,n.cm?n.cm.curOp.id:NaN,l)}function gl(n,i,l){(Xt(n,"beforeSelectionChange")||n.cm&&Xt(n.cm,"beforeSelectionChange"))&&(i=YS(n,i,l));var a=l&&l.bias||(Y(i.primary().head,n.sel.primary().head)<0?-1:1);_g(n,Tg(n,i,a,!0)),!(l&&l.scroll===!1)&&n.cm&&n.cm.getOption("readOnly")!="nocursor"&&ho(n.cm)}function _g(n,i){i.equals(n.sel)||(n.sel=i,n.cm&&(n.cm.curOp.updateInput=1,n.cm.curOp.selectionChanged=!0,xn(n.cm)),ut(n,"cursorActivity",n))}function bg(n){_g(n,Tg(n,n.sel,null,!1))}function Tg(n,i,l,a){for(var u,d=0;d<i.ranges.length;d++){var h=i.ranges[d],g=i.ranges.length==n.sel.ranges.length&&n.sel.ranges[d],m=vl(n,h.anchor,g&&g.anchor,l,a),C=h.head==h.anchor?m:vl(n,h.head,g&&g.head,l,a);(u||m!=h.anchor||C!=h.head)&&(u||(u=i.ranges.slice(0,d)),u[d]=new Te(m,C))}return u?In(n.cm,u,i.primIndex):i}function vo(n,i,l,a,u){var d=oe(n,i.line);if(d.markedSpans)for(var h=0;h<d.markedSpans.length;++h){var g=d.markedSpans[h],m=g.marker,C="selectLeft"in m?!m.selectLeft:m.inclusiveLeft,w="selectRight"in m?!m.selectRight:m.inclusiveRight;if((g.from==null||(C?g.from<=i.ch:g.from<i.ch))&&(g.to==null||(w?g.to>=i.ch:g.to>i.ch))){if(u&&(He(m,"beforeCursorEnter"),m.explicitlyCleared))if(d.markedSpans){--h;continue}else break;if(!m.atomic)continue;if(l){var T=m.find(a<0?1:-1),D=void 0;if((a<0?w:C)&&(T=Eg(n,T,-a,T&&T.line==i.line?d:null)),T&&T.line==i.line&&(D=Y(T,l))&&(a<0?D<0:D>0))return vo(n,T,i,a,u)}var O=m.find(a<0?-1:1);return(a<0?C:w)&&(O=Eg(n,O,a,O.line==i.line?d:null)),O?vo(n,O,i,a,u):null}}return i}function vl(n,i,l,a,u){var d=a||1,h=vo(n,i,l,d,u)||!u&&vo(n,i,l,d,!0)||vo(n,i,l,-d,u)||!u&&vo(n,i,l,-d,!0);return h||(n.cantEdit=!0,I(n.first,0))}function Eg(n,i,l,a){return l<0&&i.ch==0?i.line>n.first?ge(n,I(i.line-1)):null:l>0&&i.ch==(a||oe(n,i.line)).text.length?i.line<n.first+n.size-1?I(i.line+1,0):null:new I(i.line,i.ch+l)}function Rg(n){n.setSelection(I(n.firstLine(),0),I(n.lastLine()),un)}function Lg(n,i,l){var a={canceled:!1,from:i.from,to:i.to,text:i.text,origin:i.origin,cancel:function(){return a.canceled=!0}};return l&&(a.update=function(u,d,h,g){u&&(a.from=ge(n,u)),d&&(a.to=ge(n,d)),h&&(a.text=h),g!==void 0&&(a.origin=g)}),He(n,"beforeChange",n,a),n.cm&&He(n.cm,"beforeChange",n.cm,a),a.canceled?(n.cm&&(n.cm.curOp.updateInput=2),null):{from:a.from,to:a.to,text:a.text,origin:a.origin}}function mo(n,i,l){if(n.cm){if(!n.cm.curOp)return ct(n.cm,mo)(n,i,l);if(n.cm.state.suppressEdits)return}if(!((Xt(n,"beforeChange")||n.cm&&Xt(n.cm,"beforeChange"))&&(i=Lg(n,i,!0),!i))){var a=Sp&&!l&&VC(n,i.from,i.to);if(a)for(var u=a.length-1;u>=0;--u)Pg(n,{from:a[u].from,to:a[u].to,text:u?[""]:i.text,origin:i.origin});else Pg(n,i)}}function Pg(n,i){if(!(i.text.length==1&&i.text[0]==""&&Y(i.from,i.to)==0)){var l=Kc(n,i);yg(n,i,l,n.cm?n.cm.curOp.id:NaN),Ts(n,i,l,yc(n,i));var a=[];Wr(n,function(u,d){!d&&me(a,u.history)==-1&&(Ng(u.history,i),a.push(u.history)),Ts(u,i,null,yc(u,i))})}}function ml(n,i,l){var a=n.cm&&n.cm.state.suppressEdits;if(!(a&&!l)){for(var u=n.history,d,h=n.sel,g=i=="undo"?u.done:u.undone,m=i=="undo"?u.undone:u.done,C=0;C<g.length&&(d=g[C],!(l?d.ranges&&!d.equals(n.sel):!d.ranges));C++);if(C!=g.length){for(u.lastOrigin=u.lastSelOrigin=null;;)if(d=g.pop(),d.ranges){if(hl(d,m),l&&!d.equals(n.sel)){_t(n,d,{clearRedo:!1});return}h=d}else if(a){g.push(d);return}else break;var w=[];hl(h,m),m.push({changes:w,generation:u.generation}),u.generation=d.generation||++u.maxGeneration;for(var T=Xt(n,"beforeChange")||n.cm&&Xt(n.cm,"beforeChange"),D=function(W){var G=d.changes[W];if(G.origin=i,T&&!Lg(n,G,!1))return g.length=0,{};w.push(Jc(n,G));var J=W?Kc(n,G):we(g);Ts(n,G,J,Sg(n,G)),!W&&n.cm&&n.cm.scrollIntoView({from:G.from,to:Hr(G)});var q=[];Wr(n,function(Q,te){!te&&me(q,Q.history)==-1&&(Ng(Q.history,G),q.push(Q.history)),Ts(Q,G,null,Sg(Q,G))})},O=d.changes.length-1;O>=0;--O){var z=D(O);if(z)return z.v}}}}function Og(n,i){if(i!=0&&(n.first+=i,n.sel=new dn(vi(n.sel.ranges,function(u){return new Te(I(u.anchor.line+i,u.anchor.ch),I(u.head.line+i,u.head.ch))}),n.sel.primIndex),n.cm)){Ut(n.cm,n.first,n.first-i,i);for(var l=n.cm.display,a=l.viewFrom;a<l.viewTo;a++)Br(n.cm,a,"gutter")}}function Ts(n,i,l,a){if(n.cm&&!n.cm.curOp)return ct(n.cm,Ts)(n,i,l,a);if(i.to.line<n.first){Og(n,i.text.length-1-(i.to.line-i.from.line));return}if(!(i.from.line>n.lastLine())){if(i.from.line<n.first){var u=i.text.length-1-(n.first-i.from.line);Og(n,u),i={from:I(n.first,0),to:I(i.to.line+u,i.to.ch),text:[we(i.text)],origin:i.origin}}var d=n.lastLine();i.to.line>d&&(i={from:i.from,to:I(d,oe(n,d).text.length),text:[i.text[0]],origin:i.origin}),i.removed=hr(n,i.from,i.to),l||(l=Kc(n,i)),n.cm?XS(n.cm,i,a):Vc(n,i,a),gl(n,l,un),n.cantEdit&&vl(n,I(n.firstLine(),0))&&(n.cantEdit=!1)}}function XS(n,i,l){var a=n.doc,u=n.display,d=i.from,h=i.to,g=!1,m=d.line;n.options.lineWrapping||(m=x(Nn(oe(a,d.line))),a.iter(m,h.line+1,function(O){if(O==u.maxLine)return g=!0,!0})),a.sel.contains(i.from,i.to)>-1&&xn(n),Vc(a,i,l,Yp(n)),n.options.lineWrapping||(a.iter(m,d.line+i.text.length,function(O){var z=el(O);z>u.maxLineLength&&(u.maxLine=O,u.maxLineLength=z,u.maxLineChanged=!0,g=!1)}),g&&(n.curOp.updateMaxLine=!0)),UC(a,d.line),ws(n,400);var C=i.text.length-(h.line-d.line)-1;i.full?Ut(n):d.line==h.line&&i.text.length==1&&!pg(n.doc,i)?Br(n,d.line,"text"):Ut(n,d.line,h.line+1,C);var w=Xt(n,"changes"),T=Xt(n,"change");if(T||w){var D={from:d,to:h,text:i.text,removed:i.removed,origin:i.origin};T&&ut(n,"change",n,D),w&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(D)}n.display.selForContextMenu=null}function yo(n,i,l,a,u){var d;a||(a=l),Y(a,l)<0&&(d=[a,l],l=d[0],a=d[1]),typeof i=="string"&&(i=n.splitLines(i)),mo(n,{from:l,to:a,text:i,origin:u})}function Dg(n,i,l,a){l<n.line?n.line+=a:i<n.line&&(n.line=i,n.ch=0)}function Mg(n,i,l,a){for(var u=0;u<n.length;++u){var d=n[u],h=!0;if(d.ranges){d.copied||(d=n[u]=d.deepCopy(),d.copied=!0);for(var g=0;g<d.ranges.length;g++)Dg(d.ranges[g].anchor,i,l,a),Dg(d.ranges[g].head,i,l,a);continue}for(var m=0;m<d.changes.length;++m){var C=d.changes[m];if(l<C.from.line)C.from=I(C.from.line+a,C.from.ch),C.to=I(C.to.line+a,C.to.ch);else if(i<=C.to.line){h=!1;break}}h||(n.splice(0,u+1),u=0)}}function Ng(n,i){var l=i.from.line,a=i.to.line,u=i.text.length-(a-l)-1;Mg(n.done,l,a,u),Mg(n.undone,l,a,u)}function Es(n,i,l,a){var u=i,d=i;return typeof i=="number"?d=oe(n,fp(n,i)):u=x(i),u==null?null:(a(d,u)&&n.cm&&Br(n.cm,u,l),d)}function Rs(n){this.lines=n,this.parent=null;for(var i=0,l=0;l<n.length;++l)n[l].parent=this,i+=n[l].height;this.height=i}Rs.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,i){for(var l=n,a=n+i;l<a;++l){var u=this.lines[l];this.height-=u.height,qC(u),ut(u,"delete")}this.lines.splice(n,i)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,i,l){this.height+=l,this.lines=this.lines.slice(0,n).concat(i).concat(this.lines.slice(n));for(var a=0;a<i.length;++a)i[a].parent=this},iterN:function(n,i,l){for(var a=n+i;n<a;++n)if(l(this.lines[n]))return!0}};function Ls(n){this.children=n;for(var i=0,l=0,a=0;a<n.length;++a){var u=n[a];i+=u.chunkSize(),l+=u.height,u.parent=this}this.size=i,this.height=l,this.parent=null}Ls.prototype={chunkSize:function(){return this.size},removeInner:function(n,i){this.size-=i;for(var l=0;l<this.children.length;++l){var a=this.children[l],u=a.chunkSize();if(n<u){var d=Math.min(i,u-n),h=a.height;if(a.removeInner(n,d),this.height-=h-a.height,u==d&&(this.children.splice(l--,1),a.parent=null),(i-=d)==0)break;n=0}else n-=u}if(this.size-i<25&&(this.children.length>1||!(this.children[0]instanceof Rs))){var g=[];this.collapse(g),this.children=[new Rs(g)],this.children[0].parent=this}},collapse:function(n){for(var i=0;i<this.children.length;++i)this.children[i].collapse(n)},insertInner:function(n,i,l){this.size+=i.length,this.height+=l;for(var a=0;a<this.children.length;++a){var u=this.children[a],d=u.chunkSize();if(n<=d){if(u.insertInner(n,i,l),u.lines&&u.lines.length>50){for(var h=u.lines.length%25+25,g=h;g<u.lines.length;){var m=new Rs(u.lines.slice(g,g+=25));u.height-=m.height,this.children.splice(++a,0,m),m.parent=this}u.lines=u.lines.slice(0,h),this.maybeSpill()}break}n-=d}},maybeSpill:function(){if(!(this.children.length<=10)){var n=this;do{var i=n.children.splice(n.children.length-5,5),l=new Ls(i);if(n.parent){n.size-=l.size,n.height-=l.height;var u=me(n.parent.children,n);n.parent.children.splice(u+1,0,l)}else{var a=new Ls(n.children);a.parent=n,n.children=[a,l],n=a}l.parent=n.parent}while(n.children.length>10);n.parent.maybeSpill()}},iterN:function(n,i,l){for(var a=0;a<this.children.length;++a){var u=this.children[a],d=u.chunkSize();if(n<d){var h=Math.min(i,d-n);if(u.iterN(n,h,l))return!0;if((i-=h)==0)break;n=0}else n-=d}}};var Ps=function(n,i,l){if(l)for(var a in l)l.hasOwnProperty(a)&&(this[a]=l[a]);this.doc=n,this.node=i};Ps.prototype.clear=function(){var n=this.doc.cm,i=this.line.widgets,l=this.line,a=x(l);if(!(a==null||!i)){for(var u=0;u<i.length;++u)i[u]==this&&i.splice(u--,1);i.length||(l.widgets=null);var d=vs(this);fn(l,Math.max(0,l.height-d)),n&&(qt(n,function(){Ag(n,l,-d),Br(n,a,"widget")}),ut(n,"lineWidgetCleared",n,this,a))}},Ps.prototype.changed=function(){var n=this,i=this.height,l=this.doc.cm,a=this.line;this.height=null;var u=vs(this)-i;u&&(zr(this.doc,a)||fn(a,a.height+u),l&&qt(l,function(){l.curOp.forceUpdate=!0,Ag(l,a,u),ut(l,"lineWidgetChanged",l,n,x(a))}))},Ln(Ps);function Ag(n,i,l){gr(i)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&Bc(n,l)}function qS(n,i,l,a){var u=new Ps(n,l,a),d=n.cm;return d&&u.noHScroll&&(d.display.alignWidgets=!0),Es(n,i,"widget",function(h){var g=h.widgets||(h.widgets=[]);if(u.insertAt==null?g.push(u):g.splice(Math.min(g.length,Math.max(0,u.insertAt)),0,u),u.line=h,d&&!zr(n,h)){var m=gr(h)<n.scrollTop;fn(h,h.height+vs(u)),m&&Bc(d,u.height),d.curOp.forceUpdate=!0}return!0}),d&&ut(d,"lineWidgetAdded",d,u,typeof i=="number"?i:x(i)),u}var Ig=0,$r=function(n,i){this.lines=[],this.type=i,this.doc=n,this.id=++Ig};$r.prototype.clear=function(){if(!this.explicitlyCleared){var n=this.doc.cm,i=n&&!n.curOp;if(i&&bi(n),Xt(this,"clear")){var l=this.find();l&&ut(this,"clear",l.from,l.to)}for(var a=null,u=null,d=0;d<this.lines.length;++d){var h=this.lines[d],g=hs(h.markedSpans,this);n&&!this.collapsed?Br(n,x(h),"text"):n&&(g.to!=null&&(u=x(h)),g.from!=null&&(a=x(h))),h.markedSpans=WC(h.markedSpans,g),g.from==null&&this.collapsed&&!zr(this.doc,h)&&n&&fn(h,uo(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(var m=0;m<this.lines.length;++m){var C=Nn(this.lines[m]),w=el(C);w>n.display.maxLineLength&&(n.display.maxLine=C,n.display.maxLineLength=w,n.display.maxLineChanged=!0)}a!=null&&n&&this.collapsed&&Ut(n,a,u+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&bg(n.doc)),n&&ut(n,"markerCleared",n,this,a,u),i&&Ti(n),this.parent&&this.parent.clear()}},$r.prototype.find=function(n,i){n==null&&this.type=="bookmark"&&(n=1);for(var l,a,u=0;u<this.lines.length;++u){var d=this.lines[u],h=hs(d.markedSpans,this);if(h.from!=null&&(l=I(i?d:x(d),h.from),n==-1))return l;if(h.to!=null&&(a=I(i?d:x(d),h.to),n==1))return a}return l&&{from:l,to:a}},$r.prototype.changed=function(){var n=this,i=this.find(-1,!0),l=this,a=this.doc.cm;!i||!a||qt(a,function(){var u=i.line,d=x(i.line),h=Tc(a,d);if(h&&(Hp(h),a.curOp.selectionChanged=a.curOp.forceUpdate=!0),a.curOp.updateMaxLine=!0,!zr(l.doc,u)&&l.height!=null){var g=l.height;l.height=null;var m=vs(l)-g;m&&fn(u,u.height+m)}ut(a,"markerChanged",a,n)})},$r.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var i=this.doc.cm.curOp;(!i.maybeHiddenMarkers||me(i.maybeHiddenMarkers,this)==-1)&&(i.maybeUnhiddenMarkers||(i.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)},$r.prototype.detachLine=function(n){if(this.lines.splice(me(this.lines,n),1),!this.lines.length&&this.doc.cm){var i=this.doc.cm.curOp;(i.maybeHiddenMarkers||(i.maybeHiddenMarkers=[])).push(this)}},Ln($r);function Co(n,i,l,a,u){if(a&&a.shared)return ZS(n,i,l,a,u);if(n.cm&&!n.cm.curOp)return ct(n.cm,Co)(n,i,l,a,u);var d=new $r(n,u),h=Y(i,l);if(a&&Se(a,d,!1),h>0||h==0&&d.clearWhenEmpty!==!1)return d;if(d.replacedWith&&(d.collapsed=!0,d.widgetNode=Yt("span",[d.replacedWith],"CodeMirror-widget"),a.handleMouseEvents||d.widgetNode.setAttribute("cm-ignore-events","true"),a.insertLeft&&(d.widgetNode.insertLeft=!0)),d.collapsed){if(Tp(n,i.line,i,l,d)||i.line!=l.line&&Tp(n,l.line,i,l,d))throw new Error("Inserting collapsed marker partially overlapping an existing one");HC()}d.addToHistory&&yg(n,{from:i,to:l,origin:"markText"},n.sel,NaN);var g=i.line,m=n.cm,C;if(n.iter(g,l.line+1,function(T){m&&d.collapsed&&!m.options.lineWrapping&&Nn(T)==m.display.maxLine&&(C=!0),d.collapsed&&g!=i.line&&fn(T,0),$C(T,new Ya(d,g==i.line?i.ch:null,g==l.line?l.ch:null),n.cm&&n.cm.curOp),++g}),d.collapsed&&n.iter(i.line,l.line+1,function(T){zr(n,T)&&fn(T,0)}),d.clearOnEnter&&ce(d,"beforeCursorEnter",function(){return d.clear()}),d.readOnly&&(jC(),(n.history.done.length||n.history.undone.length)&&n.clearHistory()),d.collapsed&&(d.id=++Ig,d.atomic=!0),m){if(C&&(m.curOp.updateMaxLine=!0),d.collapsed)Ut(m,i.line,l.line+1);else if(d.className||d.startStyle||d.endStyle||d.css||d.attributes||d.title)for(var w=i.line;w<=l.line;w++)Br(m,w,"text");d.atomic&&bg(m.doc),ut(m,"markerAdded",m,d)}return d}var Os=function(n,i){this.markers=n,this.primary=i;for(var l=0;l<n.length;++l)n[l].parent=this};Os.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();ut(this,"clear")}},Os.prototype.find=function(n,i){return this.primary.find(n,i)},Ln(Os);function ZS(n,i,l,a,u){a=Se(a),a.shared=!1;var d=[Co(n,i,l,a,u)],h=d[0],g=a.widgetNode;return Wr(n,function(m){g&&(a.widgetNode=g.cloneNode(!0)),d.push(Co(m,ge(m,i),ge(m,l),a,u));for(var C=0;C<m.linked.length;++C)if(m.linked[C].isParent)return;h=we(d)}),new Os(d,h)}function Fg(n){return n.findMarks(I(n.first,0),n.clipPos(I(n.lastLine())),function(i){return i.parent})}function ex(n,i){for(var l=0;l<i.length;l++){var a=i[l],u=a.find(),d=n.clipPos(u.from),h=n.clipPos(u.to);if(Y(d,h)){var g=Co(n,d,h,a.primary,a.primary.type);a.markers.push(g),g.parent=a}}}function tx(n){for(var i=function(a){var u=n[a],d=[u.primary.doc];Wr(u.primary.doc,function(m){return d.push(m)});for(var h=0;h<u.markers.length;h++){var g=u.markers[h];me(d,g.doc)==-1&&(g.parent=null,u.markers.splice(h--,1))}},l=0;l<n.length;l++)i(l)}var nx=0,jt=function(n,i,l,a,u){if(!(this instanceof jt))return new jt(n,i,l,a,u);l==null&&(l=0),Ls.call(this,[new Rs([new so("",null)])]),this.first=l,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=l;var d=I(l,0);this.sel=jr(d),this.history=new dl(null),this.id=++nx,this.modeOption=i,this.lineSep=a,this.direction=u=="rtl"?"rtl":"ltr",this.extend=!1,typeof n=="string"&&(n=this.splitLines(n)),Vc(this,{from:d,to:d,text:n}),_t(this,jr(d),un)};jt.prototype=$a(Ls.prototype,{constructor:jt,iter:function(n,i,l){l?this.iterN(n-this.first,i-n,l):this.iterN(this.first,this.first+this.size,n)},insert:function(n,i){for(var l=0,a=0;a<i.length;++a)l+=i[a].height;this.insertInner(n-this.first,i,l)},remove:function(n,i){this.removeInner(n-this.first,i)},getValue:function(n){var i=fs(this,this.first,this.first+this.size);return n===!1?i:i.join(n||this.lineSeparator())},setValue:ft(function(n){var i=I(this.first,0),l=this.first+this.size-1;mo(this,{from:i,to:I(l,oe(this,l).text.length),text:this.splitLines(n),origin:"setValue",full:!0},!0),this.cm&&Cs(this.cm,0,0),_t(this,jr(i),un)}),replaceRange:function(n,i,l,a){i=ge(this,i),l=l?ge(this,l):i,yo(this,n,i,l,a)},getRange:function(n,i,l){var a=hr(this,ge(this,n),ge(this,i));return l===!1?a:l===""?a.join(""):a.join(l||this.lineSeparator())},getLine:function(n){var i=this.getLineHandle(n);return i&&i.text},getLineHandle:function(n){if(j(this,n))return oe(this,n)},getLineNumber:function(n){return x(n)},getLineHandleVisualStart:function(n){return typeof n=="number"&&(n=oe(this,n)),Nn(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return ge(this,n)},getCursor:function(n){var i=this.sel.primary(),l;return n==null||n=="head"?l=i.head:n=="anchor"?l=i.anchor:n=="end"||n=="to"||n===!1?l=i.to():l=i.from(),l},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ft(function(n,i,l){kg(this,ge(this,typeof n=="number"?I(n,i||0):n),null,l)}),setSelection:ft(function(n,i,l){kg(this,ge(this,n),ge(this,i||n),l)}),extendSelection:ft(function(n,i,l){pl(this,ge(this,n),i&&ge(this,i),l)}),extendSelections:ft(function(n,i){xg(this,dp(this,n),i)}),extendSelectionsBy:ft(function(n,i){var l=vi(this.sel.ranges,n);xg(this,dp(this,l),i)}),setSelections:ft(function(n,i,l){if(n.length){for(var a=[],u=0;u<n.length;u++)a[u]=new Te(ge(this,n[u].anchor),ge(this,n[u].head||n[u].anchor));i==null&&(i=Math.min(n.length-1,this.sel.primIndex)),_t(this,In(this.cm,a,i),l)}}),addSelection:ft(function(n,i,l){var a=this.sel.ranges.slice(0);a.push(new Te(ge(this,n),ge(this,i||n))),_t(this,In(this.cm,a,a.length-1),l)}),getSelection:function(n){for(var i=this.sel.ranges,l,a=0;a<i.length;a++){var u=hr(this,i[a].from(),i[a].to());l=l?l.concat(u):u}return n===!1?l:l.join(n||this.lineSeparator())},getSelections:function(n){for(var i=[],l=this.sel.ranges,a=0;a<l.length;a++){var u=hr(this,l[a].from(),l[a].to());n!==!1&&(u=u.join(n||this.lineSeparator())),i[a]=u}return i},replaceSelection:function(n,i,l){for(var a=[],u=0;u<this.sel.ranges.length;u++)a[u]=n;this.replaceSelections(a,i,l||"+input")},replaceSelections:ft(function(n,i,l){for(var a=[],u=this.sel,d=0;d<u.ranges.length;d++){var h=u.ranges[d];a[d]={from:h.from(),to:h.to(),text:this.splitLines(n[d]),origin:l}}for(var g=i&&i!="end"&&WS(this,a,i),m=a.length-1;m>=0;m--)mo(this,a[m]);g?wg(this,g):this.cm&&ho(this.cm)}),undo:ft(function(){ml(this,"undo")}),redo:ft(function(){ml(this,"redo")}),undoSelection:ft(function(){ml(this,"undo",!0)}),redoSelection:ft(function(){ml(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var n=this.history,i=0,l=0,a=0;a<n.done.length;a++)n.done[a].ranges||++i;for(var u=0;u<n.undone.length;u++)n.undone[u].ranges||++l;return{undo:i,redo:l}},clearHistory:function(){var n=this;this.history=new dl(this.history),Wr(this,function(i){return i.history=n.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:go(this.history.done),undone:go(this.history.undone)}},setHistory:function(n){var i=this.history=new dl(this.history);i.done=go(n.done.slice(0),null,!0),i.undone=go(n.undone.slice(0),null,!0)},setGutterMarker:ft(function(n,i,l){return Es(this,n,"gutter",function(a){var u=a.gutterMarkers||(a.gutterMarkers={});return u[i]=l,!l&&Ka(u)&&(a.gutterMarkers=null),!0})}),clearGutter:ft(function(n){var i=this;this.iter(function(l){l.gutterMarkers&&l.gutterMarkers[n]&&Es(i,l,"gutter",function(){return l.gutterMarkers[n]=null,Ka(l.gutterMarkers)&&(l.gutterMarkers=null),!0})})}),lineInfo:function(n){var i;if(typeof n=="number"){if(!j(this,n)||(i=n,n=oe(this,n),!n))return null}else if(i=x(n),i==null)return null;return{line:i,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},addLineClass:ft(function(n,i,l){return Es(this,n,i=="gutter"?"gutter":"class",function(a){var u=i=="text"?"textClass":i=="background"?"bgClass":i=="gutter"?"gutterClass":"wrapClass";if(!a[u])a[u]=l;else{if(nt(l).test(a[u]))return!1;a[u]+=" "+l}return!0})}),removeLineClass:ft(function(n,i,l){return Es(this,n,i=="gutter"?"gutter":"class",function(a){var u=i=="text"?"textClass":i=="background"?"bgClass":i=="gutter"?"gutterClass":"wrapClass",d=a[u];if(d)if(l==null)a[u]=null;else{var h=d.match(nt(l));if(!h)return!1;var g=h.index+h[0].length;a[u]=d.slice(0,h.index)+(!h.index||g==d.length?"":" ")+d.slice(g)||null}else return!1;return!0})}),addLineWidget:ft(function(n,i,l){return qS(this,n,i,l)}),removeLineWidget:function(n){n.clear()},markText:function(n,i,l){return Co(this,ge(this,n),ge(this,i),l,l&&l.type||"range")},setBookmark:function(n,i){var l={replacedWith:i&&(i.nodeType==null?i.widget:i),insertLeft:i&&i.insertLeft,clearWhenEmpty:!1,shared:i&&i.shared,handleMouseEvents:i&&i.handleMouseEvents};return n=ge(this,n),Co(this,n,n,l,"bookmark")},findMarksAt:function(n){n=ge(this,n);var i=[],l=oe(this,n.line).markedSpans;if(l)for(var a=0;a<l.length;++a){var u=l[a];(u.from==null||u.from<=n.ch)&&(u.to==null||u.to>=n.ch)&&i.push(u.marker.parent||u.marker)}return i},findMarks:function(n,i,l){n=ge(this,n),i=ge(this,i);var a=[],u=n.line;return this.iter(n.line,i.line+1,function(d){var h=d.markedSpans;if(h)for(var g=0;g<h.length;g++){var m=h[g];!(m.to!=null&&u==n.line&&n.ch>=m.to||m.from==null&&u!=n.line||m.from!=null&&u==i.line&&m.from>=i.ch)&&(!l||l(m.marker))&&a.push(m.marker.parent||m.marker)}++u}),a},getAllMarks:function(){var n=[];return this.iter(function(i){var l=i.markedSpans;if(l)for(var a=0;a<l.length;++a)l[a].from!=null&&n.push(l[a].marker)}),n},posFromIndex:function(n){var i,l=this.first,a=this.lineSeparator().length;return this.iter(function(u){var d=u.text.length+a;if(d>n)return i=n,!0;n-=d,++l}),ge(this,I(l,i))},indexFromPos:function(n){n=ge(this,n);var i=n.ch;if(n.line<this.first||n.ch<0)return 0;var l=this.lineSeparator().length;return this.iter(this.first,n.line,function(a){i+=a.text.length+l}),i},copy:function(n){var i=new jt(fs(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return i.scrollTop=this.scrollTop,i.scrollLeft=this.scrollLeft,i.sel=this.sel,i.extend=!1,n&&(i.history.undoDepth=this.history.undoDepth,i.setHistory(this.getHistory())),i},linkedDoc:function(n){n||(n={});var i=this.first,l=this.first+this.size;n.from!=null&&n.from>i&&(i=n.from),n.to!=null&&n.to<l&&(l=n.to);var a=new jt(fs(this,i,l),n.mode||this.modeOption,i,this.lineSep,this.direction);return n.sharedHist&&(a.history=this.history),(this.linked||(this.linked=[])).push({doc:a,sharedHist:n.sharedHist}),a.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],ex(a,Fg(this)),a},unlinkDoc:function(n){if(n instanceof Ae&&(n=n.doc),this.linked)for(var i=0;i<this.linked.length;++i){var l=this.linked[i];if(l.doc==n){this.linked.splice(i,1),n.unlinkDoc(this),tx(Fg(this));break}}if(n.history==this.history){var a=[n.id];Wr(n,function(u){return a.push(u.id)},!0),n.history=new dl(null),n.history.done=go(this.history.done,a),n.history.undone=go(this.history.undone,a)}},iterLinkedDocs:function(n){Wr(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(n){return this.lineSep?n.split(this.lineSep):kn(n)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ft(function(n){n!="rtl"&&(n="ltr"),n!=this.direction&&(this.direction=n,this.iter(function(i){return i.order=null}),this.cm&&$S(this.cm))})}),jt.prototype.eachLine=jt.prototype.iter;var zg=0;function rx(n){var i=this;if(Bg(i),!(We(i,n)||vr(i.display,n))){wt(n),v&&(zg=+new Date);var l=xi(i,n,!0),a=n.dataTransfer.files;if(!(!l||i.isReadOnly()))if(a&&a.length&&window.FileReader&&window.File)for(var u=a.length,d=Array(u),h=0,g=function(){++h==u&&ct(i,function(){l=ge(i.doc,l);var O={from:l,to:l,text:i.doc.splitLines(d.filter(function(z){return z!=null}).join(i.doc.lineSeparator())),origin:"paste"};mo(i.doc,O),wg(i.doc,jr(ge(i.doc,l),ge(i.doc,Hr(O))))})()},m=function(O,z){if(i.options.allowDropFileTypes&&me(i.options.allowDropFileTypes,O.type)==-1){g();return}var W=new FileReader;W.onerror=function(){return g()},W.onload=function(){var G=W.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(G)){g();return}d[z]=G,g()},W.readAsText(O)},C=0;C<a.length;C++)m(a[C],C);else{if(i.state.draggingText&&i.doc.sel.contains(l)>-1){i.state.draggingText(n),setTimeout(function(){return i.display.input.focus()},20);return}try{var w=n.dataTransfer.getData("Text");if(w){var T;if(i.state.draggingText&&!i.state.draggingText.copy&&(T=i.listSelections()),gl(i.doc,jr(l,l)),T)for(var D=0;D<T.length;++D)yo(i.doc,"",T[D].anchor,T[D].head,"drag");i.replaceSelection(w,"around","paste"),i.display.input.focus()}}catch{}}}}function ix(n,i){if(v&&(!n.state.draggingText||+new Date-zg<100)){Nr(i);return}if(!(We(n,i)||vr(n.display,i))&&(i.dataTransfer.setData("Text",n.getSelection()),i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setDragImage&&!A)){var l=L("img",null,null,"position: fixed; left: 0; top: 0;");l.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",M&&(l.width=l.height=1,n.display.wrapper.appendChild(l),l._top=l.offsetTop),i.dataTransfer.setDragImage(l,0,0),M&&l.parentNode.removeChild(l)}}function ox(n,i){var l=xi(n,i);if(l){var a=document.createDocumentFragment();Nc(n,l,a),n.display.dragCursor||(n.display.dragCursor=L("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),n.display.lineSpace.insertBefore(n.display.dragCursor,n.display.cursorDiv)),ae(n.display.dragCursor,a)}}function Bg(n){n.display.dragCursor&&(n.display.lineSpace.removeChild(n.display.dragCursor),n.display.dragCursor=null)}function Ug(n){if(document.getElementsByClassName){for(var i=document.getElementsByClassName("CodeMirror"),l=[],a=0;a<i.length;a++){var u=i[a].CodeMirror;u&&l.push(u)}l.length&&l[0].operation(function(){for(var d=0;d<l.length;d++)n(l[d])})}}var jg=!1;function sx(){jg||(ax(),jg=!0)}function ax(){var n;ce(window,"resize",function(){n==null&&(n=setTimeout(function(){n=null,Ug(lx)},100))}),ce(window,"blur",function(){return Ug(fo)})}function lx(n){var i=n.display;i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.scrollbarsClipped=!1,n.setSize()}for(var Kr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ds=0;Ds<10;Ds++)Kr[Ds+48]=Kr[Ds+96]=String(Ds);for(var yl=65;yl<=90;yl++)Kr[yl]=String.fromCharCode(yl);for(var Ms=1;Ms<=12;Ms++)Kr[Ms+111]=Kr[Ms+63235]="F"+Ms;var yr={};yr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},yr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},yr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},yr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},yr.default=H?yr.macDefault:yr.pcDefault;function ux(n){var i=n.split(/-(?!$)/);n=i[i.length-1];for(var l,a,u,d,h=0;h<i.length-1;h++){var g=i[h];if(/^(cmd|meta|m)$/i.test(g))d=!0;else if(/^a(lt)?$/i.test(g))l=!0;else if(/^(c|ctrl|control)$/i.test(g))a=!0;else if(/^s(hift)?$/i.test(g))u=!0;else throw new Error("Unrecognized modifier name: "+g)}return l&&(n="Alt-"+n),a&&(n="Ctrl-"+n),d&&(n="Cmd-"+n),u&&(n="Shift-"+n),n}function cx(n){var i={};for(var l in n)if(n.hasOwnProperty(l)){var a=n[l];if(/^(name|fallthrough|(de|at)tach)$/.test(l))continue;if(a=="..."){delete n[l];continue}for(var u=vi(l.split(" "),ux),d=0;d<u.length;d++){var h=void 0,g=void 0;d==u.length-1?(g=u.join(" "),h=a):(g=u.slice(0,d+1).join(" "),h="...");var m=i[g];if(!m)i[g]=h;else if(m!=h)throw new Error("Inconsistent bindings for "+g)}delete n[l]}for(var C in i)n[C]=i[C];return n}function So(n,i,l,a){i=Cl(i);var u=i.call?i.call(n,a):i[n];if(u===!1)return"nothing";if(u==="...")return"multi";if(u!=null&&l(u))return"handled";if(i.fallthrough){if(Object.prototype.toString.call(i.fallthrough)!="[object Array]")return So(n,i.fallthrough,l,a);for(var d=0;d<i.fallthrough.length;d++){var h=So(n,i.fallthrough[d],l,a);if(h)return h}}}function Hg(n){var i=typeof n=="string"?n:Kr[n.keyCode];return i=="Ctrl"||i=="Alt"||i=="Shift"||i=="Mod"}function Wg(n,i,l){var a=n;return i.altKey&&a!="Alt"&&(n="Alt-"+n),(Pe?i.metaKey:i.ctrlKey)&&a!="Ctrl"&&(n="Ctrl-"+n),(Pe?i.ctrlKey:i.metaKey)&&a!="Mod"&&(n="Cmd-"+n),!l&&i.shiftKey&&a!="Shift"&&(n="Shift-"+n),n}function $g(n,i){if(M&&n.keyCode==34&&n.char)return!1;var l=Kr[n.keyCode];return l==null||n.altGraphKey?!1:(n.keyCode==3&&n.code&&(l=n.code),Wg(l,n,i))}function Cl(n){return typeof n=="string"?yr[n]:n}function xo(n,i){for(var l=n.doc.sel.ranges,a=[],u=0;u<l.length;u++){for(var d=i(l[u]);a.length&&Y(d.from,we(a).to)<=0;){var h=a.pop();if(Y(h.from,d.from)<0){d.from=h.from;break}}a.push(d)}qt(n,function(){for(var g=a.length-1;g>=0;g--)yo(n.doc,"",a[g].from,a[g].to,"+delete");ho(n)})}function Xc(n,i,l){var a=Or(n.text,i+l,l);return a<0||a>n.text.length?null:a}function qc(n,i,l){var a=Xc(n,i.ch,l);return a==null?null:new I(i.line,a,l<0?"after":"before")}function Zc(n,i,l,a,u){if(n){i.doc.direction=="rtl"&&(u=-u);var d=xe(l,i.doc.direction);if(d){var h=u<0?we(d):d[0],g=u<0==(h.level==1),m=g?"after":"before",C;if(h.level>0||i.doc.direction=="rtl"){var w=lo(i,l);C=u<0?l.text.length-1:0;var T=Zn(i,w,C).top;C=Qn(function(D){return Zn(i,w,D).top==T},u<0==(h.level==1)?h.from:h.to-1,C),m=="before"&&(C=Xc(l,C,1))}else C=u<0?h.to:h.from;return new I(a,C,m)}}return new I(a,u<0?l.text.length:0,u<0?"before":"after")}function fx(n,i,l,a){var u=xe(i,n.doc.direction);if(!u)return qc(i,l,a);l.ch>=i.text.length?(l.ch=i.text.length,l.sticky="before"):l.ch<=0&&(l.ch=0,l.sticky="after");var d=Mr(u,l.ch,l.sticky),h=u[d];if(n.doc.direction=="ltr"&&h.level%2==0&&(a>0?h.to>l.ch:h.from<l.ch))return qc(i,l,a);var g=function(J,q){return Xc(i,J instanceof I?J.ch:J,q)},m,C=function(J){return n.options.lineWrapping?(m=m||lo(n,i),Qp(n,i,m,J)):{begin:0,end:i.text.length}},w=C(l.sticky=="before"?g(l,-1):l.ch);if(n.doc.direction=="rtl"||h.level==1){var T=h.level==1==a<0,D=g(l,T?1:-1);if(D!=null&&(T?D<=h.to&&D<=w.end:D>=h.from&&D>=w.begin)){var O=T?"before":"after";return new I(l.line,D,O)}}var z=function(J,q,Q){for(var te=function(De,dt){return dt?new I(l.line,g(De,1),"before"):new I(l.line,De,"after")};J>=0&&J<u.length;J+=q){var fe=u[J],le=q>0==(fe.level!=1),ye=le?Q.begin:g(Q.end,-1);if(fe.from<=ye&&ye<fe.to||(ye=le?fe.from:g(fe.to,-1),Q.begin<=ye&&ye<Q.end))return te(ye,le)}},W=z(d+a,a,w);if(W)return W;var G=a>0?w.end:g(w.begin,-1);return G!=null&&!(a>0&&G==i.text.length)&&(W=z(a>0?0:u.length-1,a,C(G)),W)?W:null}var Ns={selectAll:Rg,singleSelection:function(n){return n.setSelection(n.getCursor("anchor"),n.getCursor("head"),un)},killLine:function(n){return xo(n,function(i){if(i.empty()){var l=oe(n.doc,i.head.line).text.length;return i.head.ch==l&&i.head.line<n.lastLine()?{from:i.head,to:I(i.head.line+1,0)}:{from:i.head,to:I(i.head.line,l)}}else return{from:i.from(),to:i.to()}})},deleteLine:function(n){return xo(n,function(i){return{from:I(i.from().line,0),to:ge(n.doc,I(i.to().line+1,0))}})},delLineLeft:function(n){return xo(n,function(i){return{from:I(i.from().line,0),to:i.from()}})},delWrappedLineLeft:function(n){return xo(n,function(i){var l=n.charCoords(i.head,"div").top+5,a=n.coordsChar({left:0,top:l},"div");return{from:a,to:i.from()}})},delWrappedLineRight:function(n){return xo(n,function(i){var l=n.charCoords(i.head,"div").top+5,a=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:l},"div");return{from:i.from(),to:a}})},undo:function(n){return n.undo()},redo:function(n){return n.redo()},undoSelection:function(n){return n.undoSelection()},redoSelection:function(n){return n.redoSelection()},goDocStart:function(n){return n.extendSelection(I(n.firstLine(),0))},goDocEnd:function(n){return n.extendSelection(I(n.lastLine()))},goLineStart:function(n){return n.extendSelectionsBy(function(i){return Kg(n,i.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){return n.extendSelectionsBy(function(i){return Gg(n,i.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(i){return dx(n,i.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(i){var l=n.cursorCoords(i.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:l},"div")},cn)},goLineLeft:function(n){return n.extendSelectionsBy(function(i){var l=n.cursorCoords(i.head,"div").top+5;return n.coordsChar({left:0,top:l},"div")},cn)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(i){var l=n.cursorCoords(i.head,"div").top+5,a=n.coordsChar({left:0,top:l},"div");return a.ch<n.getLine(a.line).search(/\S/)?Gg(n,i.head):a},cn)},goLineUp:function(n){return n.moveV(-1,"line")},goLineDown:function(n){return n.moveV(1,"line")},goPageUp:function(n){return n.moveV(-1,"page")},goPageDown:function(n){return n.moveV(1,"page")},goCharLeft:function(n){return n.moveH(-1,"char")},goCharRight:function(n){return n.moveH(1,"char")},goColumnLeft:function(n){return n.moveH(-1,"column")},goColumnRight:function(n){return n.moveH(1,"column")},goWordLeft:function(n){return n.moveH(-1,"word")},goGroupRight:function(n){return n.moveH(1,"group")},goGroupLeft:function(n){return n.moveH(-1,"group")},goWordRight:function(n){return n.moveH(1,"word")},delCharBefore:function(n){return n.deleteH(-1,"codepoint")},delCharAfter:function(n){return n.deleteH(1,"char")},delWordBefore:function(n){return n.deleteH(-1,"word")},delWordAfter:function(n){return n.deleteH(1,"word")},delGroupBefore:function(n){return n.deleteH(-1,"group")},delGroupAfter:function(n){return n.deleteH(1,"group")},indentAuto:function(n){return n.indentSelection("smart")},indentMore:function(n){return n.indentSelection("add")},indentLess:function(n){return n.indentSelection("subtract")},insertTab:function(n){return n.replaceSelection("	")},insertSoftTab:function(n){for(var i=[],l=n.listSelections(),a=n.options.tabSize,u=0;u<l.length;u++){var d=l[u].from(),h=Re(n.getLine(d.line),d.ch,a);i.push(ss(a-h%a))}n.replaceSelections(i)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){return qt(n,function(){for(var i=n.listSelections(),l=[],a=0;a<i.length;a++)if(i[a].empty()){var u=i[a].head,d=oe(n.doc,u.line).text;if(d){if(u.ch==d.length&&(u=new I(u.line,u.ch-1)),u.ch>0)u=new I(u.line,u.ch+1),n.replaceRange(d.charAt(u.ch-1)+d.charAt(u.ch-2),I(u.line,u.ch-2),u,"+transpose");else if(u.line>n.doc.first){var h=oe(n.doc,u.line-1).text;h&&(u=new I(u.line,1),n.replaceRange(d.charAt(0)+n.doc.lineSeparator()+h.charAt(h.length-1),I(u.line-1,h.length-1),u,"+transpose"))}}l.push(new Te(u,u))}n.setSelections(l)})},newlineAndIndent:function(n){return qt(n,function(){for(var i=n.listSelections(),l=i.length-1;l>=0;l--)n.replaceRange(n.doc.lineSeparator(),i[l].anchor,i[l].head,"+input");i=n.listSelections();for(var a=0;a<i.length;a++)n.indentLine(i[a].from().line,null,!0);ho(n)})},openLine:function(n){return n.replaceSelection(`
`,"start")},toggleOverwrite:function(n){return n.toggleOverwrite()}};function Kg(n,i){var l=oe(n.doc,i),a=Nn(l);return a!=l&&(i=x(a)),Zc(!0,n,a,i,1)}function dx(n,i){var l=oe(n.doc,i),a=QC(l);return a!=l&&(i=x(a)),Zc(!0,n,l,i,-1)}function Gg(n,i){var l=Kg(n,i.line),a=oe(n.doc,l.line),u=xe(a,n.doc.direction);if(!u||u[0].level==0){var d=Math.max(l.ch,a.text.search(/\S/)),h=i.line==l.line&&i.ch<=d&&i.ch;return I(l.line,h?0:d,l.sticky)}return l}function Sl(n,i,l){if(typeof i=="string"&&(i=Ns[i],!i))return!1;n.display.input.ensurePolled();var a=n.display.shift,u=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),l&&(n.display.shift=!1),u=i(n)!=Pr}finally{n.display.shift=a,n.state.suppressEdits=!1}return u}function hx(n,i,l){for(var a=0;a<n.state.keyMaps.length;a++){var u=So(i,n.state.keyMaps[a],l,n);if(u)return u}return n.options.extraKeys&&So(i,n.options.extraKeys,l,n)||So(i,n.options.keyMap,l,n)}var px=new Gn;function As(n,i,l,a){var u=n.state.keySeq;if(u){if(Hg(i))return"handled";if(/\'$/.test(i)?n.state.keySeq=null:px.set(50,function(){n.state.keySeq==u&&(n.state.keySeq=null,n.display.input.reset())}),Vg(n,u+" "+i,l,a))return!0}return Vg(n,i,l,a)}function Vg(n,i,l,a){var u=hx(n,i,a);return u=="multi"&&(n.state.keySeq=i),u=="handled"&&ut(n,"keyHandled",n,i,l),(u=="handled"||u=="multi")&&(wt(l),Ac(n)),!!u}function Jg(n,i){var l=$g(i,!0);return l?i.shiftKey&&!n.state.keySeq?As(n,"Shift-"+l,i,function(a){return Sl(n,a,!0)})||As(n,l,i,function(a){if(typeof a=="string"?/^go[A-Z]/.test(a):a.motion)return Sl(n,a)}):As(n,l,i,function(a){return Sl(n,a)}):!1}function gx(n,i,l){return As(n,"'"+l+"'",i,function(a){return Sl(n,a,!0)})}var ef=null;function Qg(n){var i=this;if(!(n.target&&n.target!=i.display.input.getField())&&(i.curOp.focus=ue(at(i)),!We(i,n))){v&&y<11&&n.keyCode==27&&(n.returnValue=!1);var l=n.keyCode;i.display.shift=l==16||n.shiftKey;var a=Jg(i,n);M&&(ef=a?l:null,!a&&l==88&&!Ja&&(H?n.metaKey:n.ctrlKey)&&i.replaceSelection("",null,"cut")),s&&!H&&!a&&l==46&&n.shiftKey&&!n.ctrlKey&&document.execCommand&&document.execCommand("cut"),l==18&&!/\bCodeMirror-crosshair\b/.test(i.display.lineDiv.className)&&vx(i)}}function vx(n){var i=n.display.lineDiv;pe(i,"CodeMirror-crosshair");function l(a){(a.keyCode==18||!a.altKey)&&(Lt(i,"CodeMirror-crosshair"),kt(document,"keyup",l),kt(document,"mouseover",l))}ce(document,"keyup",l),ce(document,"mouseover",l)}function Yg(n){n.keyCode==16&&(this.doc.sel.shift=!1),We(this,n)}function Xg(n){var i=this;if(!(n.target&&n.target!=i.display.input.getField())&&!(vr(i.display,n)||We(i,n)||n.ctrlKey&&!n.altKey||H&&n.metaKey)){var l=n.keyCode,a=n.charCode;if(M&&l==ef){ef=null,wt(n);return}if(!(M&&(!n.which||n.which<10)&&Jg(i,n))){var u=String.fromCharCode(a??l);u!="\b"&&(gx(i,n,u)||i.display.input.onKeyPress(n))}}}var mx=400,tf=function(n,i,l){this.time=n,this.pos=i,this.button=l};tf.prototype.compare=function(n,i,l){return this.time+mx>n&&Y(i,this.pos)==0&&l==this.button};var Is,Fs;function yx(n,i){var l=+new Date;return Fs&&Fs.compare(l,n,i)?(Is=Fs=null,"triple"):Is&&Is.compare(l,n,i)?(Fs=new tf(l,n,i),Is=null,"double"):(Is=new tf(l,n,i),Fs=null,"single")}function qg(n){var i=this,l=i.display;if(!(We(i,n)||l.activeTouch&&l.input.supportsTouch())){if(l.input.ensurePolled(),l.shift=n.shiftKey,vr(l,n)){S||(l.scroller.draggable=!1,setTimeout(function(){return l.scroller.draggable=!0},100));return}if(!nf(i,n)){var a=xi(i,n),u=Pn(n),d=a?yx(a,u):"single";de(i).focus(),u==1&&i.state.selectingText&&i.state.selectingText(n),!(a&&Cx(i,u,a,d,n))&&(u==1?a?xx(i,a,d,n):ls(n)==l.scroller&&wt(n):u==2?(a&&pl(i.doc,a),setTimeout(function(){return l.input.focus()},20)):u==3&&(ve?i.display.input.onContextMenu(n):Ic(i)))}}}function Cx(n,i,l,a,u){var d="Click";return a=="double"?d="Double"+d:a=="triple"&&(d="Triple"+d),d=(i==1?"Left":i==2?"Middle":"Right")+d,As(n,Wg(d,u),u,function(h){if(typeof h=="string"&&(h=Ns[h]),!h)return!1;var g=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),g=h(n,l)!=Pr}finally{n.state.suppressEdits=!1}return g})}function Sx(n,i,l){var a=n.getOption("configureMouse"),u=a?a(n,i,l):{};if(u.unit==null){var d=Z?l.shiftKey&&l.metaKey:l.altKey;u.unit=d?"rectangle":i=="single"?"char":i=="double"?"word":"line"}return(u.extend==null||n.doc.extend)&&(u.extend=n.doc.extend||l.shiftKey),u.addNew==null&&(u.addNew=H?l.metaKey:l.ctrlKey),u.moveOnDrag==null&&(u.moveOnDrag=!(H?l.altKey:l.ctrlKey)),u}function xx(n,i,l,a){v?setTimeout(he(Zp,n),0):n.curOp.focus=ue(at(n));var u=Sx(n,l,a),d=n.doc.sel,h;n.options.dragDrop&&pc&&!n.isReadOnly()&&l=="single"&&(h=d.contains(i))>-1&&(Y((h=d.ranges[h]).from(),i)<0||i.xRel>0)&&(Y(h.to(),i)>0||i.xRel<0)?kx(n,a,i,u):wx(n,a,i,u)}function kx(n,i,l,a){var u=n.display,d=!1,h=ct(n,function(C){S&&(u.scroller.draggable=!1),n.state.draggingText=!1,n.state.delayingBlurEvent&&(n.hasFocus()?n.state.delayingBlurEvent=!1:Ic(n)),kt(u.wrapper.ownerDocument,"mouseup",h),kt(u.wrapper.ownerDocument,"mousemove",g),kt(u.scroller,"dragstart",m),kt(u.scroller,"drop",h),d||(wt(C),a.addNew||pl(n.doc,l,null,null,a.extend),S&&!A||v&&y==9?setTimeout(function(){u.wrapper.ownerDocument.body.focus({preventScroll:!0}),u.input.focus()},20):u.input.focus())}),g=function(C){d=d||Math.abs(i.clientX-C.clientX)+Math.abs(i.clientY-C.clientY)>=10},m=function(){return d=!0};S&&(u.scroller.draggable=!0),n.state.draggingText=h,h.copy=!a.moveOnDrag,ce(u.wrapper.ownerDocument,"mouseup",h),ce(u.wrapper.ownerDocument,"mousemove",g),ce(u.scroller,"dragstart",m),ce(u.scroller,"drop",h),n.state.delayingBlurEvent=!0,setTimeout(function(){return u.input.focus()},20),u.scroller.dragDrop&&u.scroller.dragDrop()}function Zg(n,i,l){if(l=="char")return new Te(i,i);if(l=="word")return n.findWordAt(i);if(l=="line")return new Te(I(i.line,0),ge(n.doc,I(i.line+1,0)));var a=l(n,i);return new Te(a.from,a.to)}function wx(n,i,l,a){v&&Ic(n);var u=n.display,d=n.doc;wt(i);var h,g,m=d.sel,C=m.ranges;if(a.addNew&&!a.extend?(g=d.sel.contains(l),g>-1?h=C[g]:h=new Te(l,l)):(h=d.sel.primary(),g=d.sel.primIndex),a.unit=="rectangle")a.addNew||(h=new Te(l,l)),l=xi(n,i,!0,!0),g=-1;else{var w=Zg(n,l,a.unit);a.extend?h=Qc(h,w.anchor,w.head,a.extend):h=w}a.addNew?g==-1?(g=C.length,_t(d,In(n,C.concat([h]),g),{scroll:!1,origin:"*mouse"})):C.length>1&&C[g].empty()&&a.unit=="char"&&!a.extend?(_t(d,In(n,C.slice(0,g).concat(C.slice(g+1)),0),{scroll:!1,origin:"*mouse"}),m=d.sel):Yc(d,g,h,Vn):(g=0,_t(d,new dn([h],0),Vn),m=d.sel);var T=l;function D(Q){if(Y(T,Q)!=0)if(T=Q,a.unit=="rectangle"){for(var te=[],fe=n.options.tabSize,le=Re(oe(d,l.line).text,l.ch,fe),ye=Re(oe(d,Q.line).text,Q.ch,fe),De=Math.min(le,ye),dt=Math.max(le,ye),ze=Math.min(l.line,Q.line),Zt=Math.min(n.lastLine(),Math.max(l.line,Q.line));ze<=Zt;ze++){var Ht=oe(d,ze).text,Ze=Jn(Ht,De,fe);De==dt?te.push(new Te(I(ze,Ze),I(ze,Ze))):Ht.length>Ze&&te.push(new Te(I(ze,Ze),I(ze,Jn(Ht,dt,fe))))}te.length||te.push(new Te(l,l)),_t(d,In(n,m.ranges.slice(0,g).concat(te),g),{origin:"*mouse",scroll:!1}),n.scrollIntoView(Q)}else{var Wt=h,yt=Zg(n,Q,a.unit),rt=Wt.anchor,et;Y(yt.anchor,rt)>0?(et=yt.head,rt=oo(Wt.from(),yt.anchor)):(et=yt.anchor,rt=Bt(Wt.to(),yt.head));var Ke=m.ranges.slice(0);Ke[g]=_x(n,new Te(ge(d,rt),et)),_t(d,In(n,Ke,g),Vn)}}var O=u.wrapper.getBoundingClientRect(),z=0;function W(Q){var te=++z,fe=xi(n,Q,!0,a.unit=="rectangle");if(fe)if(Y(fe,T)!=0){n.curOp.focus=ue(at(n)),D(fe);var le=ll(u,d);(fe.line>=le.to||fe.line<le.from)&&setTimeout(ct(n,function(){z==te&&W(Q)}),150)}else{var ye=Q.clientY<O.top?-20:Q.clientY>O.bottom?20:0;ye&&setTimeout(ct(n,function(){z==te&&(u.scroller.scrollTop+=ye,W(Q))}),50)}}function G(Q){n.state.selectingText=!1,z=1/0,Q&&(wt(Q),u.input.focus()),kt(u.wrapper.ownerDocument,"mousemove",J),kt(u.wrapper.ownerDocument,"mouseup",q),d.history.lastSelOrigin=null}var J=ct(n,function(Q){Q.buttons===0||!Pn(Q)?G(Q):W(Q)}),q=ct(n,G);n.state.selectingText=q,ce(u.wrapper.ownerDocument,"mousemove",J),ce(u.wrapper.ownerDocument,"mouseup",q)}function _x(n,i){var l=i.anchor,a=i.head,u=oe(n.doc,l.line);if(Y(l,a)==0&&l.sticky==a.sticky)return i;var d=xe(u);if(!d)return i;var h=Mr(d,l.ch,l.sticky),g=d[h];if(g.from!=l.ch&&g.to!=l.ch)return i;var m=h+(g.from==l.ch==(g.level!=1)?0:1);if(m==0||m==d.length)return i;var C;if(a.line!=l.line)C=(a.line-l.line)*(n.doc.direction=="ltr"?1:-1)>0;else{var w=Mr(d,a.ch,a.sticky),T=w-h||(a.ch-l.ch)*(g.level==1?-1:1);w==m-1||w==m?C=T<0:C=T>0}var D=d[m+(C?-1:0)],O=C==(D.level==1),z=O?D.from:D.to,W=O?"after":"before";return l.ch==z&&l.sticky==W?i:new Te(new I(l.line,z,W),a)}function ev(n,i,l,a){var u,d;if(i.touches)u=i.touches[0].clientX,d=i.touches[0].clientY;else try{u=i.clientX,d=i.clientY}catch{return!1}if(u>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;a&&wt(i);var h=n.display,g=h.lineDiv.getBoundingClientRect();if(d>g.bottom||!Xt(n,l))return zt(i);d-=g.top-h.viewOffset;for(var m=0;m<n.display.gutterSpecs.length;++m){var C=h.gutters.childNodes[m];if(C&&C.getBoundingClientRect().right>=u){var w=b(n.doc,d),T=n.display.gutterSpecs[m];return He(n,l,n,w,T.className,i),zt(i)}}}function nf(n,i){return ev(n,i,"gutterClick",!0)}function tv(n,i){vr(n.display,i)||bx(n,i)||We(n,i,"contextmenu")||ve||n.display.input.onContextMenu(i)}function bx(n,i){return Xt(n,"gutterContextMenu")?ev(n,i,"gutterContextMenu",!1):!1}function nv(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ms(n)}var ko={toString:function(){return"CodeMirror.Init"}},rv={},xl={};function Tx(n){var i=n.optionHandlers;function l(a,u,d,h){n.defaults[a]=u,d&&(i[a]=h?function(g,m,C){C!=ko&&d(g,m,C)}:d)}n.defineOption=l,n.Init=ko,l("value","",function(a,u){return a.setValue(u)},!0),l("mode",null,function(a,u){a.doc.modeOption=u,Gc(a)},!0),l("indentUnit",2,Gc,!0),l("indentWithTabs",!1),l("smartIndent",!0),l("tabSize",4,function(a){bs(a),ms(a),Ut(a)},!0),l("lineSeparator",null,function(a,u){if(a.doc.lineSep=u,!!u){var d=[],h=a.doc.first;a.doc.iter(function(m){for(var C=0;;){var w=m.text.indexOf(u,C);if(w==-1)break;C=w+u.length,d.push(I(h,w))}h++});for(var g=d.length-1;g>=0;g--)yo(a.doc,u,d[g],I(d[g].line,d[g].ch+u.length))}}),l("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(a,u,d){a.state.specialChars=new RegExp(u.source+(u.test("	")?"":"|	"),"g"),d!=ko&&a.refresh()}),l("specialCharPlaceholder",tS,function(a){return a.refresh()},!0),l("electricChars",!0),l("inputStyle",F?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),l("spellcheck",!1,function(a,u){return a.getInputField().spellcheck=u},!0),l("autocorrect",!1,function(a,u){return a.getInputField().autocorrect=u},!0),l("autocapitalize",!1,function(a,u){return a.getInputField().autocapitalize=u},!0),l("rtlMoveVisually",!ne),l("wholeLineUpdateBefore",!0),l("theme","default",function(a){nv(a),_s(a)},!0),l("keyMap","default",function(a,u,d){var h=Cl(u),g=d!=ko&&Cl(d);g&&g.detach&&g.detach(a,h),h.attach&&h.attach(a,g||null)}),l("extraKeys",null),l("configureMouse",null),l("lineWrapping",!1,Rx,!0),l("gutters",[],function(a,u){a.display.gutterSpecs=$c(u,a.options.lineNumbers),_s(a)},!0),l("fixedGutter",!0,function(a,u){a.display.gutters.style.left=u?Dc(a.display)+"px":"0",a.refresh()},!0),l("coverGutterNextToScrollbar",!1,function(a){return po(a)},!0),l("scrollbarStyle","native",function(a){og(a),po(a),a.display.scrollbars.setScrollTop(a.doc.scrollTop),a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},!0),l("lineNumbers",!1,function(a,u){a.display.gutterSpecs=$c(a.options.gutters,u),_s(a)},!0),l("firstLineNumber",1,_s,!0),l("lineNumberFormatter",function(a){return a},_s,!0),l("showCursorWhenSelecting",!1,ys,!0),l("resetSelectionOnContextMenu",!0),l("lineWiseCopyCut",!0),l("pasteLinesPerSelection",!0),l("selectionsMayTouch",!1),l("readOnly",!1,function(a,u){u=="nocursor"&&(fo(a),a.display.input.blur()),a.display.input.readOnlyChanged(u)}),l("screenReaderLabel",null,function(a,u){u=u===""?null:u,a.display.input.screenReaderLabelChanged(u)}),l("disableInput",!1,function(a,u){u||a.display.input.reset()},!0),l("dragDrop",!0,Ex),l("allowDropFileTypes",null),l("cursorBlinkRate",530),l("cursorScrollMargin",0),l("cursorHeight",1,ys,!0),l("singleCursorHeightPerLine",!0,ys,!0),l("workTime",100),l("workDelay",100),l("flattenSpans",!0,bs,!0),l("addModeClass",!1,bs,!0),l("pollInterval",100),l("undoDepth",200,function(a,u){return a.doc.history.undoDepth=u}),l("historyEventDelay",1250),l("viewportMargin",10,function(a){return a.refresh()},!0),l("maxHighlightLength",1e4,bs,!0),l("moveInputWithCursor",!0,function(a,u){u||a.display.input.resetPosition()}),l("tabindex",null,function(a,u){return a.display.input.getField().tabIndex=u||""}),l("autofocus",null),l("direction","ltr",function(a,u){return a.doc.setDirection(u)},!0),l("phrases",null)}function Ex(n,i,l){var a=l&&l!=ko;if(!i!=!a){var u=n.display.dragFunctions,d=i?ce:kt;d(n.display.scroller,"dragstart",u.start),d(n.display.scroller,"dragenter",u.enter),d(n.display.scroller,"dragover",u.over),d(n.display.scroller,"dragleave",u.leave),d(n.display.scroller,"drop",u.drop)}}function Rx(n){n.options.lineWrapping?(pe(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth="",n.display.sizerWidth=null):(Lt(n.display.wrapper,"CodeMirror-wrap"),kc(n)),Mc(n),Ut(n),ms(n),setTimeout(function(){return po(n)},100)}function Ae(n,i){var l=this;if(!(this instanceof Ae))return new Ae(n,i);this.options=i=i?Se(i):{},Se(rv,i,!1);var a=i.value;typeof a=="string"?a=new jt(a,i.mode,null,i.lineSeparator,i.direction):i.mode&&(a.modeOption=i.mode),this.doc=a;var u=new Ae.inputStyles[i.inputStyle](this),d=this.display=new jS(n,a,u,i);d.wrapper.CodeMirror=this,nv(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),og(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Gn,keySeq:null,specialChars:null},i.autofocus&&!F&&d.input.focus(),v&&y<11&&setTimeout(function(){return l.display.input.reset(!0)},20),Lx(this),sx(),bi(this),this.curOp.forceUpdate=!0,gg(this,a),i.autofocus&&!F||this.hasFocus()?setTimeout(function(){l.hasFocus()&&!l.state.focused&&Fc(l)},20):fo(this);for(var h in xl)xl.hasOwnProperty(h)&&xl[h](this,i[h],ko);lg(this),i.finishInit&&i.finishInit(this);for(var g=0;g<rf.length;++g)rf[g](this);Ti(this),S&&i.lineWrapping&&getComputedStyle(d.lineDiv).textRendering=="optimizelegibility"&&(d.lineDiv.style.textRendering="auto")}Ae.defaults=rv,Ae.optionHandlers=xl;function Lx(n){var i=n.display;ce(i.scroller,"mousedown",ct(n,qg)),v&&y<11?ce(i.scroller,"dblclick",ct(n,function(m){if(!We(n,m)){var C=xi(n,m);if(!(!C||nf(n,m)||vr(n.display,m))){wt(m);var w=n.findWordAt(C);pl(n.doc,w.anchor,w.head)}}})):ce(i.scroller,"dblclick",function(m){return We(n,m)||wt(m)}),ce(i.scroller,"contextmenu",function(m){return tv(n,m)}),ce(i.input.getField(),"contextmenu",function(m){i.scroller.contains(m.target)||tv(n,m)});var l,a={end:0};function u(){i.activeTouch&&(l=setTimeout(function(){return i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function d(m){if(m.touches.length!=1)return!1;var C=m.touches[0];return C.radiusX<=1&&C.radiusY<=1}function h(m,C){if(C.left==null)return!0;var w=C.left-m.left,T=C.top-m.top;return w*w+T*T>20*20}ce(i.scroller,"touchstart",function(m){if(!We(n,m)&&!d(m)&&!nf(n,m)){i.input.ensurePolled(),clearTimeout(l);var C=+new Date;i.activeTouch={start:C,moved:!1,prev:C-a.end<=300?a:null},m.touches.length==1&&(i.activeTouch.left=m.touches[0].pageX,i.activeTouch.top=m.touches[0].pageY)}}),ce(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),ce(i.scroller,"touchend",function(m){var C=i.activeTouch;if(C&&!vr(i,m)&&C.left!=null&&!C.moved&&new Date-C.start<300){var w=n.coordsChar(i.activeTouch,"page"),T;!C.prev||h(C,C.prev)?T=new Te(w,w):!C.prev.prev||h(C,C.prev.prev)?T=n.findWordAt(w):T=new Te(I(w.line,0),ge(n.doc,I(w.line+1,0))),n.setSelection(T.anchor,T.head),n.focus(),wt(m)}u()}),ce(i.scroller,"touchcancel",u),ce(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Ss(n,i.scroller.scrollTop),wi(n,i.scroller.scrollLeft,!0),He(n,"scroll",n))}),ce(i.scroller,"mousewheel",function(m){return fg(n,m)}),ce(i.scroller,"DOMMouseScroll",function(m){return fg(n,m)}),ce(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(m){We(n,m)||Nr(m)},over:function(m){We(n,m)||(ox(n,m),Nr(m))},start:function(m){return ix(n,m)},drop:ct(n,rx),leave:function(m){We(n,m)||Bg(n)}};var g=i.input.getField();ce(g,"keyup",function(m){return Yg.call(n,m)}),ce(g,"keydown",ct(n,Qg)),ce(g,"keypress",ct(n,Xg)),ce(g,"focus",function(m){return Fc(n,m)}),ce(g,"blur",function(m){return fo(n,m)})}var rf=[];Ae.defineInitHook=function(n){return rf.push(n)};function zs(n,i,l,a){var u=n.doc,d;l==null&&(l="add"),l=="smart"&&(u.mode.indent?d=ds(n,i).state:l="prev");var h=n.options.tabSize,g=oe(u,i),m=Re(g.text,null,h);g.stateAfter&&(g.stateAfter=null);var C=g.text.match(/^\s*/)[0],w;if(!a&&!/\S/.test(g.text))w=0,l="not";else if(l=="smart"&&(w=u.mode.indent(d,g.text.slice(C.length),g.text),w==Pr||w>150)){if(!a)return;l="prev"}l=="prev"?i>u.first?w=Re(oe(u,i-1).text,null,h):w=0:l=="add"?w=m+n.options.indentUnit:l=="subtract"?w=m-n.options.indentUnit:typeof l=="number"&&(w=m+l),w=Math.max(0,w);var T="",D=0;if(n.options.indentWithTabs)for(var O=Math.floor(w/h);O;--O)D+=h,T+="	";if(D<w&&(T+=ss(w-D)),T!=C)return yo(u,T,I(i,0),I(i,C.length),"+input"),g.stateAfter=null,!0;for(var z=0;z<u.sel.ranges.length;z++){var W=u.sel.ranges[z];if(W.head.line==i&&W.head.ch<C.length){var G=I(i,C.length);Yc(u,z,new Te(G,G));break}}}var Fn=null;function kl(n){Fn=n}function of(n,i,l,a,u){var d=n.doc;n.display.shift=!1,a||(a=d.sel);var h=+new Date-200,g=u=="paste"||n.state.pasteIncoming>h,m=kn(i),C=null;if(g&&a.ranges.length>1)if(Fn&&Fn.text.join(`
`)==i){if(a.ranges.length%Fn.text.length==0){C=[];for(var w=0;w<Fn.text.length;w++)C.push(d.splitLines(Fn.text[w]))}}else m.length==a.ranges.length&&n.options.pasteLinesPerSelection&&(C=vi(m,function(J){return[J]}));for(var T=n.curOp.updateInput,D=a.ranges.length-1;D>=0;D--){var O=a.ranges[D],z=O.from(),W=O.to();O.empty()&&(l&&l>0?z=I(z.line,z.ch-l):n.state.overwrite&&!g?W=I(W.line,Math.min(oe(d,W.line).text.length,W.ch+we(m).length)):g&&Fn&&Fn.lineWise&&Fn.text.join(`
`)==m.join(`
`)&&(z=W=I(z.line,0)));var G={from:z,to:W,text:C?C[D%C.length]:m,origin:u||(g?"paste":n.state.cutIncoming>h?"cut":"+input")};mo(n.doc,G),ut(n,"inputRead",n,G)}i&&!g&&ov(n,i),ho(n),n.curOp.updateInput<2&&(n.curOp.updateInput=T),n.curOp.typing=!0,n.state.pasteIncoming=n.state.cutIncoming=-1}function iv(n,i){var l=n.clipboardData&&n.clipboardData.getData("Text");if(l)return n.preventDefault(),!i.isReadOnly()&&!i.options.disableInput&&i.hasFocus()&&qt(i,function(){return of(i,l,0,null,"paste")}),!0}function ov(n,i){if(!(!n.options.electricChars||!n.options.smartIndent))for(var l=n.doc.sel,a=l.ranges.length-1;a>=0;a--){var u=l.ranges[a];if(!(u.head.ch>100||a&&l.ranges[a-1].head.line==u.head.line)){var d=n.getModeAt(u.head),h=!1;if(d.electricChars){for(var g=0;g<d.electricChars.length;g++)if(i.indexOf(d.electricChars.charAt(g))>-1){h=zs(n,u.head.line,"smart");break}}else d.electricInput&&d.electricInput.test(oe(n.doc,u.head.line).text.slice(0,u.head.ch))&&(h=zs(n,u.head.line,"smart"));h&&ut(n,"electricInput",n,u.head.line)}}}function sv(n){for(var i=[],l=[],a=0;a<n.doc.sel.ranges.length;a++){var u=n.doc.sel.ranges[a].head.line,d={anchor:I(u,0),head:I(u+1,0)};l.push(d),i.push(n.getRange(d.anchor,d.head))}return{text:i,ranges:l}}function sf(n,i,l,a){n.setAttribute("autocorrect",l?"on":"off"),n.setAttribute("autocapitalize",a?"on":"off"),n.setAttribute("spellcheck",!!i)}function av(){var n=L("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),i=L("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return S?n.style.width="1000px":n.setAttribute("wrap","off"),_&&(n.style.border="1px solid black"),i}function Px(n){var i=n.optionHandlers,l=n.helpers={};n.prototype={constructor:n,focus:function(){de(this).focus(),this.display.input.focus()},setOption:function(a,u){var d=this.options,h=d[a];d[a]==u&&a!="mode"||(d[a]=u,i.hasOwnProperty(a)&&ct(this,i[a])(this,u,h),He(this,"optionChange",this,a))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,u){this.state.keyMaps[u?"push":"unshift"](Cl(a))},removeKeyMap:function(a){for(var u=this.state.keyMaps,d=0;d<u.length;++d)if(u[d]==a||u[d].name==a)return u.splice(d,1),!0},addOverlay:Ot(function(a,u){var d=a.token?a:n.getMode(this.options,a);if(d.startState)throw new Error("Overlays may not be stateful.");fc(this.state.overlays,{mode:d,modeSpec:a,opaque:u&&u.opaque,priority:u&&u.priority||0},function(h){return h.priority}),this.state.modeGen++,Ut(this)}),removeOverlay:Ot(function(a){for(var u=this.state.overlays,d=0;d<u.length;++d){var h=u[d].modeSpec;if(h==a||typeof a=="string"&&h.name==a){u.splice(d,1),this.state.modeGen++,Ut(this);return}}}),indentLine:Ot(function(a,u,d){typeof u!="string"&&typeof u!="number"&&(u==null?u=this.options.smartIndent?"smart":"prev":u=u?"add":"subtract"),j(this.doc,a)&&zs(this,a,u,d)}),indentSelection:Ot(function(a){for(var u=this.doc.sel.ranges,d=-1,h=0;h<u.length;h++){var g=u[h];if(g.empty())g.head.line>d&&(zs(this,g.head.line,a,!0),d=g.head.line,h==this.doc.sel.primIndex&&ho(this));else{var m=g.from(),C=g.to(),w=Math.max(d,m.line);d=Math.min(this.lastLine(),C.line-(C.ch?0:1))+1;for(var T=w;T<d;++T)zs(this,T,a);var D=this.doc.sel.ranges;m.ch==0&&u.length==D.length&&D[h].from().ch>0&&Yc(this.doc,h,new Te(m,D[h].to()),un)}}}),getTokenAt:function(a,u){return mp(this,a,u)},getLineTokens:function(a,u){return mp(this,I(a),u,!0)},getTokenTypeAt:function(a){a=ge(this.doc,a);var u=pp(this,oe(this.doc,a.line)),d=0,h=(u.length-1)/2,g=a.ch,m;if(g==0)m=u[2];else for(;;){var C=d+h>>1;if((C?u[C*2-1]:0)>=g)h=C;else if(u[C*2+1]<g)d=C+1;else{m=u[C*2+2];break}}var w=m?m.indexOf("overlay "):-1;return w<0?m:w==0?null:m.slice(0,w-1)},getModeAt:function(a){var u=this.doc.mode;return u.innerMode?n.innerMode(u,this.getTokenAt(a).state).mode:u},getHelper:function(a,u){return this.getHelpers(a,u)[0]},getHelpers:function(a,u){var d=[];if(!l.hasOwnProperty(u))return d;var h=l[u],g=this.getModeAt(a);if(typeof g[u]=="string")h[g[u]]&&d.push(h[g[u]]);else if(g[u])for(var m=0;m<g[u].length;m++){var C=h[g[u][m]];C&&d.push(C)}else g.helperType&&h[g.helperType]?d.push(h[g.helperType]):h[g.name]&&d.push(h[g.name]);for(var w=0;w<h._global.length;w++){var T=h._global[w];T.pred(g,this)&&me(d,T.val)==-1&&d.push(T.val)}return d},getStateAfter:function(a,u){var d=this.doc;return a=fp(d,a??d.first+d.size-1),ds(this,a+1,u).state},cursorCoords:function(a,u){var d,h=this.doc.sel.primary();return a==null?d=h.head:typeof a=="object"?d=ge(this.doc,a):d=a?h.from():h.to(),An(this,d,u||"page")},charCoords:function(a,u){return il(this,ge(this.doc,a),u||"page")},coordsChar:function(a,u){return a=Gp(this,a,u||"page"),Lc(this,a.left,a.top)},lineAtHeight:function(a,u){return a=Gp(this,{top:a,left:0},u||"page").top,b(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,u,d){var h=!1,g;if(typeof a=="number"){var m=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>m&&(a=m,h=!0),g=oe(this.doc,a)}else g=a;return rl(this,g,{top:0,left:0},u||"page",d||h).top+(h?this.doc.height-gr(g):0)},defaultTextHeight:function(){return uo(this.display)},defaultCharWidth:function(){return co(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,u,d,h,g){var m=this.display;a=An(this,ge(this.doc,a));var C=a.bottom,w=a.left;if(u.style.position="absolute",u.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(u),m.sizer.appendChild(u),h=="over")C=a.top;else if(h=="above"||h=="near"){var T=Math.max(m.wrapper.clientHeight,this.doc.height),D=Math.max(m.sizer.clientWidth,m.lineSpace.clientWidth);(h=="above"||a.bottom+u.offsetHeight>T)&&a.top>u.offsetHeight?C=a.top-u.offsetHeight:a.bottom+u.offsetHeight<=T&&(C=a.bottom),w+u.offsetWidth>D&&(w=D-u.offsetWidth)}u.style.top=C+"px",u.style.left=u.style.right="",g=="right"?(w=m.sizer.clientWidth-u.offsetWidth,u.style.right="0px"):(g=="left"?w=0:g=="middle"&&(w=(m.sizer.clientWidth-u.offsetWidth)/2),u.style.left=w+"px"),d&&ES(this,{left:w,top:C,right:w+u.offsetWidth,bottom:C+u.offsetHeight})},triggerOnKeyDown:Ot(Qg),triggerOnKeyPress:Ot(Xg),triggerOnKeyUp:Yg,triggerOnMouseDown:Ot(qg),execCommand:function(a){if(Ns.hasOwnProperty(a))return Ns[a].call(null,this)},triggerElectric:Ot(function(a){ov(this,a)}),findPosH:function(a,u,d,h){var g=1;u<0&&(g=-1,u=-u);for(var m=ge(this.doc,a),C=0;C<u&&(m=af(this.doc,m,g,d,h),!m.hitSide);++C);return m},moveH:Ot(function(a,u){var d=this;this.extendSelectionsBy(function(h){return d.display.shift||d.doc.extend||h.empty()?af(d.doc,h.head,a,u,d.options.rtlMoveVisually):a<0?h.from():h.to()},cn)}),deleteH:Ot(function(a,u){var d=this.doc.sel,h=this.doc;d.somethingSelected()?h.replaceSelection("",null,"+delete"):xo(this,function(g){var m=af(h,g.head,a,u,!1);return a<0?{from:m,to:g.head}:{from:g.head,to:m}})}),findPosV:function(a,u,d,h){var g=1,m=h;u<0&&(g=-1,u=-u);for(var C=ge(this.doc,a),w=0;w<u;++w){var T=An(this,C,"div");if(m==null?m=T.left:T.left=m,C=lv(this,T,g,d),C.hitSide)break}return C},moveV:Ot(function(a,u){var d=this,h=this.doc,g=[],m=!this.display.shift&&!h.extend&&h.sel.somethingSelected();if(h.extendSelectionsBy(function(w){if(m)return a<0?w.from():w.to();var T=An(d,w.head,"div");w.goalColumn!=null&&(T.left=w.goalColumn),g.push(T.left);var D=lv(d,T,a,u);return u=="page"&&w==h.sel.primary()&&Bc(d,il(d,D,"div").top-T.top),D},cn),g.length)for(var C=0;C<h.sel.ranges.length;C++)h.sel.ranges[C].goalColumn=g[C]}),findWordAt:function(a){var u=this.doc,d=oe(u,a.line).text,h=a.ch,g=a.ch;if(d){var m=this.getHelper(a,"wordChars");(a.sticky=="before"||g==d.length)&&h?--h:++g;for(var C=d.charAt(h),w=cr(C,m)?function(T){return cr(T,m)}:/\s/.test(C)?function(T){return/\s/.test(T)}:function(T){return!/\s/.test(T)&&!cr(T)};h>0&&w(d.charAt(h-1));)--h;for(;g<d.length&&w(d.charAt(g));)++g}return new Te(I(a.line,h),I(a.line,g))},toggleOverwrite:function(a){a!=null&&a==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?pe(this.display.cursorDiv,"CodeMirror-overwrite"):Lt(this.display.cursorDiv,"CodeMirror-overwrite"),He(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ue(at(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ot(function(a,u){Cs(this,a,u)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-qn(this)-this.display.barHeight,width:a.scrollWidth-qn(this)-this.display.barWidth,clientHeight:bc(this),clientWidth:Ci(this)}},scrollIntoView:Ot(function(a,u){a==null?(a={from:this.doc.sel.primary().head,to:null},u==null&&(u=this.options.cursorScrollMargin)):typeof a=="number"?a={from:I(a,0),to:null}:a.from==null&&(a={from:a,to:null}),a.to||(a.to=a.from),a.margin=u||0,a.from.line!=null?RS(this,a):tg(this,a.from,a.to,a.margin)}),setSize:Ot(function(a,u){var d=this,h=function(m){return typeof m=="number"||/^\d+$/.test(String(m))?m+"px":m};a!=null&&(this.display.wrapper.style.width=h(a)),u!=null&&(this.display.wrapper.style.height=h(u)),this.options.lineWrapping&&Wp(this);var g=this.display.viewFrom;this.doc.iter(g,this.display.viewTo,function(m){if(m.widgets){for(var C=0;C<m.widgets.length;C++)if(m.widgets[C].noHScroll){Br(d,g,"widget");break}}++g}),this.curOp.forceUpdate=!0,He(this,"refresh",this)}),operation:function(a){return qt(this,a)},startOperation:function(){return bi(this)},endOperation:function(){return Ti(this)},refresh:Ot(function(){var a=this.display.cachedTextHeight;Ut(this),this.curOp.forceUpdate=!0,ms(this),Cs(this,this.doc.scrollLeft,this.doc.scrollTop),Hc(this.display),(a==null||Math.abs(a-uo(this.display))>.5||this.options.lineWrapping)&&Mc(this),He(this,"refresh",this)}),swapDoc:Ot(function(a){var u=this.doc;return u.cm=null,this.state.selectingText&&this.state.selectingText(),gg(this,a),ms(this),this.display.input.reset(),Cs(this,a.scrollLeft,a.scrollTop),this.curOp.forceScroll=!0,ut(this,"swapDoc",this,u),u}),phrase:function(a){var u=this.options.phrases;return u&&Object.prototype.hasOwnProperty.call(u,a)?u[a]:a},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ln(n),n.registerHelper=function(a,u,d){l.hasOwnProperty(a)||(l[a]=n[a]={_global:[]}),l[a][u]=d},n.registerGlobalHelper=function(a,u,d,h){n.registerHelper(a,u,h),l[a]._global.push({pred:d,val:h})}}function af(n,i,l,a,u){var d=i,h=l,g=oe(n,i.line),m=u&&n.direction=="rtl"?-l:l;function C(){var q=i.line+m;return q<n.first||q>=n.first+n.size?!1:(i=new I(q,i.ch,i.sticky),g=oe(n,q))}function w(q){var Q;if(a=="codepoint"){var te=g.text.charCodeAt(i.ch+(l>0?0:-1));if(isNaN(te))Q=null;else{var fe=l>0?te>=55296&&te<56320:te>=56320&&te<57343;Q=new I(i.line,Math.max(0,Math.min(g.text.length,i.ch+l*(fe?2:1))),-l)}}else u?Q=fx(n.cm,g,i,l):Q=qc(g,i,l);if(Q==null)if(!q&&C())i=Zc(u,n.cm,g,i.line,m);else return!1;else i=Q;return!0}if(a=="char"||a=="codepoint")w();else if(a=="column")w(!0);else if(a=="word"||a=="group")for(var T=null,D=a=="group",O=n.cm&&n.cm.getHelper(i,"wordChars"),z=!0;!(l<0&&!w(!z));z=!1){var W=g.text.charAt(i.ch)||`
`,G=cr(W,O)?"w":D&&W==`
`?"n":!D||/\s/.test(W)?null:"p";if(D&&!z&&!G&&(G="s"),T&&T!=G){l<0&&(l=1,w(),i.sticky="after");break}if(G&&(T=G),l>0&&!w(!z))break}var J=vl(n,i,d,h,!0);return be(d,J)&&(J.hitSide=!0),J}function lv(n,i,l,a){var u=n.doc,d=i.left,h;if(a=="page"){var g=Math.min(n.display.wrapper.clientHeight,de(n).innerHeight||u(n).documentElement.clientHeight),m=Math.max(g-.5*uo(n.display),3);h=(l>0?i.bottom:i.top)+l*m}else a=="line"&&(h=l>0?i.bottom+3:i.top-3);for(var C;C=Lc(n,d,h),!!C.outside;){if(l<0?h<=0:h>=u.height){C.hitSide=!0;break}h+=l*5}return C}var Le=function(n){this.cm=n,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Gn,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Le.prototype.init=function(n){var i=this,l=this,a=l.cm,u=l.div=n.lineDiv;u.contentEditable=!0,sf(u,a.options.spellcheck,a.options.autocorrect,a.options.autocapitalize);function d(g){for(var m=g.target;m;m=m.parentNode){if(m==u)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(m.className))break}return!1}ce(u,"paste",function(g){!d(g)||We(a,g)||iv(g,a)||y<=11&&setTimeout(ct(a,function(){return i.updateFromDOM()}),20)}),ce(u,"compositionstart",function(g){i.composing={data:g.data,done:!1}}),ce(u,"compositionupdate",function(g){i.composing||(i.composing={data:g.data,done:!1})}),ce(u,"compositionend",function(g){i.composing&&(g.data!=i.composing.data&&i.readFromDOMSoon(),i.composing.done=!0)}),ce(u,"touchstart",function(){return l.forceCompositionEnd()}),ce(u,"input",function(){i.composing||i.readFromDOMSoon()});function h(g){if(!(!d(g)||We(a,g))){if(a.somethingSelected())kl({lineWise:!1,text:a.getSelections()}),g.type=="cut"&&a.replaceSelection("",null,"cut");else if(a.options.lineWiseCopyCut){var m=sv(a);kl({lineWise:!0,text:m.text}),g.type=="cut"&&a.operation(function(){a.setSelections(m.ranges,0,un),a.replaceSelection("",null,"cut")})}else return;if(g.clipboardData){g.clipboardData.clearData();var C=Fn.text.join(`
`);if(g.clipboardData.setData("Text",C),g.clipboardData.getData("Text")==C){g.preventDefault();return}}var w=av(),T=w.firstChild;sf(T),a.display.lineSpace.insertBefore(w,a.display.lineSpace.firstChild),T.value=Fn.text.join(`
`);var D=ue(je(u));Me(T),setTimeout(function(){a.display.lineSpace.removeChild(w),D.focus(),D==u&&l.showPrimarySelection()},50)}}ce(u,"copy",h),ce(u,"cut",h)},Le.prototype.screenReaderLabelChanged=function(n){n?this.div.setAttribute("aria-label",n):this.div.removeAttribute("aria-label")},Le.prototype.prepareSelection=function(){var n=qp(this.cm,!1);return n.focus=ue(je(this.div))==this.div,n},Le.prototype.showSelection=function(n,i){!n||!this.cm.display.view.length||((n.focus||i)&&this.showPrimarySelection(),this.showMultipleSelections(n))},Le.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Le.prototype.showPrimarySelection=function(){var n=this.getSelection(),i=this.cm,l=i.doc.sel.primary(),a=l.from(),u=l.to();if(i.display.viewTo==i.display.viewFrom||a.line>=i.display.viewTo||u.line<i.display.viewFrom){n.removeAllRanges();return}var d=wl(i,n.anchorNode,n.anchorOffset),h=wl(i,n.focusNode,n.focusOffset);if(!(d&&!d.bad&&h&&!h.bad&&Y(oo(d,h),a)==0&&Y(Bt(d,h),u)==0)){var g=i.display.view,m=a.line>=i.display.viewFrom&&uv(i,a)||{node:g[0].measure.map[2],offset:0},C=u.line<i.display.viewTo&&uv(i,u);if(!C){var w=g[g.length-1].measure,T=w.maps?w.maps[w.maps.length-1]:w.map;C={node:T[T.length-1],offset:T[T.length-2]-T[T.length-3]}}if(!m||!C){n.removeAllRanges();return}var D=n.rangeCount&&n.getRangeAt(0),O;try{O=vt(m.node,m.offset,C.offset,C.node)}catch{}O&&(!s&&i.state.focused?(n.collapse(m.node,m.offset),O.collapsed||(n.removeAllRanges(),n.addRange(O))):(n.removeAllRanges(),n.addRange(O)),D&&n.anchorNode==null?n.addRange(D):s&&this.startGracePeriod()),this.rememberSelection()}},Le.prototype.startGracePeriod=function(){var n=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){n.gracePeriod=!1,n.selectionChanged()&&n.cm.operation(function(){return n.cm.curOp.selectionChanged=!0})},20)},Le.prototype.showMultipleSelections=function(n){ae(this.cm.display.cursorDiv,n.cursors),ae(this.cm.display.selectionDiv,n.selection)},Le.prototype.rememberSelection=function(){var n=this.getSelection();this.lastAnchorNode=n.anchorNode,this.lastAnchorOffset=n.anchorOffset,this.lastFocusNode=n.focusNode,this.lastFocusOffset=n.focusOffset},Le.prototype.selectionInEditor=function(){var n=this.getSelection();if(!n.rangeCount)return!1;var i=n.getRangeAt(0).commonAncestorContainer;return ee(this.div,i)},Le.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ue(je(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Le.prototype.blur=function(){this.div.blur()},Le.prototype.getField=function(){return this.div},Le.prototype.supportsTouch=function(){return!0},Le.prototype.receivedFocus=function(){var n=this,i=this;this.selectionInEditor()?setTimeout(function(){return n.pollSelection()},20):qt(this.cm,function(){return i.cm.curOp.selectionChanged=!0});function l(){i.cm.state.focused&&(i.pollSelection(),i.polling.set(i.cm.options.pollInterval,l))}this.polling.set(this.cm.options.pollInterval,l)},Le.prototype.selectionChanged=function(){var n=this.getSelection();return n.anchorNode!=this.lastAnchorNode||n.anchorOffset!=this.lastAnchorOffset||n.focusNode!=this.lastFocusNode||n.focusOffset!=this.lastFocusOffset},Le.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var n=this.getSelection(),i=this.cm;if(R&&E&&this.cm.display.gutterSpecs.length&&Ox(n.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var l=wl(i,n.anchorNode,n.anchorOffset),a=wl(i,n.focusNode,n.focusOffset);l&&a&&qt(i,function(){_t(i.doc,jr(l,a),un),(l.bad||a.bad)&&(i.curOp.selectionChanged=!0)})}}},Le.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var n=this.cm,i=n.display,l=n.doc.sel.primary(),a=l.from(),u=l.to();if(a.ch==0&&a.line>n.firstLine()&&(a=I(a.line-1,oe(n.doc,a.line-1).length)),u.ch==oe(n.doc,u.line).text.length&&u.line<n.lastLine()&&(u=I(u.line+1,0)),a.line<i.viewFrom||u.line>i.viewTo-1)return!1;var d,h,g;a.line==i.viewFrom||(d=ki(n,a.line))==0?(h=x(i.view[0].line),g=i.view[0].node):(h=x(i.view[d].line),g=i.view[d-1].node.nextSibling);var m=ki(n,u.line),C,w;if(m==i.view.length-1?(C=i.viewTo-1,w=i.lineDiv.lastChild):(C=x(i.view[m+1].line)-1,w=i.view[m+1].node.previousSibling),!g)return!1;for(var T=n.doc.splitLines(Dx(n,g,w,h,C)),D=hr(n.doc,I(h,0),I(C,oe(n.doc,C).text.length));T.length>1&&D.length>1;)if(we(T)==we(D))T.pop(),D.pop(),C--;else if(T[0]==D[0])T.shift(),D.shift(),h++;else break;for(var O=0,z=0,W=T[0],G=D[0],J=Math.min(W.length,G.length);O<J&&W.charCodeAt(O)==G.charCodeAt(O);)++O;for(var q=we(T),Q=we(D),te=Math.min(q.length-(T.length==1?O:0),Q.length-(D.length==1?O:0));z<te&&q.charCodeAt(q.length-z-1)==Q.charCodeAt(Q.length-z-1);)++z;if(T.length==1&&D.length==1&&h==a.line)for(;O&&O>a.ch&&q.charCodeAt(q.length-z-1)==Q.charCodeAt(Q.length-z-1);)O--,z++;T[T.length-1]=q.slice(0,q.length-z).replace(/^\u200b+/,""),T[0]=T[0].slice(O).replace(/\u200b+$/,"");var fe=I(h,O),le=I(C,D.length?we(D).length-z:0);if(T.length>1||T[0]||Y(fe,le))return yo(n.doc,T,fe,le,"+input"),!0},Le.prototype.ensurePolled=function(){this.forceCompositionEnd()},Le.prototype.reset=function(){this.forceCompositionEnd()},Le.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Le.prototype.readFromDOMSoon=function(){var n=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(n.readDOMTimeout=null,n.composing)if(n.composing.done)n.composing=null;else return;n.updateFromDOM()},80))},Le.prototype.updateFromDOM=function(){var n=this;(this.cm.isReadOnly()||!this.pollContent())&&qt(this.cm,function(){return Ut(n.cm)})},Le.prototype.setUneditable=function(n){n.contentEditable="false"},Le.prototype.onKeyPress=function(n){n.charCode==0||this.composing||(n.preventDefault(),this.cm.isReadOnly()||ct(this.cm,of)(this.cm,String.fromCharCode(n.charCode==null?n.keyCode:n.charCode),0))},Le.prototype.readOnlyChanged=function(n){this.div.contentEditable=String(n!="nocursor")},Le.prototype.onContextMenu=function(){},Le.prototype.resetPosition=function(){},Le.prototype.needsContentAttribute=!0;function uv(n,i){var l=Tc(n,i.line);if(!l||l.hidden)return null;var a=oe(n.doc,i.line),u=zp(l,a,i.line),d=xe(a,n.doc.direction),h="left";if(d){var g=Mr(d,i.ch);h=g%2?"right":"left"}var m=jp(u.map,i.ch,h);return m.offset=m.collapse=="right"?m.end:m.start,m}function Ox(n){for(var i=n;i;i=i.parentNode)if(/CodeMirror-gutter-wrapper/.test(i.className))return!0;return!1}function wo(n,i){return i&&(n.bad=!0),n}function Dx(n,i,l,a,u){var d="",h=!1,g=n.doc.lineSeparator(),m=!1;function C(O){return function(z){return z.id==O}}function w(){h&&(d+=g,m&&(d+=g),h=m=!1)}function T(O){O&&(w(),d+=O)}function D(O){if(O.nodeType==1){var z=O.getAttribute("cm-text");if(z){T(z);return}var W=O.getAttribute("cm-marker"),G;if(W){var J=n.findMarks(I(a,0),I(u+1,0),C(+W));J.length&&(G=J[0].find(0))&&T(hr(n.doc,G.from,G.to).join(g));return}if(O.getAttribute("contenteditable")=="false")return;var q=/^(pre|div|p|li|table|br)$/i.test(O.nodeName);if(!/^br$/i.test(O.nodeName)&&O.textContent.length==0)return;q&&w();for(var Q=0;Q<O.childNodes.length;Q++)D(O.childNodes[Q]);/^(pre|p)$/i.test(O.nodeName)&&(m=!0),q&&(h=!0)}else O.nodeType==3&&T(O.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;D(i),i!=l;)i=i.nextSibling,m=!1;return d}function wl(n,i,l){var a;if(i==n.display.lineDiv){if(a=n.display.lineDiv.childNodes[l],!a)return wo(n.clipPos(I(n.display.viewTo-1)),!0);i=null,l=0}else for(a=i;;a=a.parentNode){if(!a||a==n.display.lineDiv)return null;if(a.parentNode&&a.parentNode==n.display.lineDiv)break}for(var u=0;u<n.display.view.length;u++){var d=n.display.view[u];if(d.node==a)return Mx(d,i,l)}}function Mx(n,i,l){var a=n.text.firstChild,u=!1;if(!i||!ee(a,i))return wo(I(x(n.line),0),!0);if(i==a&&(u=!0,i=a.childNodes[l],l=0,!i)){var d=n.rest?we(n.rest):n.line;return wo(I(x(d),d.text.length),u)}var h=i.nodeType==3?i:null,g=i;for(!h&&i.childNodes.length==1&&i.firstChild.nodeType==3&&(h=i.firstChild,l&&(l=h.nodeValue.length));g.parentNode!=a;)g=g.parentNode;var m=n.measure,C=m.maps;function w(G,J,q){for(var Q=-1;Q<(C?C.length:0);Q++)for(var te=Q<0?m.map:C[Q],fe=0;fe<te.length;fe+=3){var le=te[fe+2];if(le==G||le==J){var ye=x(Q<0?n.line:n.rest[Q]),De=te[fe]+q;return(q<0||le!=G)&&(De=te[fe+(q?1:0)]),I(ye,De)}}}var T=w(h,g,l);if(T)return wo(T,u);for(var D=g.nextSibling,O=h?h.nodeValue.length-l:0;D;D=D.nextSibling){if(T=w(D,D.firstChild,0),T)return wo(I(T.line,T.ch-O),u);O+=D.textContent.length}for(var z=g.previousSibling,W=l;z;z=z.previousSibling){if(T=w(z,z.firstChild,-1),T)return wo(I(T.line,T.ch+W),u);W+=z.textContent.length}}var Qe=function(n){this.cm=n,this.prevInput="",this.pollingFast=!1,this.polling=new Gn,this.hasSelection=!1,this.composing=null,this.resetting=!1};Qe.prototype.init=function(n){var i=this,l=this,a=this.cm;this.createField(n);var u=this.textarea;n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild),_&&(u.style.width="0px"),ce(u,"input",function(){v&&y>=9&&i.hasSelection&&(i.hasSelection=null),l.poll()}),ce(u,"paste",function(h){We(a,h)||iv(h,a)||(a.state.pasteIncoming=+new Date,l.fastPoll())});function d(h){if(!We(a,h)){if(a.somethingSelected())kl({lineWise:!1,text:a.getSelections()});else if(a.options.lineWiseCopyCut){var g=sv(a);kl({lineWise:!0,text:g.text}),h.type=="cut"?a.setSelections(g.ranges,null,un):(l.prevInput="",u.value=g.text.join(`
`),Me(u))}else return;h.type=="cut"&&(a.state.cutIncoming=+new Date)}}ce(u,"cut",d),ce(u,"copy",d),ce(n.scroller,"paste",function(h){if(!(vr(n,h)||We(a,h))){if(!u.dispatchEvent){a.state.pasteIncoming=+new Date,l.focus();return}var g=new Event("paste");g.clipboardData=h.clipboardData,u.dispatchEvent(g)}}),ce(n.lineSpace,"selectstart",function(h){vr(n,h)||wt(h)}),ce(u,"compositionstart",function(){var h=a.getCursor("from");l.composing&&l.composing.range.clear(),l.composing={start:h,range:a.markText(h,a.getCursor("to"),{className:"CodeMirror-composing"})}}),ce(u,"compositionend",function(){l.composing&&(l.poll(),l.composing.range.clear(),l.composing=null)})},Qe.prototype.createField=function(n){this.wrapper=av(),this.textarea=this.wrapper.firstChild;var i=this.cm.options;sf(this.textarea,i.spellcheck,i.autocorrect,i.autocapitalize)},Qe.prototype.screenReaderLabelChanged=function(n){n?this.textarea.setAttribute("aria-label",n):this.textarea.removeAttribute("aria-label")},Qe.prototype.prepareSelection=function(){var n=this.cm,i=n.display,l=n.doc,a=qp(n);if(n.options.moveInputWithCursor){var u=An(n,l.sel.primary().head,"div"),d=i.wrapper.getBoundingClientRect(),h=i.lineDiv.getBoundingClientRect();a.teTop=Math.max(0,Math.min(i.wrapper.clientHeight-10,u.top+h.top-d.top)),a.teLeft=Math.max(0,Math.min(i.wrapper.clientWidth-10,u.left+h.left-d.left))}return a},Qe.prototype.showSelection=function(n){var i=this.cm,l=i.display;ae(l.cursorDiv,n.cursors),ae(l.selectionDiv,n.selection),n.teTop!=null&&(this.wrapper.style.top=n.teTop+"px",this.wrapper.style.left=n.teLeft+"px")},Qe.prototype.reset=function(n){if(!(this.contextMenuPending||this.composing&&n)){var i=this.cm;if(this.resetting=!0,i.somethingSelected()){this.prevInput="";var l=i.getSelection();this.textarea.value=l,i.state.focused&&Me(this.textarea),v&&y>=9&&(this.hasSelection=l)}else n||(this.prevInput=this.textarea.value="",v&&y>=9&&(this.hasSelection=null));this.resetting=!1}},Qe.prototype.getField=function(){return this.textarea},Qe.prototype.supportsTouch=function(){return!1},Qe.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!F||ue(je(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Qe.prototype.blur=function(){this.textarea.blur()},Qe.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Qe.prototype.receivedFocus=function(){this.slowPoll()},Qe.prototype.slowPoll=function(){var n=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){n.poll(),n.cm.state.focused&&n.slowPoll()})},Qe.prototype.fastPoll=function(){var n=!1,i=this;i.pollingFast=!0;function l(){var a=i.poll();!a&&!n?(n=!0,i.polling.set(60,l)):(i.pollingFast=!1,i.slowPoll())}i.polling.set(20,l)},Qe.prototype.poll=function(){var n=this,i=this.cm,l=this.textarea,a=this.prevInput;if(this.contextMenuPending||this.resetting||!i.state.focused||Ir(l)&&!a&&!this.composing||i.isReadOnly()||i.options.disableInput||i.state.keySeq)return!1;var u=l.value;if(u==a&&!i.somethingSelected())return!1;if(v&&y>=9&&this.hasSelection===u||H&&/[\uf700-\uf7ff]/.test(u))return i.display.input.reset(),!1;if(i.doc.sel==i.display.selForContextMenu){var d=u.charCodeAt(0);if(d==8203&&!a&&(a=""),d==8666)return this.reset(),this.cm.execCommand("undo")}for(var h=0,g=Math.min(a.length,u.length);h<g&&a.charCodeAt(h)==u.charCodeAt(h);)++h;return qt(i,function(){of(i,u.slice(h),a.length-h,null,n.composing?"*compose":null),u.length>1e3||u.indexOf(`
`)>-1?l.value=n.prevInput="":n.prevInput=u,n.composing&&(n.composing.range.clear(),n.composing.range=i.markText(n.composing.start,i.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Qe.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Qe.prototype.onKeyPress=function(){v&&y>=9&&(this.hasSelection=null),this.fastPoll()},Qe.prototype.onContextMenu=function(n){var i=this,l=i.cm,a=l.display,u=i.textarea;i.contextMenuPending&&i.contextMenuPending();var d=xi(l,n),h=a.scroller.scrollTop;if(!d||M)return;var g=l.options.resetSelectionOnContextMenu;g&&l.doc.sel.contains(d)==-1&&ct(l,_t)(l.doc,jr(d),un);var m=u.style.cssText,C=i.wrapper.style.cssText,w=i.wrapper.offsetParent.getBoundingClientRect();i.wrapper.style.cssText="position: static",u.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(n.clientY-w.top-5)+"px; left: "+(n.clientX-w.left-5)+`px;
      z-index: 1000; background: `+(v?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var T;S&&(T=u.ownerDocument.defaultView.scrollY),a.input.focus(),S&&u.ownerDocument.defaultView.scrollTo(null,T),a.input.reset(),l.somethingSelected()||(u.value=i.prevInput=" "),i.contextMenuPending=O,a.selForContextMenu=l.doc.sel,clearTimeout(a.detectingSelectAll);function D(){if(u.selectionStart!=null){var W=l.somethingSelected(),G=""+(W?u.value:"");u.value="",u.value=G,i.prevInput=W?"":"",u.selectionStart=1,u.selectionEnd=G.length,a.selForContextMenu=l.doc.sel}}function O(){if(i.contextMenuPending==O&&(i.contextMenuPending=!1,i.wrapper.style.cssText=C,u.style.cssText=m,v&&y<9&&a.scrollbars.setScrollTop(a.scroller.scrollTop=h),u.selectionStart!=null)){(!v||v&&y<9)&&D();var W=0,G=function(){a.selForContextMenu==l.doc.sel&&u.selectionStart==0&&u.selectionEnd>0&&i.prevInput==""?ct(l,Rg)(l):W++<10?a.detectingSelectAll=setTimeout(G,500):(a.selForContextMenu=null,a.input.reset())};a.detectingSelectAll=setTimeout(G,200)}}if(v&&y>=9&&D(),ve){Nr(n);var z=function(){kt(window,"mouseup",z),setTimeout(O,20)};ce(window,"mouseup",z)}else setTimeout(O,50)},Qe.prototype.readOnlyChanged=function(n){n||this.reset(),this.textarea.disabled=n=="nocursor",this.textarea.readOnly=!!n},Qe.prototype.setUneditable=function(){},Qe.prototype.needsContentAttribute=!1;function Nx(n,i){if(i=i?Se(i):{},i.value=n.value,!i.tabindex&&n.tabIndex&&(i.tabindex=n.tabIndex),!i.placeholder&&n.placeholder&&(i.placeholder=n.placeholder),i.autofocus==null){var l=ue(je(n));i.autofocus=l==n||n.getAttribute("autofocus")!=null&&l==document.body}function a(){n.value=g.getValue()}var u;if(n.form&&(ce(n.form,"submit",a),!i.leaveSubmitMethodAlone)){var d=n.form;u=d.submit;try{var h=d.submit=function(){a(),d.submit=u,d.submit(),d.submit=h}}catch{}}i.finishInit=function(m){m.save=a,m.getTextArea=function(){return n},m.toTextArea=function(){m.toTextArea=isNaN,a(),n.parentNode.removeChild(m.getWrapperElement()),n.style.display="",n.form&&(kt(n.form,"submit",a),!i.leaveSubmitMethodAlone&&typeof n.form.submit=="function"&&(n.form.submit=u))}},n.style.display="none";var g=Ae(function(m){return n.parentNode.insertBefore(m,n.nextSibling)},i);return g}function Ax(n){n.off=kt,n.on=ce,n.wheelEventPixels=HS,n.Doc=jt,n.splitLines=kn,n.countColumn=Re,n.findColumn=Jn,n.isWordChar=as,n.Pass=Pr,n.signal=He,n.Line=so,n.changeEnd=Hr,n.scrollbarModel=ig,n.Pos=I,n.cmpPos=Y,n.modes=eo,n.mimeModes=Dn,n.resolveMode=to,n.getMode=no,n.modeExtensions=Fr,n.extendMode=ro,n.copyState=Yn,n.startState=io,n.innerMode=cs,n.commands=Ns,n.keyMap=yr,n.keyName=$g,n.isModifierKey=Hg,n.lookupKey=So,n.normalizeKeyMap=cx,n.StringStream=$e,n.SharedTextMarker=Os,n.TextMarker=$r,n.LineWidget=Ps,n.e_preventDefault=wt,n.e_stopPropagation=qi,n.e_stop=Nr,n.addClass=pe,n.contains=ee,n.rmClass=Lt,n.keyNames=Kr}Tx(Ae),Px(Ae);var Ix="iter insert remove copy getEditor constructor".split(" ");for(var _l in jt.prototype)jt.prototype.hasOwnProperty(_l)&&me(Ix,_l)<0&&(Ae.prototype[_l]=function(n){return function(){return n.apply(this.doc,arguments)}}(jt.prototype[_l]));return Ln(jt),Ae.inputStyles={textarea:Qe,contenteditable:Le},Ae.defineMode=function(n){!Ae.defaults.mode&&n!="null"&&(Ae.defaults.mode=n),Mn.apply(this,arguments)},Ae.defineMIME=yi,Ae.defineMode("null",function(){return{token:function(n){return n.skipToEnd()}}}),Ae.defineMIME("text/plain","null"),Ae.defineExtension=function(n,i){Ae.prototype[n]=i},Ae.defineDocExtension=function(n,i){jt.prototype[n]=i},Ae.fromTextArea=Nx,Ax(Ae),Ae.version="5.65.18",Ae})}(Wf)),Wf.exports}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Bu.apply(this,arguments)}function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}var AC=function(){var e=function(r,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(s[f]=c[f])},e(r,o)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(Na,"__esModule",{value:!0});Na.UnControlled=FC=Na.Controlled=void 0;var ju=X,pn=typeof navigator>"u"||typeof Kf<"u"&&Kf.PREVENT_CODEMIRROR_RENDER===!0,ir;pn||(ir=NC());var $f=function(){function e(){}return e.equals=function(t,r){var o=this,s=Object.keys,c=Uu(t),f=Uu(r);return t&&r&&c==="object"&&c===f?s(t).length===s(r).length&&s(t).every(function(p){return o.equals(t[p],r[p])}):t===r},e}(),IC=function(){function e(t,r){this.editor=t,this.props=r}return e.prototype.delegateCursor=function(t,r,o){var s=this.editor.getDoc();o&&this.editor.focus(),r?s.setCursor(t):s.setCursor(t,null,{scroll:!1})},e.prototype.delegateScroll=function(t){this.editor.scrollTo(t.x,t.y)},e.prototype.delegateSelection=function(t,r){var o=this.editor.getDoc();o.setSelections(t),r&&this.editor.focus()},e.prototype.apply=function(t){t&&t.selection&&t.selection.ranges&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),t&&t.cursor&&this.delegateCursor(t.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1),t&&t.scroll&&this.delegateScroll(t.scroll)},e.prototype.applyNext=function(t,r,o){t&&t.selection&&t.selection.ranges&&r&&r.selection&&r.selection.ranges&&!$f.equals(t.selection.ranges,r.selection.ranges)&&this.delegateSelection(r.selection.ranges,r.selection.focus||!1),t&&t.cursor&&r&&r.cursor&&!$f.equals(t.cursor,r.cursor)&&this.delegateCursor(o.cursor||r.cursor,r.autoScroll||!1,r.autoCursor||!1),t&&t.scroll&&r&&r.scroll&&!$f.equals(t.scroll,r.scroll)&&this.delegateScroll(r.scroll)},e.prototype.applyUserDefined=function(t,r){r&&r.cursor&&this.delegateCursor(r.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(t){var r=this;Object.keys(t||{}).filter(function(o){return/^on/.test(o)}).forEach(function(o){switch(o){case"onBlur":r.editor.on("blur",function(s,c){r.props.onBlur(r.editor,c)});break;case"onContextMenu":{r.editor.on("contextmenu",function(s,c){r.props.onContextMenu(r.editor,c)});break}case"onCopy":{r.editor.on("copy",function(s,c){r.props.onCopy(r.editor,c)});break}case"onCursor":r.editor.on("cursorActivity",function(s){r.props.onCursor(r.editor,r.editor.getDoc().getCursor())});break;case"onCursorActivity":r.editor.on("cursorActivity",function(s){r.props.onCursorActivity(r.editor)});break;case"onCut":{r.editor.on("cut",function(s,c){r.props.onCut(r.editor,c)});break}case"onDblClick":{r.editor.on("dblclick",function(s,c){r.props.onDblClick(r.editor,c)});break}case"onDragEnter":r.editor.on("dragenter",function(s,c){r.props.onDragEnter(r.editor,c)});break;case"onDragLeave":{r.editor.on("dragleave",function(s,c){r.props.onDragLeave(r.editor,c)});break}case"onDragOver":r.editor.on("dragover",function(s,c){r.props.onDragOver(r.editor,c)});break;case"onDragStart":{r.editor.on("dragstart",function(s,c){r.props.onDragStart(r.editor,c)});break}case"onDrop":r.editor.on("drop",function(s,c){r.props.onDrop(r.editor,c)});break;case"onFocus":r.editor.on("focus",function(s,c){r.props.onFocus(r.editor,c)});break;case"onGutterClick":r.editor.on("gutterClick",function(s,c,f,p){r.props.onGutterClick(r.editor,c,f,p)});break;case"onInputRead":r.editor.on("inputRead",function(s,c){r.props.onInputRead(r.editor,c)});break;case"onKeyDown":r.editor.on("keydown",function(s,c){r.props.onKeyDown(r.editor,c)});break;case"onKeyHandled":r.editor.on("keyHandled",function(s,c,f){r.props.onKeyHandled(r.editor,c,f)});break;case"onKeyPress":r.editor.on("keypress",function(s,c){r.props.onKeyPress(r.editor,c)});break;case"onKeyUp":r.editor.on("keyup",function(s,c){r.props.onKeyUp(r.editor,c)});break;case"onMouseDown":{r.editor.on("mousedown",function(s,c){r.props.onMouseDown(r.editor,c)});break}case"onPaste":{r.editor.on("paste",function(s,c){r.props.onPaste(r.editor,c)});break}case"onRenderLine":{r.editor.on("renderLine",function(s,c,f){r.props.onRenderLine(r.editor,c,f)});break}case"onScroll":r.editor.on("scroll",function(s){r.props.onScroll(r.editor,r.editor.getScrollInfo())});break;case"onSelection":r.editor.on("beforeSelectionChange",function(s,c){r.props.onSelection(r.editor,c)});break;case"onTouchStart":{r.editor.on("touchstart",function(s,c){r.props.onTouchStart(r.editor,c)});break}case"onUpdate":r.editor.on("update",function(s){r.props.onUpdate(r.editor)});break;case"onViewportChange":r.editor.on("viewportChange",function(s,c,f){r.props.onViewportChange(r.editor,c,f)});break}})},e}(),hE=function(e){AC(t,e);function t(r){var o=e.call(this,r)||this;return pn||(o.applied=!1,o.appliedNext=!1,o.appliedUserDefined=!1,o.deferred=null,o.emulating=!1,o.hydrated=!1,o.initCb=function(){o.props.editorDidConfigure&&o.props.editorDidConfigure(o.editor)},o.mounted=!1),o}return t.prototype.hydrate=function(r){var o=this,s=r&&r.options?r.options:{},c=Bu({},ir.defaults,this.editor.options,s),f=Object.keys(c).some(function(p){return o.editor.getOption(p)!==c[p]});f&&Object.keys(c).forEach(function(p){s.hasOwnProperty(p)&&o.editor.getOption(p)!==c[p]&&(o.editor.setOption(p,c[p]),o.mirror.setOption(p,c[p]))}),this.hydrated||(this.deferred?this.resolveChange(r.value):this.initChange(r.value||"")),this.hydrated=!0},t.prototype.initChange=function(r){this.emulating=!0;var o=this.editor.getDoc(),s=o.lastLine(),c=o.getLine(o.lastLine()).length;o.replaceRange(r||"",{line:0,ch:0},{line:s,ch:c}),this.mirror.setValue(r),o.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(r){this.emulating=!0;var o=this.editor.getDoc();if(this.deferred.origin==="undo"?o.undo():this.deferred.origin==="redo"?o.redo():o.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),r&&r!==o.getValue()){var s=o.getCursor();o.setValue(r),o.setCursor(s)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(r){var o=this.editor.getDoc();return r.origin==="undo"?(o.setHistory(this.mirror.getHistory()),this.mirror.undo()):r.origin==="redo"?(o.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(r.text,r.from,r.to,r.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var r=this;pn||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&ir.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=ir(this.ref,this.props.options),this.shared=new IC(this.editor,this.props),this.mirror=ir(function(){},this.props.options),this.editor.on("electricInput",function(){r.mirror.setHistory(r.editor.getDoc().getHistory())}),this.editor.on("cursorActivity",function(){r.mirror.setCursor(r.editor.getDoc().getCursor())}),this.editor.on("beforeChange",function(o,s){if(!r.emulating){s.cancel(),r.deferred=s;var c=r.mirrorChange(r.deferred);r.props.onBeforeChange&&r.props.onBeforeChange(r.editor,r.deferred,c)}}),this.editor.on("change",function(o,s){r.mounted&&r.props.onChange&&r.props.onChange(r.editor,s,r.editor.getValue())}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(r){if(!pn){var o={cursor:null};this.props.value!==r.value&&(this.hydrated=!1),!this.props.autoCursor&&this.props.autoCursor!==void 0&&(o.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(r,this.props,o),this.appliedNext=!0),this.shared.applyUserDefined(r,o),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){pn||this.props.editorWillUnmount&&this.props.editorWillUnmount(ir)},t.prototype.shouldComponentUpdate=function(r,o){return!pn},t.prototype.render=function(){var r=this;if(pn)return null;var o=this.props.className?"react-codemirror2 ".concat(this.props.className):"react-codemirror2";return ju.createElement("div",{className:o,ref:function(c){return r.ref=c}})},t}(ju.Component),FC=Na.Controlled=hE,pE=function(e){AC(t,e);function t(r){var o=e.call(this,r)||this;return pn||(o.applied=!1,o.appliedUserDefined=!1,o.continueChange=!1,o.detached=!1,o.hydrated=!1,o.initCb=function(){o.props.editorDidConfigure&&o.props.editorDidConfigure(o.editor)},o.mounted=!1,o.onBeforeChangeCb=function(){o.continueChange=!0}),o}return t.prototype.hydrate=function(r){var o=this,s=r&&r.options?r.options:{},c=Bu({},ir.defaults,this.editor.options,s),f=Object.keys(c).some(function(S){return o.editor.getOption(S)!==c[S]});if(f&&Object.keys(c).forEach(function(S){s.hasOwnProperty(S)&&o.editor.getOption(S)!==c[S]&&o.editor.setOption(S,c[S])}),!this.hydrated){var p=this.editor.getDoc(),v=p.lastLine(),y=p.getLine(p.lastLine()).length;p.replaceRange(r.value||"",{line:0,ch:0},{line:v,ch:y})}this.hydrated=!0},t.prototype.componentDidMount=function(){var r=this;pn||(this.detached=this.props.detach===!0,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&ir.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=ir(this.ref,this.props.options),this.shared=new IC(this.editor,this.props),this.editor.on("beforeChange",function(o,s){r.props.onBeforeChange&&r.props.onBeforeChange(r.editor,s,r.editor.getValue(),r.onBeforeChangeCb)}),this.editor.on("change",function(o,s){!r.mounted||!r.props.onChange||(r.props.onBeforeChange?r.continueChange&&r.props.onChange(r.editor,s,r.editor.getValue()):r.props.onChange(r.editor,s,r.editor.getValue()))}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(r){if(this.detached&&this.props.detach===!1&&(this.detached=!1,r.editorDidAttach&&r.editorDidAttach(this.editor)),!this.detached&&this.props.detach===!0&&(this.detached=!0,r.editorDidDetach&&r.editorDidDetach(this.editor)),!(pn||this.detached)){var o={cursor:null};this.props.value!==r.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),!r.autoCursor&&r.autoCursor!==void 0&&(o.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(r),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(r,o),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){pn||this.props.editorWillUnmount&&this.props.editorWillUnmount(ir)},t.prototype.shouldComponentUpdate=function(r,o){var s=!0;return pn&&(s=!1),this.detached&&r.detach&&(s=!1),s},t.prototype.render=function(){var r=this;if(pn)return null;var o=this.props.className?"react-codemirror2 ".concat(this.props.className):"react-codemirror2";return ju.createElement("div",{className:o,ref:function(c){return r.ref=c}})},t}(ju.Component);Na.UnControlled=pE;(function(e,t){(function(r){r(NC())})(function(r){r.defineMode("javascript",function(o,s){var c=o.indentUnit,f=s.statementIndent,p=s.jsonld,v=s.json||p,y=s.trackScope!==!1,S=s.typescript,k=s.wordCharacters||/[\w$\xa1-\uffff]/,E=function(){function x(lt){return{type:lt,style:"keyword"}}var b=x("keyword a"),j=x("keyword b"),K=x("keyword c"),I=x("keyword d"),Y=x("operator"),be={type:"atom",style:"atom"};return{if:x("if"),while:b,with:b,else:j,do:j,try:j,finally:j,return:I,break:I,continue:I,new:x("new"),delete:K,void:K,throw:K,debugger:x("debugger"),var:x("var"),const:x("var"),let:x("var"),function:x("function"),catch:x("catch"),for:x("for"),switch:x("switch"),case:x("case"),default:x("default"),in:Y,typeof:Y,instanceof:Y,true:be,false:be,null:be,undefined:be,NaN:be,Infinity:be,this:x("this"),class:x("class"),super:x("atom"),yield:K,export:x("export"),import:x("import"),extends:K,await:K}}(),N=/[+\-*&%=<>!?|~^@]/,M=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function A(x){for(var b=!1,j,K=!1;(j=x.next())!=null;){if(!b){if(j=="/"&&!K)return;j=="["?K=!0:K&&j=="]"&&(K=!1)}b=!b&&j=="\\"}}var U,P;function _(x,b,j){return U=x,P=j,b}function R(x,b){var j=x.next();if(j=='"'||j=="'")return b.tokenize=F(j),b.tokenize(x,b);if(j=="."&&x.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return _("number","number");if(j=="."&&x.match(".."))return _("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(j))return _(j);if(j=="="&&x.eat(">"))return _("=>","operator");if(j=="0"&&x.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return _("number","number");if(/\d/.test(j))return x.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),_("number","number");if(j=="/")return x.eat("*")?(b.tokenize=H,H(x,b)):x.eat("/")?(x.skipToEnd(),_("comment","comment")):fn(x,b,1)?(A(x),x.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),_("regexp","string-2")):(x.eat("="),_("operator","operator",x.current()));if(j=="`")return b.tokenize=Z,Z(x,b);if(j=="#"&&x.peek()=="!")return x.skipToEnd(),_("meta","meta");if(j=="#"&&x.eatWhile(k))return _("variable","property");if(j=="<"&&x.match("!--")||j=="-"&&x.match("->")&&!/\S/.test(x.string.slice(0,x.start)))return x.skipToEnd(),_("comment","comment");if(N.test(j))return(j!=">"||!b.lexical||b.lexical.type!=">")&&(x.eat("=")?(j=="!"||j=="=")&&x.eat("="):/[<>*+\-|&?]/.test(j)&&(x.eat(j),j==">"&&x.eat(j))),j=="?"&&x.eat(".")?_("."):_("operator","operator",x.current());if(k.test(j)){x.eatWhile(k);var K=x.current();if(b.lastType!="."){if(E.propertyIsEnumerable(K)){var I=E[K];return _(I.type,I.style,K)}if(K=="async"&&x.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return _("async","keyword",K)}return _("variable","variable",K)}}function F(x){return function(b,j){var K=!1,I;if(p&&b.peek()=="@"&&b.match(M))return j.tokenize=R,_("jsonld-keyword","meta");for(;(I=b.next())!=null&&!(I==x&&!K);)K=!K&&I=="\\";return K||(j.tokenize=R),_("string","string")}}function H(x,b){for(var j=!1,K;K=x.next();){if(K=="/"&&j){b.tokenize=R;break}j=K=="*"}return _("comment","comment")}function Z(x,b){for(var j=!1,K;(K=x.next())!=null;){if(!j&&(K=="`"||K=="$"&&x.eat("{"))){b.tokenize=R;break}j=!j&&K=="\\"}return _("quasi","string-2",x.current())}var ne="([{}])";function re(x,b){b.fatArrowAt&&(b.fatArrowAt=null);var j=x.string.indexOf("=>",x.start);if(!(j<0)){if(S){var K=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(x.string.slice(x.start,j));K&&(j=K.index)}for(var I=0,Y=!1,be=j-1;be>=0;--be){var lt=x.string.charAt(be),Bt=ne.indexOf(lt);if(Bt>=0&&Bt<3){if(!I){++be;break}if(--I==0){lt=="("&&(Y=!0);break}}else if(Bt>=3&&Bt<6)++I;else if(k.test(lt))Y=!0;else if(/["'\/`]/.test(lt))for(;;--be){if(be==0)return;var oo=x.string.charAt(be-1);if(oo==lt&&x.string.charAt(be-2)!="\\"){be--;break}}else if(Y&&!I){++be;break}}Y&&!I&&(b.fatArrowAt=be)}}var Pe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ve(x,b,j,K,I,Y){this.indented=x,this.column=b,this.type=j,this.prev=I,this.info=Y,K!=null&&(this.align=K)}function nt(x,b){if(!y)return!1;for(var j=x.localVars;j;j=j.next)if(j.name==b)return!0;for(var K=x.context;K;K=K.prev)for(var j=K.vars;j;j=j.next)if(j.name==b)return!0}function Lt(x,b,j,K,I){var Y=x.cc;for($.state=x,$.stream=I,$.marked=null,$.cc=Y,$.style=b,x.lexical.hasOwnProperty("align")||(x.lexical.align=!0);;){var be=Y.length?Y.pop():v?me:Re;if(be(j,K)){for(;Y.length&&Y[Y.length-1].lex;)Y.pop()();return $.marked?$.marked:j=="variable"&&nt(x,K)?"variable-2":b}}}var $={state:null,column:null,marked:null,cc:null};function ae(){for(var x=arguments.length-1;x>=0;x--)$.cc.push(arguments[x])}function L(){return ae.apply(null,arguments),!0}function Yt(x,b){for(var j=b;j;j=j.next)if(j.name==x)return!0;return!1}function vt(x){var b=$.state;if($.marked="def",!!y){if(b.context){if(b.lexical.info=="var"&&b.context&&b.context.block){var j=ee(x,b.context);if(j!=null){b.context=j;return}}else if(!Yt(x,b.localVars)){b.localVars=new Ee(x,b.localVars);return}}s.globalVars&&!Yt(x,b.globalVars)&&(b.globalVars=new Ee(x,b.globalVars))}}function ee(x,b){if(b)if(b.block){var j=ee(x,b.prev);return j?j==b.prev?b:new pe(j,b.vars,!0):null}else return Yt(x,b.vars)?b:new pe(b.prev,new Ee(x,b.vars),!1);else return null}function ue(x){return x=="public"||x=="private"||x=="protected"||x=="abstract"||x=="readonly"}function pe(x,b,j){this.prev=x,this.vars=b,this.block=j}function Ee(x,b){this.name=x,this.next=b}var Me=new Ee("this",new Ee("arguments",null));function mt(){$.state.context=new pe($.state.context,$.state.localVars,!1),$.state.localVars=Me}function at(){$.state.context=new pe($.state.context,$.state.localVars,!0),$.state.localVars=null}mt.lex=at.lex=!0;function je(){$.state.localVars=$.state.context.vars,$.state.context=$.state.context.prev}je.lex=!0;function de(x,b){var j=function(){var K=$.state,I=K.indented;if(K.lexical.type=="stat")I=K.lexical.indented;else for(var Y=K.lexical;Y&&Y.type==")"&&Y.align;Y=Y.prev)I=Y.indented;K.lexical=new ve(I,$.stream.column(),x,null,K.lexical,b)};return j.lex=!0,j}function he(){var x=$.state;x.lexical.prev&&(x.lexical.type==")"&&(x.indented=x.lexical.indented),x.lexical=x.lexical.prev)}he.lex=!0;function Se(x){function b(j){return j==x?L():x==";"||j=="}"||j==")"||j=="]"?ae():L(b)}return b}function Re(x,b){return x=="var"?L(de("vardef",b),qi,Se(";"),he):x=="keyword a"?L(de("form"),Pr,Re,he):x=="keyword b"?L(de("form"),Re,he):x=="keyword d"?$.stream.match(/^\s*$/,!1)?L():L(de("stat"),Vn,Se(";"),he):x=="debugger"?L(Se(";")):x=="{"?L(de("}"),at,Qn,he,je):x==";"?L():x=="if"?($.state.lexical.info=="else"&&$.state.cc[$.state.cc.length-1]==he&&$.state.cc.pop()(),L(de("form"),Pr,Re,he,Zi)):x=="function"?L(kn):x=="for"?L(de("form"),at,Va,Re,je,he):x=="class"||S&&b=="interface"?($.marked="keyword",L(de("form",x=="class"?x:b),eo,he)):x=="variable"?S&&b=="declare"?($.marked="keyword",L(Re)):S&&(b=="module"||b=="enum"||b=="type")&&$.stream.match(/^\s*\w/,!1)?($.marked="keyword",b=="enum"?L(oe):b=="type"?L(Ja,Se("operator"),xe,Se(";")):L(de("form"),zt,Se("{"),de("}"),Qn,he,he)):S&&b=="namespace"?($.marked="keyword",L(de("form"),me,Re,he)):S&&b=="abstract"?($.marked="keyword",L(Re)):L(de("stat"),dc):x=="switch"?L(de("form"),Pr,Se("{"),de("}","switch"),at,Qn,he,he,je):x=="case"?L(me,Se(":")):x=="default"?L(Se(":")):x=="catch"?L(de("form"),mt,Gn,Re,he,je):x=="export"?L(de("stat"),to,he):x=="import"?L(de("stat"),Fr,he):x=="async"?L(Re):b=="@"?L(me,Re):ae(de("stat"),me,Se(";"),he)}function Gn(x){if(x=="(")return L(On,Se(")"))}function me(x,b){return un(x,b,!1)}function Pt(x,b){return un(x,b,!0)}function Pr(x){return x!="("?ae():L(de(")"),Vn,Se(")"),he)}function un(x,b,j){if($.state.fatArrowAt==$.stream.start){var K=j?vi:we;if(x=="(")return L(mt,de(")"),qe(On,")"),he,Se("=>"),K,je);if(x=="variable")return ae(mt,zt,Se("=>"),K,je)}var I=j?Jn:cn;return Pe.hasOwnProperty(x)?L(I):x=="function"?L(kn,I):x=="class"||S&&b=="interface"?($.marked="keyword",L(de("form"),gc,he)):x=="keyword c"||x=="async"?L(j?Pt:me):x=="("?L(de(")"),Vn,Se(")"),he,I):x=="operator"||x=="spread"?L(j?Pt:me):x=="["?L(de("]"),$e,he,I):x=="{"?Or(cr,"}",null,I):x=="quasi"?ae(ur,I):x=="new"?L(fc(j)):L()}function Vn(x){return x.match(/[;\}\)\],]/)?ae():ae(me)}function cn(x,b){return x==","?L(Vn):Jn(x,b,!1)}function Jn(x,b,j){var K=j==!1?cn:Jn,I=j==!1?me:Pt;if(x=="=>")return L(mt,j?vi:we,je);if(x=="operator")return/\+\+|--/.test(b)||S&&b=="!"?L(K):S&&b=="<"&&$.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?L(de(">"),qe(xe,">"),he,K):b=="?"?L(me,Se(":"),I):L(I);if(x=="quasi")return ae(ur,K);if(x!=";"){if(x=="(")return Or(Pt,")","call",K);if(x==".")return L(as,K);if(x=="[")return L(de("]"),Vn,Se("]"),he,K);if(S&&b=="as")return $.marked="keyword",L(xe,K);if(x=="regexp")return $.state.lastType=$.marked="operator",$.stream.backUp($.stream.pos-$.stream.start-1),L(I)}}function ur(x,b){return x!="quasi"?ae():b.slice(b.length-2)!="${"?L(ur):L(Vn,ss)}function ss(x){if(x=="}")return $.marked="string-2",$.state.tokenize=Z,L(ur)}function we(x){return re($.stream,$.state),ae(x=="{"?Re:me)}function vi(x){return re($.stream,$.state),ae(x=="{"?Re:Pt)}function fc(x){return function(b){return b=="."?L(x?$a:Wa):b=="variable"&&S?L(Xt,x?Jn:cn):ae(x?Pt:me)}}function Wa(x,b){if(b=="target")return $.marked="keyword",L(cn)}function $a(x,b){if(b=="target")return $.marked="keyword",L(Jn)}function dc(x){return x==":"?L(he,Re):ae(cn,Se(";"),he)}function as(x){if(x=="variable")return $.marked="property",L()}function cr(x,b){if(x=="async")return $.marked="property",L(cr);if(x=="variable"||$.style=="keyword"){if($.marked="property",b=="get"||b=="set")return L(Ka);var j;return S&&$.state.fatArrowAt==$.stream.start&&(j=$.stream.match(/^\s*:\s*/,!1))&&($.state.fatArrowAt=$.stream.pos+j[0].length),L(fr)}else{if(x=="number"||x=="string")return $.marked=p?"property":$.style+" property",L(fr);if(x=="jsonld-keyword")return L(fr);if(S&&ue(b))return $.marked="keyword",L(cr);if(x=="[")return L(me,Dr,Se("]"),fr);if(x=="spread")return L(Pt,fr);if(b=="*")return $.marked="keyword",L(cr);if(x==":")return ae(fr)}}function Ka(x){return x!="variable"?ae(fr):($.marked="property",L(kn))}function fr(x){if(x==":")return L(Pt);if(x=="(")return ae(kn)}function qe(x,b,j){function K(I,Y){if(j?j.indexOf(I)>-1:I==","){var be=$.state.lexical;return be.info=="call"&&(be.pos=(be.pos||0)+1),L(function(lt,Bt){return lt==b||Bt==b?ae():ae(x)},K)}return I==b||Y==b?L():j&&j.indexOf(";")>-1?ae(x):L(Se(b))}return function(I,Y){return I==b||Y==b?L():ae(x,K)}}function Or(x,b,j){for(var K=3;K<arguments.length;K++)$.cc.push(arguments[K]);return L(de(b,j),qe(x,b),he)}function Qn(x){return x=="}"?L():ae(Re,Qn)}function Dr(x,b){if(S){if(x==":")return L(xe);if(b=="?")return L(Dr)}}function mi(x,b){if(S&&(x==":"||b=="in"))return L(xe)}function Mr(x){if(S&&x==":")return $.stream.match(/^\s*\w+\s+is\b/,!1)?L(me,hc,xe):L(xe)}function hc(x,b){if(b=="is")return $.marked="keyword",L()}function xe(x,b){if(b=="keyof"||b=="typeof"||b=="infer"||b=="readonly")return $.marked="keyword",L(b=="typeof"?Pt:xe);if(x=="variable"||b=="void")return $.marked="type",L(xn);if(b=="|"||b=="&")return L(xe);if(x=="string"||x=="number"||x=="atom")return L(xn);if(x=="[")return L(de("]"),qe(xe,"]",","),he,xn);if(x=="{")return L(de("}"),ce,he,xn);if(x=="(")return L(qe(We,")"),Ga,xn);if(x=="<")return L(qe(xe,">"),xe);if(x=="quasi")return ae(kt,xn)}function Ga(x){if(x=="=>")return L(xe)}function ce(x){return x.match(/[\}\)\]]/)?L():x==","||x==";"?L(ce):ae(dr,ce)}function dr(x,b){if(x=="variable"||$.style=="keyword")return $.marked="property",L(dr);if(b=="?"||x=="number"||x=="string")return L(dr);if(x==":")return L(xe);if(x=="[")return L(Se("variable"),mi,Se("]"),dr);if(x=="(")return ae(Ir,dr);if(!x.match(/[;\}\)\],]/))return L()}function kt(x,b){return x!="quasi"?ae():b.slice(b.length-2)!="${"?L(kt):L(xe,He)}function He(x){if(x=="}")return $.marked="string-2",$.state.tokenize=Z,L(kt)}function We(x,b){return x=="variable"&&$.stream.match(/^\s*[?:]/,!1)||b=="?"?L(We):x==":"?L(xe):x=="spread"?L(We):ae(xe)}function xn(x,b){if(b=="<")return L(de(">"),qe(xe,">"),he,xn);if(b=="|"||x=="."||b=="&")return L(xe);if(x=="[")return L(xe,Se("]"),xn);if(b=="extends"||b=="implements")return $.marked="keyword",L(xe);if(b=="?")return L(xe,Se(":"),xe)}function Xt(x,b){if(b=="<")return L(de(">"),qe(xe,">"),he,xn)}function Ln(){return ae(xe,wt)}function wt(x,b){if(b=="=")return L(xe)}function qi(x,b){return b=="enum"?($.marked="keyword",L(oe)):ae(zt,Dr,Pn,pc)}function zt(x,b){if(S&&ue(b))return $.marked="keyword",L(zt);if(x=="variable")return vt(b),L();if(x=="spread")return L(zt);if(x=="[")return Or(ls,"]");if(x=="{")return Or(Nr,"}")}function Nr(x,b){return x=="variable"&&!$.stream.match(/^\s*:/,!1)?(vt(b),L(Pn)):(x=="variable"&&($.marked="property"),x=="spread"?L(zt):x=="}"?ae():x=="["?L(me,Se("]"),Se(":"),Nr):L(Se(":"),zt,Pn))}function ls(){return ae(zt,Pn)}function Pn(x,b){if(b=="=")return L(Pt)}function pc(x){if(x==",")return L(qi)}function Zi(x,b){if(x=="keyword b"&&b=="else")return L(de("form","else"),Re,he)}function Va(x,b){if(b=="await")return L(Va);if(x=="(")return L(de(")"),us,he)}function us(x){return x=="var"?L(qi,Ar):x=="variable"?L(Ar):ae(Ar)}function Ar(x,b){return x==")"?L():x==";"?L(Ar):b=="in"||b=="of"?($.marked="keyword",L(me,Ar)):ae(me,Ar)}function kn(x,b){if(b=="*")return $.marked="keyword",L(kn);if(x=="variable")return vt(b),L(kn);if(x=="(")return L(mt,de(")"),qe(On,")"),he,Mr,Re,je);if(S&&b=="<")return L(de(">"),qe(Ln,">"),he,kn)}function Ir(x,b){if(b=="*")return $.marked="keyword",L(Ir);if(x=="variable")return vt(b),L(Ir);if(x=="(")return L(mt,de(")"),qe(On,")"),he,Mr,je);if(S&&b=="<")return L(de(">"),qe(Ln,">"),he,Ir)}function Ja(x,b){if(x=="keyword"||x=="variable")return $.marked="type",L(Ja);if(b=="<")return L(de(">"),qe(Ln,">"),he)}function On(x,b){return b=="@"&&L(me,On),x=="spread"?L(On):S&&ue(b)?($.marked="keyword",L(On)):S&&x=="this"?L(Dr,Pn):ae(zt,Dr,Pn)}function gc(x,b){return x=="variable"?eo(x,b):Dn(x,b)}function eo(x,b){if(x=="variable")return vt(b),L(Dn)}function Dn(x,b){if(b=="<")return L(de(">"),qe(Ln,">"),he,Dn);if(b=="extends"||b=="implements"||S&&x==",")return b=="implements"&&($.marked="keyword"),L(S?xe:me,Dn);if(x=="{")return L(de("}"),Mn,he)}function Mn(x,b){if(x=="async"||x=="variable"&&(b=="static"||b=="get"||b=="set"||S&&ue(b))&&$.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return $.marked="keyword",L(Mn);if(x=="variable"||$.style=="keyword")return $.marked="property",L(yi,Mn);if(x=="number"||x=="string")return L(yi,Mn);if(x=="[")return L(me,Dr,Se("]"),yi,Mn);if(b=="*")return $.marked="keyword",L(Mn);if(S&&x=="(")return ae(Ir,Mn);if(x==";"||x==",")return L(Mn);if(x=="}")return L();if(b=="@")return L(me,Mn)}function yi(x,b){if(b=="!"||b=="?")return L(yi);if(x==":")return L(xe,Pn);if(b=="=")return L(Pt);var j=$.state.lexical.prev,K=j&&j.info=="interface";return ae(K?Ir:kn)}function to(x,b){return b=="*"?($.marked="keyword",L(io,Se(";"))):b=="default"?($.marked="keyword",L(me,Se(";"))):x=="{"?L(qe(no,"}"),io,Se(";")):ae(Re)}function no(x,b){if(b=="as")return $.marked="keyword",L(Se("variable"));if(x=="variable")return ae(Pt,no)}function Fr(x){return x=="string"?L():x=="("?ae(me):x=="."?ae(cn):ae(ro,Yn,io)}function ro(x,b){return x=="{"?Or(ro,"}"):(x=="variable"&&vt(b),b=="*"&&($.marked="keyword"),L(cs))}function Yn(x){if(x==",")return L(ro,Yn)}function cs(x,b){if(b=="as")return $.marked="keyword",L(ro)}function io(x,b){if(b=="from")return $.marked="keyword",L(me)}function $e(x){return x=="]"?L():ae(qe(Pt,"]"))}function oe(){return ae(de("form"),zt,Se("{"),de("}"),qe(hr,"}"),he,he)}function hr(){return ae(zt,Pn)}function fs(x,b){return x.lastType=="operator"||x.lastType==","||N.test(b.charAt(0))||/[,.]/.test(b.charAt(0))}function fn(x,b,j){return b.tokenize==R&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(b.lastType)||b.lastType=="quasi"&&/\{\s*$/.test(x.string.slice(0,x.pos-(j||0)))}return{startState:function(x){var b={tokenize:R,lastType:"sof",cc:[],lexical:new ve((x||0)-c,0,"block",!1),localVars:s.localVars,context:s.localVars&&new pe(null,null,!1),indented:x||0};return s.globalVars&&typeof s.globalVars=="object"&&(b.globalVars=s.globalVars),b},token:function(x,b){if(x.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=x.indentation(),re(x,b)),b.tokenize!=H&&x.eatSpace())return null;var j=b.tokenize(x,b);return U=="comment"?j:(b.lastType=U=="operator"&&(P=="++"||P=="--")?"incdec":U,Lt(b,j,U,P,x))},indent:function(x,b){if(x.tokenize==H||x.tokenize==Z)return r.Pass;if(x.tokenize!=R)return 0;var j=b&&b.charAt(0),K=x.lexical,I;if(!/^\s*else\b/.test(b))for(var Y=x.cc.length-1;Y>=0;--Y){var be=x.cc[Y];if(be==he)K=K.prev;else if(be!=Zi&&be!=je)break}for(;(K.type=="stat"||K.type=="form")&&(j=="}"||(I=x.cc[x.cc.length-1])&&(I==cn||I==Jn)&&!/^[,\.=+\-*:?[\(]/.test(b));)K=K.prev;f&&K.type==")"&&K.prev.type=="stat"&&(K=K.prev);var lt=K.type,Bt=j==lt;return lt=="vardef"?K.indented+(x.lastType=="operator"||x.lastType==","?K.info.length+1:0):lt=="form"&&j=="{"?K.indented:lt=="form"?K.indented+c:lt=="stat"?K.indented+(fs(x,b)?f||c:0):K.info=="switch"&&!Bt&&s.doubleIndentSwitch!=!1?K.indented+(/^(?:case|default)\b/.test(b)?c:2*c):K.align?K.column+(Bt?0:1):K.indented+(Bt?0:c)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:v?null:"/*",blockCommentEnd:v?null:"*/",blockCommentContinue:v?null:" * ",lineComment:v?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:v?"json":"javascript",jsonldMode:p,jsonMode:v,expressionAllowed:fn,skipExpression:function(x){Lt(x,"atom","atom","true",new r.StringStream("",2,null))}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();const gE=e=>{const{code:t,setCode:r,peerId:o,setChanges:s,editorRef:c}=e;X.useEffect(()=>{const y=document.querySelector(".iframe");if(y&&y.contentWindow){y.style.opacity="0";const S=y.contentDocument||y.contentWindow.document;S.open(),S.write(t.code),S.close(),y.style.opacity="1"}});const f=y=>({from:{line:y.from.line,ch:y.from.ch},to:{line:y.to.line,ch:y.to.ch},text:y.text,removed:y.removed}),p=(y,S)=>{console.log(y);let k;c.current&&(k=c.current.editor),k.replaceRange(S.text,S.from,S.to)};function v(){p(c,{from:{line:21,ch:9},to:{line:21,ch:9},text:"s",removed:""})}return Be.jsxs("div",{className:"code-editor",children:[Be.jsx("button",{onClick:v,children:"Update"}),Be.jsx("iframe",{className:"iframe",title:"Code Output"}),Be.jsx(FC,{ref:c,className:"IDE",value:t.code,options:{lineNumbers:!0,mode:"htmlmixed",theme:"3024-night"},onBeforeChange:(y,S,k)=>{r({author:o,code:k})},onChange:(y,S,k)=>{console.log(S);const E=f(S);console.log("Changes to send:",E),s(E)}})]})},vE=JSON.stringify(`
    
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Document</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            margin: 0;
            padding: 8px;
            box-sizing: border-box;
            text-align: center;
            background-color: #666;
        }
    </style>
</head>
<body>
    <h1>Welcome to DevRoulette!</h1>
    <p>Edit the code here to get started!</p>
</body>
</html>

`);function mE(){const[e,t]=X.useState(""),[r,o]=X.useState({author:"default",code:JSON.parse(vE)}),[s,c]=X.useState(null),f=X.useRef();return Be.jsxs("main",{className:"code",children:[Be.jsx("div",{className:"editor",children:Be.jsx(gE,{code:r,setCode:o,peerId:e,setChanges:c,editorRef:f})}),Be.jsx("div",{className:"chat",children:Be.jsx(dE,{code:r,setCode:o,peerId:e,setPeerId:t,changes:s,editorRef:f})})]})}function yE(){return Be.jsx(ab,{children:Be.jsxs(eb,{children:[Be.jsx(Bd,{path:"/",element:Be.jsx(db,{})}),Be.jsx(Bd,{path:"/code",element:Be.jsx(mE,{})})]})})}f1(document.getElementById("root")).render(Be.jsx(yE,{}));
//# sourceMappingURL=index-Pg0QS52V.js.map
