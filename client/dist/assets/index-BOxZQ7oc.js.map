{"version":3,"file":"index-BOxZQ7oc.js","sources":["../../node_modules/mime-db/index.js","../../node_modules/@codesandbox/sandpack-client/dist/clients/runtime/index.mjs"],"sourcesContent":["/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","import { _ as __awaiter, a as __generator, h as __assign, i as __spreadArray, g as __extends, b as createPackageJSON, c as createError, S as SandpackLogLevel, d as addPackageJSONIfNeeded, n as nullthrows, e as extractErrorDetails } from '../../utils-52664384.mjs';\nimport { dequal } from 'dequal';\nimport { S as SandpackClient } from '../../base-80a1f760.mjs';\nimport mimeDB from 'mime-db';\nimport 'outvariant';\n\n/**\n * This file is a copy of the resolver from the `codesandbox-api` package.\n * We wanted to avoid to reference codesandbox-api because of the code that runs on load in the package.\n * The plan is to take some time and refactor codesandbox-api into what it was supposed to be in the first place,\n * an abstraction over the actions that can be dispatched between the bundler and the iframe.\n */\nvar Protocol = /** @class */ (function () {\n    function Protocol(type, handleMessage, protocol) {\n        var _this = this;\n        this.type = type;\n        this.handleMessage = handleMessage;\n        this.protocol = protocol;\n        this._disposeMessageListener = this.protocol.channelListen(function (msg) { return __awaiter(_this, void 0, void 0, function () {\n            var message, result, response, err_1, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(msg.type === this.getTypeId() && msg.method)) return [3 /*break*/, 4];\n                        message = msg;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.handleMessage(message)];\n                    case 2:\n                        result = _a.sent();\n                        response = {\n                            type: this.getTypeId(),\n                            msgId: message.msgId,\n                            result: result,\n                        };\n                        this.protocol.dispatch(response);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_1 = _a.sent();\n                        response = {\n                            type: this.getTypeId(),\n                            msgId: message.msgId,\n                            error: {\n                                message: err_1.message,\n                            },\n                        };\n                        this.protocol.dispatch(response);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); });\n    }\n    Protocol.prototype.getTypeId = function () {\n        return \"protocol-\".concat(this.type);\n    };\n    Protocol.prototype.dispose = function () {\n        this._disposeMessageListener();\n    };\n    return Protocol;\n}());\n\nvar IFrameProtocol = /** @class */ (function () {\n    function IFrameProtocol(iframe, origin) {\n        // React to messages from any iframe\n        this.globalListeners = {};\n        this.globalListenersCount = 0;\n        // React to messages from the iframe owned by this instance\n        this.channelListeners = {};\n        this.channelListenersCount = 0;\n        // Random number to identify this instance of the client when messages are coming from multiple iframes\n        this.channelId = Math.floor(Math.random() * 1000000);\n        this.frameWindow = iframe.contentWindow;\n        this.origin = origin;\n        this.globalListeners = [];\n        this.channelListeners = [];\n        this.eventListener = this.eventListener.bind(this);\n        if (typeof window !== \"undefined\") {\n            window.addEventListener(\"message\", this.eventListener);\n        }\n    }\n    IFrameProtocol.prototype.cleanup = function () {\n        window.removeEventListener(\"message\", this.eventListener);\n        this.globalListeners = {};\n        this.channelListeners = {};\n        this.globalListenersCount = 0;\n        this.channelListenersCount = 0;\n    };\n    // Sends the channelId and triggers an iframeHandshake promise to resolve,\n    // so the iframe can start listening for messages (based on the id)\n    IFrameProtocol.prototype.register = function () {\n        if (!this.frameWindow) {\n            return;\n        }\n        this.frameWindow.postMessage({\n            type: \"register-frame\",\n            origin: document.location.origin,\n            id: this.channelId,\n        }, this.origin);\n    };\n    // Messages are dispatched from the client directly to the instance iframe\n    IFrameProtocol.prototype.dispatch = function (message) {\n        if (!this.frameWindow) {\n            return;\n        }\n        this.frameWindow.postMessage(__assign({ $id: this.channelId, codesandbox: true }, message), this.origin);\n    };\n    // Add a listener that is called on any message coming from an iframe in the page\n    // This is needed for the `initialize` message which comes without a channelId\n    IFrameProtocol.prototype.globalListen = function (listener) {\n        var _this = this;\n        if (typeof listener !== \"function\") {\n            return function () {\n                return;\n            };\n        }\n        var listenerId = this.globalListenersCount;\n        this.globalListeners[listenerId] = listener;\n        this.globalListenersCount++;\n        return function () {\n            delete _this.globalListeners[listenerId];\n        };\n    };\n    // Add a listener that is called on any message coming from an iframe with the instance channelId\n    // All other messages (eg: from other iframes) are ignored\n    IFrameProtocol.prototype.channelListen = function (listener) {\n        var _this = this;\n        if (typeof listener !== \"function\") {\n            return function () {\n                return;\n            };\n        }\n        var listenerId = this.channelListenersCount;\n        this.channelListeners[listenerId] = listener;\n        this.channelListenersCount++;\n        return function () {\n            delete _this.channelListeners[listenerId];\n        };\n    };\n    // Handles message windows coming from iframes\n    IFrameProtocol.prototype.eventListener = function (evt) {\n        // skip events originating from different iframes\n        if (evt.source !== this.frameWindow) {\n            return;\n        }\n        var message = evt.data;\n        if (!message.codesandbox) {\n            return;\n        }\n        Object.values(this.globalListeners).forEach(function (listener) {\n            return listener(message);\n        });\n        if (message.$id !== this.channelId) {\n            return;\n        }\n        Object.values(this.channelListeners).forEach(function (listener) {\n            return listener(message);\n        });\n    };\n    return IFrameProtocol;\n}());\n\nvar extensionMap = new Map();\nvar entries = Object.entries(mimeDB);\nfor (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n    var _a$1 = entries_1[_i], mimetype = _a$1[0], entry = _a$1[1];\n    // eslint-disable-next-line\n    // @ts-ignore\n    if (!entry.extensions) {\n        continue;\n    }\n    // eslint-disable-next-line\n    // @ts-ignore\n    var extensions = entry.extensions;\n    if (extensions.length) {\n        for (var _b = 0, extensions_1 = extensions; _b < extensions_1.length; _b++) {\n            var ext = extensions_1[_b];\n            extensionMap.set(ext, mimetype);\n        }\n    }\n}\nvar EXTENSIONS_MAP = extensionMap;\n\nvar CHANNEL_NAME = \"$CSB_RELAY\";\n\nvar MAX_CLIENT_DEPENDENCY_COUNT = 50;\nfunction getTemplate(pkg, \n/* eslint-disable @typescript-eslint/no-explicit-any */\nmodules) {\n    if (!pkg) {\n        return \"static\";\n    }\n    var _a = pkg.dependencies, dependencies = _a === void 0 ? {} : _a, _b = pkg.devDependencies, devDependencies = _b === void 0 ? {} : _b;\n    var totalDependencies = __spreadArray(__spreadArray([], Object.keys(dependencies), true), Object.keys(devDependencies), true);\n    var moduleNames = Object.keys(modules);\n    var adonis = [\"@adonisjs/framework\", \"@adonisjs/core\"];\n    if (totalDependencies.some(function (dep) { return adonis.indexOf(dep) > -1; })) {\n        return \"adonis\";\n    }\n    var nuxt = [\"nuxt\", \"nuxt-edge\", \"nuxt-ts\", \"nuxt-ts-edge\", \"nuxt3\"];\n    if (totalDependencies.some(function (dep) { return nuxt.indexOf(dep) > -1; })) {\n        return \"nuxt\";\n    }\n    if (totalDependencies.indexOf(\"next\") > -1) {\n        return \"next\";\n    }\n    var apollo = [\n        \"apollo-server\",\n        \"apollo-server-express\",\n        \"apollo-server-hapi\",\n        \"apollo-server-koa\",\n        \"apollo-server-lambda\",\n        \"apollo-server-micro\",\n    ];\n    if (totalDependencies.some(function (dep) { return apollo.indexOf(dep) > -1; })) {\n        return \"apollo\";\n    }\n    if (totalDependencies.indexOf(\"mdx-deck\") > -1) {\n        return \"mdx-deck\";\n    }\n    if (totalDependencies.indexOf(\"gridsome\") > -1) {\n        return \"gridsome\";\n    }\n    if (totalDependencies.indexOf(\"vuepress\") > -1) {\n        return \"vuepress\";\n    }\n    if (totalDependencies.indexOf(\"ember-cli\") > -1) {\n        return \"ember\";\n    }\n    if (totalDependencies.indexOf(\"sapper\") > -1) {\n        return \"sapper\";\n    }\n    if (totalDependencies.indexOf(\"gatsby\") > -1) {\n        return \"gatsby\";\n    }\n    if (totalDependencies.indexOf(\"quasar\") > -1) {\n        return \"quasar\";\n    }\n    if (totalDependencies.indexOf(\"@docusaurus/core\") > -1) {\n        return \"docusaurus\";\n    }\n    if (totalDependencies.indexOf(\"remix\") > -1) {\n        return \"remix\";\n    }\n    if (totalDependencies.indexOf(\"astro\") > -1) {\n        return \"node\";\n    }\n    // CLIENT\n    if (moduleNames.some(function (m) { return m.endsWith(\".re\"); })) {\n        return \"reason\";\n    }\n    var parcel = [\"parcel-bundler\", \"parcel\"];\n    if (totalDependencies.some(function (dep) { return parcel.indexOf(dep) > -1; })) {\n        return \"parcel\";\n    }\n    var dojo = [\"@dojo/core\", \"@dojo/framework\"];\n    if (totalDependencies.some(function (dep) { return dojo.indexOf(dep) > -1; })) {\n        return \"@dojo/cli-create-app\";\n    }\n    if (totalDependencies.indexOf(\"@nestjs/core\") > -1 ||\n        totalDependencies.indexOf(\"@nestjs/common\") > -1) {\n        return \"nest\";\n    }\n    if (totalDependencies.indexOf(\"react-styleguidist\") > -1) {\n        return \"styleguidist\";\n    }\n    if (totalDependencies.indexOf(\"react-scripts\") > -1) {\n        return \"create-react-app\";\n    }\n    if (totalDependencies.indexOf(\"react-scripts-ts\") > -1) {\n        return \"create-react-app-typescript\";\n    }\n    if (totalDependencies.indexOf(\"@angular/core\") > -1) {\n        return \"angular-cli\";\n    }\n    if (totalDependencies.indexOf(\"preact-cli\") > -1) {\n        return \"preact-cli\";\n    }\n    if (totalDependencies.indexOf(\"@sveltech/routify\") > -1 ||\n        totalDependencies.indexOf(\"@roxi/routify\") > -1) {\n        return \"node\";\n    }\n    if (totalDependencies.indexOf(\"vite\") > -1) {\n        return \"node\";\n    }\n    if (totalDependencies.indexOf(\"@frontity/core\") > -1) {\n        return \"node\";\n    }\n    if (totalDependencies.indexOf(\"svelte\") > -1) {\n        return \"svelte\";\n    }\n    if (totalDependencies.indexOf(\"vue\") > -1) {\n        return \"vue-cli\";\n    }\n    if (totalDependencies.indexOf(\"cx\") > -1) {\n        return \"cxjs\";\n    }\n    var nodeDeps = [\n        \"express\",\n        \"koa\",\n        \"nodemon\",\n        \"ts-node\",\n        \"@tensorflow/tfjs-node\",\n        \"webpack-dev-server\",\n        \"snowpack\",\n    ];\n    if (totalDependencies.some(function (dep) { return nodeDeps.indexOf(dep) > -1; })) {\n        return \"node\";\n    }\n    if (Object.keys(dependencies).length >= MAX_CLIENT_DEPENDENCY_COUNT) {\n        // The dependencies are too much for client sandboxes to handle\n        return \"node\";\n    }\n    return undefined;\n}\nfunction getExtension(filepath) {\n    var parts = filepath.split(\".\");\n    if (parts.length <= 1) {\n        return \"\";\n    }\n    else {\n        var ext = parts[parts.length - 1];\n        return ext;\n    }\n}\n\nvar _a;\nvar SUFFIX_PLACEHOLDER = \"-{{suffix}}\";\nvar BUNDLER_URL = \"https://\".concat((_a = \"2.19.8\") === null || _a === void 0 ? void 0 : _a.replace(/\\./g, \"-\")).concat(SUFFIX_PLACEHOLDER, \"-sandpack.codesandbox.io/\");\nvar SandpackRuntime = /** @class */ (function (_super) {\n    __extends(SandpackRuntime, _super);\n    function SandpackRuntime(selector, sandboxSetup, options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, selector, sandboxSetup, options) || this;\n        _this.getTranspilerContext = function () {\n            return new Promise(function (resolve) {\n                var unsubscribe = _this.listen(function (message) {\n                    if (message.type === \"transpiler-context\") {\n                        resolve(message.data);\n                        unsubscribe();\n                    }\n                });\n                _this.dispatch({ type: \"get-transpiler-context\" });\n            });\n        };\n        _this.getTranspiledFiles = function () {\n            return new Promise(function (resolve) {\n                var unsubscribe = _this.listen(function (message) {\n                    if (message.type === \"all-modules\") {\n                        resolve(message.data);\n                        unsubscribe();\n                    }\n                });\n                _this.dispatch({ type: \"get-modules\" });\n            });\n        };\n        _this.bundlerURL = _this.createBundlerURL();\n        _this.bundlerState = undefined;\n        _this.errors = [];\n        _this.status = \"initializing\";\n        if (typeof selector === \"string\") {\n            _this.selector = selector;\n            var element = document.querySelector(selector);\n            nullthrows(element, \"The element '\".concat(selector, \"' was not found\"));\n            _this.element = element;\n            _this.iframe = document.createElement(\"iframe\");\n            _this.initializeElement();\n        }\n        else {\n            _this.element = selector;\n            _this.iframe = selector;\n        }\n        if (!_this.iframe.getAttribute(\"sandbox\")) {\n            _this.iframe.setAttribute(\"sandbox\", \"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-downloads allow-pointer-lock\");\n            _this.iframe.setAttribute(\"allow\", \"accelerometer; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; clipboard-read; clipboard-write; xr-spatial-tracking;\");\n        }\n        _this.setLocationURLIntoIFrame();\n        _this.iframeProtocol = new IFrameProtocol(_this.iframe, _this.bundlerURL);\n        _this.unsubscribeGlobalListener = _this.iframeProtocol.globalListen(function (mes) {\n            if (mes.type !== \"initialized\" || !_this.iframe.contentWindow) {\n                return;\n            }\n            _this.iframeProtocol.register();\n            if (_this.options.fileResolver) {\n                _this.fileResolverProtocol = new Protocol(\"fs\", function (data) { return __awaiter(_this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        if (data.method === \"isFile\") {\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            return [2 /*return*/, this.options.fileResolver.isFile(data.params[0])];\n                        }\n                        else if (data.method === \"readFile\") {\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            return [2 /*return*/, this.options.fileResolver.readFile(data.params[0])];\n                        }\n                        else {\n                            throw new Error(\"Method not supported\");\n                        }\n                    });\n                }); }, _this.iframeProtocol);\n            }\n            _this.updateSandbox(_this.sandboxSetup, true);\n        });\n        _this.unsubscribeChannelListener = _this.iframeProtocol.channelListen(function (mes) {\n            switch (mes.type) {\n                case \"start\": {\n                    _this.errors = [];\n                    break;\n                }\n                case \"status\": {\n                    _this.status = mes.status;\n                    break;\n                }\n                case \"action\": {\n                    if (mes.action === \"show-error\") {\n                        _this.errors = __spreadArray(__spreadArray([], _this.errors, true), [extractErrorDetails(mes)], false);\n                    }\n                    break;\n                }\n                case \"done\": {\n                    _this.status = \"done\";\n                    break;\n                }\n                case \"state\": {\n                    _this.bundlerState = mes.state;\n                    break;\n                }\n            }\n        });\n        if (options.experimental_enableServiceWorker) {\n            _this.serviceWorkerHandshake();\n        }\n        return _this;\n    }\n    SandpackRuntime.prototype.createBundlerURL = function () {\n        var _a;\n        var bundlerURL = this.options.bundlerURL || BUNDLER_URL;\n        // if it's a custom, skip the rest\n        if (this.options.bundlerURL) {\n            return bundlerURL;\n        }\n        if (this.options.teamId) {\n            bundlerURL =\n                bundlerURL.replace(\"https://\", \"https://\" + this.options.teamId + \"-\") +\n                    \"?cache=\".concat(Date.now());\n        }\n        if (this.options.experimental_enableServiceWorker) {\n            var suffixes = [];\n            suffixes.push(Math.random().toString(36).slice(4));\n            bundlerURL = bundlerURL.replace(SUFFIX_PLACEHOLDER, \"-\".concat((_a = this.options.experimental_stableServiceWorkerId) !== null && _a !== void 0 ? _a : suffixes.join(\"-\")));\n        }\n        else {\n            bundlerURL = bundlerURL.replace(SUFFIX_PLACEHOLDER, \"\");\n        }\n        return bundlerURL;\n    };\n    SandpackRuntime.prototype.serviceWorkerHandshake = function () {\n        var _this = this;\n        var channel = new MessageChannel();\n        var iframeContentWindow = this.iframe.contentWindow;\n        if (!iframeContentWindow) {\n            throw new Error(\"Could not get iframe contentWindow\");\n        }\n        var port = channel.port1;\n        port.onmessage = function (evt) {\n            if (typeof evt.data === \"object\" && evt.data.$channel === CHANNEL_NAME) {\n                switch (evt.data.$type) {\n                    case \"preview/ready\":\n                        // no op for now\n                        break;\n                    case \"preview/request\":\n                        _this.handleWorkerRequest(evt.data, port);\n                        break;\n                }\n            }\n        };\n        var sendMessage = function () {\n            var initMsg = {\n                $channel: CHANNEL_NAME,\n                $type: \"preview/init\",\n            };\n            iframeContentWindow.postMessage(initMsg, \"*\", [channel.port2]);\n            _this.iframe.removeEventListener(\"load\", sendMessage);\n        };\n        this.iframe.addEventListener(\"load\", sendMessage);\n    };\n    SandpackRuntime.prototype.handleWorkerRequest = function (request, port) {\n        return __awaiter(this, void 0, void 0, function () {\n            var notFound, filepath_1, headers, files, file, modulesFromManager, body, extension, foundMimetype, responseMessage, err_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        notFound = function () {\n                            var responseMessage = {\n                                $channel: CHANNEL_NAME,\n                                $type: \"preview/response\",\n                                id: request.id,\n                                headers: {\n                                    \"Content-Type\": \"text/html; charset=utf-8\",\n                                },\n                                status: 404,\n                                body: \"File not found\",\n                            };\n                            port.postMessage(responseMessage);\n                        };\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, , 5]);\n                        filepath_1 = new URL(request.url, this.bundlerURL).pathname;\n                        headers = {};\n                        files = this.getFiles();\n                        file = files[filepath_1];\n                        if (!!file) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this.getTranspiledFiles()];\n                    case 2:\n                        modulesFromManager = _a.sent();\n                        file = modulesFromManager.find(function (item) {\n                            return item.path.endsWith(filepath_1);\n                        });\n                        if (!file) {\n                            notFound();\n                            return [2 /*return*/];\n                        }\n                        _a.label = 3;\n                    case 3:\n                        body = file.code;\n                        if (!headers[\"Content-Type\"]) {\n                            extension = getExtension(filepath_1);\n                            foundMimetype = EXTENSIONS_MAP.get(extension);\n                            if (foundMimetype) {\n                                headers[\"Content-Type\"] = foundMimetype;\n                            }\n                        }\n                        responseMessage = {\n                            $channel: CHANNEL_NAME,\n                            $type: \"preview/response\",\n                            id: request.id,\n                            headers: headers,\n                            status: 200,\n                            body: body,\n                        };\n                        port.postMessage(responseMessage);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        err_1 = _a.sent();\n                        console.error(err_1);\n                        notFound();\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SandpackRuntime.prototype.setLocationURLIntoIFrame = function () {\n        var _a;\n        var urlSource = this.options.startRoute\n            ? new URL(this.options.startRoute, this.bundlerURL).toString()\n            : this.bundlerURL;\n        (_a = this.iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.location.replace(urlSource);\n        this.iframe.src = urlSource;\n    };\n    SandpackRuntime.prototype.destroy = function () {\n        this.unsubscribeChannelListener();\n        this.unsubscribeGlobalListener();\n        this.iframeProtocol.cleanup();\n    };\n    SandpackRuntime.prototype.updateOptions = function (options) {\n        if (!dequal(this.options, options)) {\n            this.options = options;\n            this.updateSandbox();\n        }\n    };\n    SandpackRuntime.prototype.updateSandbox = function (sandboxSetup, isInitializationCompile) {\n        var _a, _b, _c, _d;\n        if (sandboxSetup === void 0) { sandboxSetup = this.sandboxSetup; }\n        this.sandboxSetup = __assign(__assign({}, this.sandboxSetup), sandboxSetup);\n        var files = this.getFiles();\n        var modules = Object.keys(files).reduce(function (prev, next) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[next] = {\n                code: files[next].code,\n                path: next,\n            }, _a)));\n        }, {});\n        var packageJSON = JSON.parse(createPackageJSON(this.sandboxSetup.dependencies, this.sandboxSetup.devDependencies, this.sandboxSetup.entry));\n        try {\n            packageJSON = JSON.parse(files[\"/package.json\"].code);\n        }\n        catch (e) {\n            console.error(createError(\"could not parse package.json file: \" + e.message));\n        }\n        // TODO move this to a common format\n        var normalizedModules = Object.keys(files).reduce(function (prev, next) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[next] = {\n                content: files[next].code,\n                path: next,\n            }, _a)));\n        }, {});\n        this.dispatch(__assign(__assign({}, this.options), { type: \"compile\", codesandbox: true, version: 3, isInitializationCompile: isInitializationCompile, modules: modules, reactDevTools: this.options.reactDevTools, externalResources: this.options.externalResources || [], hasFileResolver: Boolean(this.options.fileResolver), disableDependencyPreprocessing: this.sandboxSetup.disableDependencyPreprocessing, experimental_enableServiceWorker: this.options.experimental_enableServiceWorker, template: this.sandboxSetup.template ||\n                getTemplate(packageJSON, normalizedModules), showOpenInCodeSandbox: (_a = this.options.showOpenInCodeSandbox) !== null && _a !== void 0 ? _a : true, showErrorScreen: (_b = this.options.showErrorScreen) !== null && _b !== void 0 ? _b : true, showLoadingScreen: (_c = this.options.showLoadingScreen) !== null && _c !== void 0 ? _c : false, skipEval: this.options.skipEval || false, clearConsoleDisabled: !this.options.clearConsoleOnFirstCompile, logLevel: (_d = this.options.logLevel) !== null && _d !== void 0 ? _d : SandpackLogLevel.Info, customNpmRegistries: this.options.customNpmRegistries, teamId: this.options.teamId, sandboxId: this.options.sandboxId }));\n    };\n    SandpackRuntime.prototype.dispatch = function (message) {\n        /**\n         * Intercept \"refresh\" dispatch: this will make sure\n         * that the iframe is still in the location it's supposed to be.\n         * External links inside the iframe will change the location and\n         * prevent the user from navigating back.\n         */\n        if (message.type === \"refresh\") {\n            this.setLocationURLIntoIFrame();\n            if (this.options.experimental_enableServiceWorker) {\n                this.serviceWorkerHandshake();\n            }\n        }\n        this.iframeProtocol.dispatch(message);\n    };\n    SandpackRuntime.prototype.listen = function (listener) {\n        return this.iframeProtocol.channelListen(listener);\n    };\n    /**\n     * Get the URL of the contents of the current sandbox\n     */\n    SandpackRuntime.prototype.getCodeSandboxURL = function () {\n        var files = this.getFiles();\n        var paramFiles = Object.keys(files).reduce(function (prev, next) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[next.replace(\"/\", \"\")] = {\n                content: files[next].code,\n                isBinary: false,\n            }, _a)));\n        }, {});\n        return fetch(\"https://codesandbox.io/api/v1/sandboxes/define?json=1\", {\n            method: \"POST\",\n            body: JSON.stringify({ files: paramFiles }),\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n            },\n        })\n            .then(function (x) { return x.json(); })\n            .then(function (res) { return ({\n            sandboxId: res.sandbox_id,\n            editorUrl: \"https://codesandbox.io/s/\".concat(res.sandbox_id),\n            embedUrl: \"https://codesandbox.io/embed/\".concat(res.sandbox_id),\n        }); });\n    };\n    SandpackRuntime.prototype.getFiles = function () {\n        var sandboxSetup = this.sandboxSetup;\n        if (sandboxSetup.files[\"/package.json\"] === undefined) {\n            return addPackageJSONIfNeeded(sandboxSetup.files, sandboxSetup.dependencies, sandboxSetup.devDependencies, sandboxSetup.entry);\n        }\n        return this.sandboxSetup.files;\n    };\n    SandpackRuntime.prototype.initializeElement = function () {\n        this.iframe.style.border = \"0\";\n        this.iframe.style.width = this.options.width || \"100%\";\n        this.iframe.style.height = this.options.height || \"100%\";\n        this.iframe.style.overflow = \"hidden\";\n        nullthrows(this.element.parentNode, \"The given iframe does not have a parent.\");\n        this.element.parentNode.replaceChild(this.iframe, this.element);\n    };\n    return SandpackRuntime;\n}(SandpackClient));\n\nexport { SandpackRuntime };\n"],"names":["mimeDb","require$$0","Protocol","type","handleMessage","protocol","_this","msg","__awaiter","message","result","response","err_1","__generator","_a","IFrameProtocol","iframe","origin","__assign","listener","listenerId","evt","extensionMap","entries","mimeDB","_i","entries_1","_a$1","mimetype","entry","extensions","_b","extensions_1","ext","EXTENSIONS_MAP","CHANNEL_NAME","MAX_CLIENT_DEPENDENCY_COUNT","getTemplate","pkg","modules","dependencies","devDependencies","totalDependencies","__spreadArray","moduleNames","adonis","dep","nuxt","apollo","m","parcel","dojo","nodeDeps","getExtension","filepath","parts","SUFFIX_PLACEHOLDER","BUNDLER_URL","SandpackRuntime","_super","__extends","selector","sandboxSetup","options","resolve","unsubscribe","element","nullthrows","mes","data","extractErrorDetails","bundlerURL","suffixes","channel","iframeContentWindow","port","sendMessage","initMsg","request","notFound","filepath_1","headers","files","file","modulesFromManager","body","extension","foundMimetype","responseMessage","item","urlSource","dequal","isInitializationCompile","_c","_d","prev","next","packageJSON","createPackageJSON","e","createError","normalizedModules","SandpackLogLevel","paramFiles","x","res","addPackageJSONIfNeeded","SandpackClient"],"mappings":"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","x_google_ignoreList":[0,1]}